(()=>{var e={};e.id=195,e.ids=[195],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},85563:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>d,routeModule:()=>x,tree:()=>c}),s(98728),s(11506),s(35866);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["rewards",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,98728)),"C:\\Users\\adria\\OneDrive\\Documentos\\Xquisito\\Desarrollo\\Portal-de-Administraci-n-de-Restaurantes-Xquisito---Fork\\app\\rewards\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,11506)),"C:\\Users\\adria\\OneDrive\\Documentos\\Xquisito\\Desarrollo\\Portal-de-Administraci-n-de-Restaurantes-Xquisito---Fork\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\adria\\OneDrive\\Documentos\\Xquisito\\Desarrollo\\Portal-de-Administraci-n-de-Restaurantes-Xquisito---Fork\\app\\rewards\\page.tsx"],m="/rewards/page",u={require:s,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/rewards/page",pathname:"/rewards",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23636:(e,t,s)=>{Promise.resolve().then(s.bind(s,46295))},99275:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},58762:()=>{},46295:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>tk});var a=s(10326),r=s(79094),n=s(17577),i=s.n(n),l=s(62881);let o=(0,l.Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var c=s(94019),d=s(40765),m=s(24061);let u=(0,l.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var x=s(77636),h=s(17069),p=s(48998),g=s(57671),f=s(71821),b=s(67427);let y=(0,l.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var v=s(21405);let j=({isOpen:e,onClose:t,onApplySegment:s})=>{let[r,i]=(0,n.useState)(""),[l,j]=(0,n.useState)({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"}),[N,w]=(0,n.useState)(""),k=(0,n.useRef)(null),C=(0,n.useRef)(null),S=Object.values(l).filter(e=>"all"!==e).length;(0,n.useEffect)(()=>{let s=s=>{e&&"Escape"===s.key&&t()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]),(0,n.useEffect)(()=>{e&&C.current&&setTimeout(()=>{C.current.focus(),C.current.select()},100)},[e]);let P=e=>e.trim()?(w(""),!0):(w("Ingresa un nombre para el segmento"),!1),E=(e,t)=>{j(s=>({...s,[e]:t}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:t,"aria-hidden":"true"}),(0,a.jsxs)("div",{ref:k,className:"relative w-full max-w-4xl mx-auto p-6 bg-white rounded-2xl shadow-xl overflow-y-auto max-h-[90vh] animate-in slide-in-from-bottom-4 duration-200 ease-out",role:"dialog","aria-modal":"true","aria-labelledby":"segment-modal-title",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:a.jsx(o,{className:"h-6 w-6 text-custom-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{id:"segment-modal-title",className:"text-2xl font-semibold text-gray-900",children:"Crear segmento"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define los criterios para segmentar a tus clientes"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar modal",children:a.jsx(c.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"segment-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del segmento"}),a.jsx("input",{ref:C,type:"text",id:"segment-name",value:r,onChange:e=>{let t=e.target.value;i(t),P(t)},placeholder:"Ej. Clientes frecuentes",className:`w-full px-3 py-2 border ${N?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]`}),N&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:N})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Etiquetas"]}),(0,a.jsxs)("select",{value:l.tags,onChange:e=>E("tags",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las etiquetas"}),a.jsx("option",{value:"vip",children:"VIP"}),a.jsx("option",{value:"frequent",children:"Frecuente"}),a.jsx("option",{value:"new",children:"Nuevo cliente"}),a.jsx("option",{value:"inactive",children:"Inactivo"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(m.Z,{className:"h-4 w-4 inline mr-1"}),"G\xe9nero"]}),(0,a.jsxs)("select",{value:l.gender,onChange:e=>E("gender",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todos los g\xe9neros"}),a.jsx("option",{value:"male",children:"Masculino"}),a.jsx("option",{value:"female",children:"Femenino"}),a.jsx("option",{value:"other",children:"Otro"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(u,{className:"h-4 w-4 inline mr-1"}),"Rango de edad"]}),(0,a.jsxs)("select",{value:l.age_range,onChange:e=>E("age_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las edades"}),a.jsx("option",{value:"18-25",children:"18-25 a\xf1os"}),a.jsx("option",{value:"26-35",children:"26-35 a\xf1os"}),a.jsx("option",{value:"36-45",children:"36-45 a\xf1os"}),a.jsx("option",{value:"46-55",children:"46-55 a\xf1os"}),a.jsx("option",{value:"56+",children:"56+ a\xf1os"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(x.Z,{className:"h-4 w-4 inline mr-1"}),"Ubicaci\xf3n"]}),(0,a.jsxs)("select",{value:l.location,onChange:e=>E("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las ubicaciones"}),a.jsx("option",{value:"cdmx",children:"Ciudad de M\xe9xico"}),a.jsx("option",{value:"guadalajara",children:"Guadalajara"}),a.jsx("option",{value:"monterrey",children:"Monterrey"}),a.jsx("option",{value:"puebla",children:"Puebla"}),a.jsx("option",{value:"other",children:"Otras ciudades"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(h.Z,{className:"h-4 w-4 inline mr-1"}),"N\xfamero de visitas"]}),(0,a.jsxs)("select",{value:l.number_of_visits,onChange:e=>E("number_of_visits",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier cantidad"}),a.jsx("option",{value:"1",children:"1 visita"}),a.jsx("option",{value:"2-5",children:"2-5 visitas"}),a.jsx("option",{value:"more_than_5",children:"M\xe1s de 5 visitas"}),a.jsx("option",{value:"more_than_10",children:"M\xe1s de 10 visitas"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(p.Z,{className:"h-4 w-4 inline mr-1"}),"\xdaltima visita"]}),(0,a.jsxs)("select",{value:l.last_visit,onChange:e=>E("last_visit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier fecha"}),a.jsx("option",{value:"last_7_days",children:"\xdaltimos 7 d\xedas"}),a.jsx("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),a.jsx("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),a.jsx("option",{value:"more_than_90_days",children:"M\xe1s de 90 d\xedas"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(g.Z,{className:"h-4 w-4 inline mr-1"}),"Ticket promedio"]}),(0,a.jsxs)("select",{value:l.single_purchase_total,onChange:e=>E("single_purchase_total",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier monto"}),a.jsx("option",{value:"less_than_200",children:"Menos de $200"}),a.jsx("option",{value:"200-500",children:"$200 - $500"}),a.jsx("option",{value:"greater_than_500",children:"M\xe1s de $500"}),a.jsx("option",{value:"greater_than_1000",children:"M\xe1s de $1,000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(f.Z,{className:"h-4 w-4 inline mr-1"}),"Total gastado"]}),(0,a.jsxs)("select",{value:l.total_spent,onChange:e=>E("total_spent",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier monto"}),a.jsx("option",{value:"less_than_1000",children:"Menos de $1,000"}),a.jsx("option",{value:"1000-5000",children:"$1,000 - $5,000"}),a.jsx("option",{value:"greater_than_5000",children:"M\xe1s de $5,000"}),a.jsx("option",{value:"greater_than_10000",children:"M\xe1s de $10,000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(b.Z,{className:"h-4 w-4 inline mr-1"}),"Categor\xeda favorita"]}),(0,a.jsxs)("select",{value:l.favorite_category,onChange:e=>E("favorite_category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las categor\xedas"}),a.jsx("option",{value:"beverages",children:"Bebidas"}),a.jsx("option",{value:"food",children:"Comida"}),a.jsx("option",{value:"desserts",children:"Postres"}),a.jsx("option",{value:"snacks",children:"Snacks"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(u,{className:"h-4 w-4 inline mr-1"}),"Fecha de registro"]}),(0,a.jsxs)("select",{value:l.registration_date,onChange:e=>E("registration_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier fecha"}),a.jsx("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),a.jsx("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),a.jsx("option",{value:"last_year",children:"\xdaltimo a\xf1o"}),a.jsx("option",{value:"more_than_year",children:"M\xe1s de un a\xf1o"})]})]})]}),S>0&&a.jsx("div",{className:"mb-6 p-4 bg-custom-green-50 rounded-lg border border-custom-green-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(y,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-custom-green-800",children:[S," filtro",1!==S?"s":""," activo",1!==S?"s":""]})]}),(0,a.jsxs)("button",{onClick:()=>{j({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"})},className:"text-sm text-custom-green-600 hover:text-custom-green-700 font-medium flex items-center",children:[a.jsx(v.Z,{className:"h-4 w-4 mr-1"}),"Limpiar filtros"]})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:()=>{if(!P(r)){C.current?.focus();return}s({segment_name:r,filters:l,activeFiltersCount:S})},disabled:!r.trim(),className:`px-4 py-2 rounded-lg text-white ${r.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500`,children:"Aplicar segmento"})]})]})]}):null};var N=s(32933);let w=(0,l.Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),k=(0,l.Z)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]]),C=({isOpen:e,onClose:t,onCreateSegment:s,onDesignTemplate:r,onNext:i,savedSegments:l,savedTemplates:o})=>{let[d,m]=(0,n.useState)(""),[u,x]=(0,n.useState)(null),[h,p]=(0,n.useState)(null);if(!e)return null;let g=e=>{u&&u.id===e.id?x(null):x(e)},f=e=>{h&&h.id===e.id?p(null):p(e)};return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Crear nueva campa\xf1a"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:a.jsx(c.Z,{className:"h-6 w-6"})})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Selecciona segmento y template, y nombra tu campa\xf1a."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:`border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ${u?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"}`,onClick:s,children:[u&&a.jsx("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:a.jsx(N.Z,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:a.jsx(w,{className:"h-8 w-8 text-custom-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Crear segmento"}),u?(0,a.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[a.jsx(w,{className:"h-3 w-3 mr-1"}),"Segmento aplicado: ",u.segment_name]}):a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Define a qui\xe9n ir\xe1 dirigida (frecuencia, ticket, preferencias)."})]}),(0,a.jsxs)("div",{className:`border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ${h?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"}`,onClick:r,children:[h&&a.jsx("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:a.jsx(N.Z,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:a.jsx(k,{className:"h-8 w-8 text-custom-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dise\xf1ar template"}),h?(0,a.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[a.jsx(k,{className:"h-3 w-3 mr-1"}),"Template aplicado: ",h.name,h.isPreset&&a.jsx("span",{className:"ml-1 text-xs bg-custom-green-100 text-custom-green-800 px-1.5 py-0.5 rounded-full",children:"Predise\xf1ado"})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Elige o crea el dise\xf1o del Email o SMS."})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Tambi\xe9n puedes elegir uno de tus segmentos o dise\xf1os guardados"}),a.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Segmentos guardados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:l.map(e=>(0,a.jsxs)("div",{onClick:()=>g(e),className:`border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ${u?.id===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:a.jsx(w,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.segment_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.activeFiltersCount," filtros"]})]})]}),u?.id===e.id&&a.jsx("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))}),a.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Templates guardados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:o.map(e=>(0,a.jsxs)("div",{onClick:()=>f(e),className:`border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ${h?.id===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:a.jsx(k,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.blocks.length," bloques"]})]})]}),h?.id===e.id&&a.jsx("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("label",{htmlFor:"campaign-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la campa\xf1a"}),a.jsx("input",{type:"text",id:"campaign-name",placeholder:"Ej. Promo regreso a clases – septiembre",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{d.trim()&&i(d,u,h)},disabled:!d.trim(),className:`px-4 py-2 rounded-lg text-white ${d.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Siguiente"})]})]})]})};var S=s(62440),P=s(47035);let E=(0,l.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),A=(0,l.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),O=(0,l.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),D=(0,l.Z)("SeparatorHorizontal",[["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["polyline",{points:"8 8 12 4 16 8",key:"zo8t4w"}],["polyline",{points:"16 16 12 20 8 16",key:"1oyrid"}]]),_=(0,l.Z)("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),$=(0,l.Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var M=s(78618),T=s(33734);let Z=[{id:"preset-1",name:"Bienvenida - Cliente Nuevo",description:"Template ideal para dar la bienvenida a nuevos clientes.",category:"Bienvenida",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Bienvenido a Holy Cow!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Estamos felices de tenerte como parte de nuestra comunidad. Como agradecimiento, te regalamos un postre en tu primera visita."},{id:"4",type:"button",content:"Reclamar regalo"}]},{id:"preset-2",name:"Cumplea\xf1os - Regalo Especial",description:"Celebra el cumplea\xf1os de tus clientes con una oferta especial.",category:"Cumplea\xf1os",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"En tu d\xeda especial queremos celebrar contigo. Te regalamos un postre de cumplea\xf1os completamente gratis."},{id:"4",type:"button",content:"Reclamar regalo de cumplea\xf1os"}]},{id:"preset-3",name:"Descuento Especial - 20%",description:"Promociona un descuento especial por tiempo limitado.",category:"Promociones",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa120% DE DESCUENTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Disfruta de un 20% de descuento en tu pr\xf3xima compra. Oferta v\xe1lida por tiempo limitado."},{id:"4",type:"button",content:"Usar descuento ahora"}]},{id:"preset-4",name:"Producto Nuevo - Lanzamiento",description:"Anuncia el lanzamiento de un nuevo producto.",category:"Lanzamientos",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1NUEVO PRODUCTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Presentamos nuestro nuevo producto. S\xe9 uno de los primeros en probarlo con un 15% de descuento."},{id:"4",type:"button",content:"Probar ahora"}]},{id:"preset-5",name:"Cliente Inactivo - Regresa",description:"Recupera clientes inactivos con una oferta especial.",category:"Reactivaci\xf3n",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Te extra\xf1amos!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Hace tiempo que no te vemos. Regresa y disfruta de un 25% de descuento en tu pr\xf3xima visita."},{id:"4",type:"button",content:"Volver a visitar"}]},{id:"preset-6",name:"Evento Especial - Invitaci\xf3n",description:"Invita a tus clientes a un evento exclusivo.",category:"Eventos",popularity:"Baja",isPreset:!0,image:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"Invitaci\xf3n Exclusiva"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Est\xe1s invitado a nuestro evento exclusivo. Disfruta de degustaciones, m\xfasica en vivo y sorpresas."},{id:"4",type:"button",content:"Confirmar asistencia"}]}],q=({isOpen:e,onClose:t,onSelectTemplate:s})=>{let[r,i]=(0,n.useState)(null);if(!e)return null;let l=r?Z.filter(e=>e.category===r):Z,o=Array.from(new Set(Z.map(e=>e.category)));return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(d.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Templates predise\xf1ados"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:a.jsx(c.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>i(null),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${null===r?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),o.map(e=>a.jsx("button",{onClick:()=>i(e),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${r===e?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"relative h-40 overflow-hidden bg-gray-100",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-2 right-2",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-custom-green-100 text-custom-green-800",children:[a.jsx(d.Z,{className:"h-3 w-3 mr-1"}),"Predise\xf1ado"]})}),"Alta"===e.popularity&&a.jsx("div",{className:"absolute top-2 left-2",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[a.jsx(T.Z,{className:"h-3 w-3 mr-1"}),"Popular"]})})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:e.category}),(0,a.jsxs)("button",{onClick:()=>s(e),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[a.jsx(N.Z,{className:"h-4 w-4 mr-1"}),"Usar este"]})]})]})]},e.id))})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"})})]})]})},z=({isOpen:e,onClose:t,onSave:s,initialTemplate:r=null})=>{let[i,l]=(0,n.useState)(r?.name||"Nuevo Template"),[o,d]=(0,n.useState)(r?.blocks||[{id:"1",type:"title",content:"T\xedtulo de la campa\xf1a"},{id:"2",type:"text",content:"Descripci\xf3n de la campa\xf1a que explica los beneficios para tus clientes."}]),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)(!1);if((0,n.useEffect)(()=>{r&&(l(r.name),d(r.blocks))},[r]),!e)return null;let p=e=>{d([...o,{id:Date.now().toString(),type:e,content:g(e)}])},g=e=>{switch(e){case"title":return"Nuevo t\xedtulo";case"text":return"Nuevo texto";case"image":return"https://via.placeholder.com/600x300";case"button":return"Bot\xf3n de acci\xf3n";default:return""}},f=e=>{d(o.filter(t=>t.id!==e))},b=e=>{switch(e.type){case"title":return a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.content});case"text":return a.jsx("p",{className:"text-base text-gray-700",children:e.content});case"image":return a.jsx("img",{src:e.content,alt:"Content",className:"w-full h-auto rounded-lg"});case"button":return a.jsx("button",{className:"bg-custom-green-600 text-white px-6 py-2 rounded-lg font-medium",children:e.content});case"separator":return a.jsx("hr",{className:"border-t border-gray-200 my-4"});default:return null}};return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(k,{className:"h-5 w-5 text-custom-green-600 mr-2"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dise\xf1ar template"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:a.jsx(c.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[a.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del template"}),a.jsx("input",{type:"text",id:"template-name",value:i,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-custom-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-4 border-r border-gray-200",children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 max-w-md mx-auto",children:a.jsx(M.Z5,{onDragEnd:e=>{if(!e.destination)return;let t=Array.from(o),[s]=t.splice(e.source.index,1);t.splice(e.destination.index,0,s),d(t)},children:a.jsx(M.bK,{droppableId:"blocks",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[o.map((e,t)=>a.jsx(M._l,{draggableId:e.id,index:t,children:(t,s)=>(0,a.jsxs)("div",{ref:t.innerRef,...t.draggableProps,className:`p-3 rounded-lg relative group ${s.isDragging?"bg-gray-50 shadow-md":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("div",{...t.dragHandleProps,className:"cursor-grab text-gray-400 hover:text-gray-600",children:a.jsx(S.Z,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700",children:a.jsx(P.Z,{className:"h-4 w-4"})})]}),b(e)]})},e.id)),e.placeholder]})})})})}),(0,a.jsxs)("div",{className:"w-64 bg-gray-50 p-4 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Bloques de contenido"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{onClick:()=>p("title"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(E,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"T\xedtulo"})]}),(0,a.jsxs)("div",{onClick:()=>p("text"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(A,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Texto"})]}),(0,a.jsxs)("div",{onClick:()=>p("image"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(O,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Imagen"})]}),(0,a.jsxs)("div",{onClick:()=>p("separator"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(D,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Separador"})]}),(0,a.jsxs)("div",{onClick:()=>p("button"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(_,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Bot\xf3n"})]})]}),(0,a.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6 space-y-4",children:[a.jsx("button",{onClick:()=>{h(!0)},className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:a.jsx("span",{className:"text-sm font-medium",children:"Crear desde cero"})}),a.jsx("button",{onClick:()=>u(!0),className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:a.jsx("span",{className:"text-sm font-medium",children:"Ver templates predise\xf1ados"})}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Explora templates listos para usar como base para tu campa\xf1a"})]}),(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Instrucciones"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-600 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Haz clic en un bloque para editarlo"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Arrastra y suelta para reordenar"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Usa el \xedcono de papelera para eliminar"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{s({id:Date.now(),name:i,blocks:o})},className:"px-4 py-2 bg-custom-green-600 text-white rounded-lg hover:bg-custom-green-700",children:"Guardar template"})]})]}),a.jsx(q,{isOpen:m,onClose:()=>u(!1),onSelectTemplate:e=>{l(e.name),d(e.blocks),u(!1)}}),x&&(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-[1px]",onClick:()=>h(!1)}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-auto p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 text-amber-600",children:[a.jsx($,{className:"h-6 w-6 mr-2"}),a.jsx("h3",{className:"text-lg font-medium",children:"Confirmar reinicio"})]}),a.jsx("p",{className:"mb-6 text-gray-600",children:"\xbfEst\xe1s seguro de que quieres comenzar desde cero? Se eliminar\xe1n todos los bloques actuales de este template."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{d([{id:Date.now().toString(),type:"text",content:"Empieza a construir tu campa\xf1a usando los bloques de contenido a la derecha"}]),h(!1)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"S\xed, comenzar desde cero"})]})]})]})]})},F=(0,l.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),L=(0,l.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),R=({isOpen:e,onClose:t,onCreateCampaign:s,campaignName:r,selectedSegment:i,selectedTemplate:l})=>{let o=new Date().toISOString().split("T")[0],m=new Date;m.setDate(m.getDate()+30);let x=m.toISOString().split("T")[0],[h,p]=(0,n.useState)({email:!0,sms:!1}),[g,f]=(0,n.useState)(o),[b,y]=(0,n.useState)(x),[v,j]=(0,n.useState)(""),[w,k]=(0,n.useState)(""),[C,S]=(0,n.useState)(""),[P,E]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=h.email||h.sms,t=!C&&g&&b;E(e&&t)},[h,g,b,C]),(0,n.useEffect)(()=>{if(g&&b){let e=new Date(g);new Date(b)<e?S("La fecha de fin debe ser posterior a la fecha de inicio"):S("")}},[g,b]);let A=e=>{p(t=>({...t,[e]:!t[e]}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Configurar detalles de la campa\xf1a"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:a.jsx(c.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx(N.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Campa\xf1a:"," ",a.jsx("span",{className:"text-custom-green-600",children:r})]})]}),i&&(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx(N.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Segmento:"," ",a.jsx("span",{className:"text-custom-green-600",children:i.segment_name})]})]}),l&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(N.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Template:"," ",a.jsx("span",{className:"text-custom-green-600",children:l.name})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["M\xe9todo de env\xedo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${h.email?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>A("email"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 ${h.email?"bg-custom-green-100":"bg-gray-100"}`,children:a.jsx(F,{className:`h-5 w-5 ${h.email?"text-custom-green-600":"text-gray-500"}`})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Email"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por correo electr\xf3nico"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx("div",{className:`w-5 h-5 rounded-full border ${h.email?"border-custom-green-600 bg-custom-green-600":"border-gray-300"} flex items-center justify-center`,children:h.email&&a.jsx(N.Z,{className:"h-3 w-3 text-white"})})})]})}),a.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${h.sms?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>A("sms"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 ${h.sms?"bg-custom-green-100":"bg-gray-100"}`,children:a.jsx(L,{className:`h-5 w-5 ${h.sms?"text-custom-green-600":"text-gray-500"}`})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"SMS"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por mensaje de texto"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx("div",{className:`w-5 h-5 rounded-full border ${h.sms?"border-custom-green-600 bg-custom-green-600":"border-gray-300"} flex items-center justify-center`,children:h.sms&&a.jsx(N.Z,{className:"h-3 w-3 text-white"})})})]})})]}),!h.email&&!h.sms&&(0,a.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($,{className:"h-4 w-4 mr-1"}),"Selecciona al menos un m\xe9todo de env\xedo"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Fechas de la campa\xf1a ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"start-date",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(u,{className:"h-4 w-4 inline mr-1"}),"Fecha de inicio"]}),a.jsx("input",{type:"date",id:"start-date",min:o,value:g,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"end-date",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(u,{className:"h-4 w-4 inline mr-1"}),"Fecha de fin"]}),a.jsx("input",{type:"date",id:"end-date",min:g,value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]})]}),C&&(0,a.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($,{className:"h-4 w-4 mr-1"}),C]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["C\xf3digo de recompensa"," ",a.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"reward-code",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"C\xf3digo promocional"]}),a.jsx("input",{type:"text",id:"reward-code",placeholder:"Ej. CUMPLE20",value:v,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"El c\xf3digo que los clientes usar\xe1n para canjear la promoci\xf3n"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"discount-percentage",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Porcentaje de descuento"]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",id:"discount-percentage",placeholder:"Ej. 20",value:w,onChange:e=>{let t=e.target.value;(""===t||/^\d+$/.test(t)&&100>=parseInt(t))&&k(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 pr-8"}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Porcentaje de descuento asociado al c\xf3digo (0-100)"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{P&&s({deliveryMethods:h,startDate:g,endDate:b,rewardCode:v,discountPercentage:w?parseInt(w):0})},disabled:!P,className:`px-4 py-2 rounded-lg text-white ${P?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Crear campa\xf1a"})]})]})]}):null};var B=s(31540),I=s(79256);let K=(0,l.Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),V=(0,l.Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),H=(0,l.Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);var U=s(30660),G=s(49844),W=s(18423),X=s(62637),J=s(9997),Y=s(44675),Q=s(69274),ee=s(8564),et=s(14958),es=s(74390),ea=s(96601),er=s(41135),en=s(23958),ei=s(85586),el=s.n(ei),eo=s(31955),ec=s.n(eo),ed=s(20119),em=s.n(ed),eu=s(81719),ex=s.n(eu),eh=s(81711),ep=s.n(eh),eg=s(96195),ef=s(61595),eb=s(49432),ey=s(45588),ev=s(81656),ej=s(2645),eN=s(81546),ew=s(2656),ek=["layout","type","stroke","connectNulls","isRange","ref"],eC=["key"];function eS(e){return(eS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eP(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function eE(){return(eE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function eA(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function eO(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?eA(Object(s),!0).forEach(function(t){eT(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):eA(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function eD(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eZ(a.key),a)}}function e_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e_=function(){return!!e})()}function e$(e){return(e$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eM(e,t){return(eM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eT(e,t,s){return(t=eZ(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eZ(e){var t=function(e,t){if("object"!=eS(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=eS(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eS(t)?t:t+""}var eq=function(e){var t,s;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,s,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=a,s=[].concat(n),t=e$(t),eT(e=function(e,t){if(t&&("object"===eS(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e_()?Reflect.construct(t,s||[],e$(this).constructor):t.apply(this,s)),"state",{isAnimationFinished:!0}),eT(e,"id",(0,ej.EL)("recharts-area-")),eT(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),el()(t)&&t()}),eT(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),el()(t)&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eM(e,t)}(a,e),t=[{key:"renderDots",value:function(e,t,s){var r=this.props.isAnimationActive,n=this.state.isAnimationFinished;if(r&&!n)return null;var l=this.props,o=l.dot,c=l.points,d=l.dataKey,m=(0,ew.L6)(this.props,!1),u=(0,ew.L6)(o,!0),x=c.map(function(e,t){var s=eO(eO(eO({key:"dot-".concat(t),r:3},m),u),{},{index:t,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return a.renderDotItem(o,s)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(s,")"):null};return i().createElement(eb.m,eE({className:"recharts-area-dots"},h),x)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,s=t.baseLine,a=t.points,r=t.strokeWidth,n=a[0].x,l=a[a.length-1].x,o=e*Math.abs(n-l),c=ec()(a.map(function(e){return e.y||0}));return((0,ej.hj)(s)&&"number"==typeof s?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(ec()(s.map(function(e){return e.y||0})),c)),(0,ej.hj)(c))?i().createElement("rect",{x:n<l?n:n-o,y:0,width:o,height:Math.floor(c+(r?parseInt("".concat(r),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,s=t.baseLine,a=t.points,r=t.strokeWidth,n=a[0].y,l=a[a.length-1].y,o=e*Math.abs(n-l),c=ec()(a.map(function(e){return e.x||0}));return((0,ej.hj)(s)&&"number"==typeof s?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(ec()(s.map(function(e){return e.x||0})),c)),(0,ej.hj)(c))?i().createElement("rect",{x:0,y:n<l?n:n-o,width:c+(r?parseInt("".concat(r),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){return"vertical"===this.props.layout?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,s,a){var r=this.props,n=r.layout,l=r.type,o=r.stroke,c=r.connectNulls,d=r.isRange,m=(r.ref,eP(r,ek));return i().createElement(eb.m,{clipPath:s?"url(#clipPath-".concat(a,")"):null},i().createElement(eg.H,eE({},(0,ew.L6)(m,!0),{points:e,connectNulls:c,type:l,baseLine:t,layout:n,stroke:"none",className:"recharts-area-area"})),"none"!==o&&i().createElement(eg.H,eE({},(0,ew.L6)(this.props,!1),{className:"recharts-area-curve",layout:n,type:l,connectNulls:c,fill:"none",points:e})),"none"!==o&&d&&i().createElement(eg.H,eE({},(0,ew.L6)(this.props,!1),{className:"recharts-area-curve",layout:n,type:l,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var s=this,a=this.props,r=a.points,n=a.baseLine,l=a.isAnimationActive,o=a.animationBegin,c=a.animationDuration,d=a.animationEasing,m=a.animationId,u=this.state,x=u.prevPoints,h=u.prevBaseLine;return i().createElement(en.ZP,{begin:o,duration:c,isActive:l,easing:d,from:{t:0},to:{t:1},key:"area-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var l=a.t;if(x){var o,c=x.length/r.length,d=r.map(function(e,t){var s=Math.floor(t*c);if(x[s]){var a=x[s],r=(0,ej.k4)(a.x,e.x),n=(0,ej.k4)(a.y,e.y);return eO(eO({},e),{},{x:r(l),y:n(l)})}return e});return o=(0,ej.hj)(n)&&"number"==typeof n?(0,ej.k4)(h,n)(l):em()(n)||ex()(n)?(0,ej.k4)(h,0)(l):n.map(function(e,t){var s=Math.floor(t*c);if(h[s]){var a=h[s],r=(0,ej.k4)(a.x,e.x),n=(0,ej.k4)(a.y,e.y);return eO(eO({},e),{},{x:r(l),y:n(l)})}return e}),s.renderAreaStatically(d,o,e,t)}return i().createElement(eb.m,null,i().createElement("defs",null,i().createElement("clipPath",{id:"animationClipPath-".concat(t)},s.renderClipRect(l))),i().createElement(eb.m,{clipPath:"url(#animationClipPath-".concat(t,")")},s.renderAreaStatically(r,n,e,t)))})}},{key:"renderArea",value:function(e,t){var s=this.props,a=s.points,r=s.baseLine,n=s.isAnimationActive,i=this.state,l=i.prevPoints,o=i.prevBaseLine,c=i.totalLength;return n&&a&&a.length&&(!l&&c>0||!ep()(l,a)||!ep()(o,r))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,r,e,t)}},{key:"render",value:function(){var e,t=this.props,s=t.hide,a=t.dot,r=t.points,n=t.className,l=t.top,o=t.left,c=t.xAxis,d=t.yAxis,m=t.width,u=t.height,x=t.isAnimationActive,h=t.id;if(s||!r||!r.length)return null;var p=this.state.isAnimationFinished,g=1===r.length,f=(0,er.Z)("recharts-area",n),b=c&&c.allowDataOverflow,y=d&&d.allowDataOverflow,v=b||y,j=em()(h)?this.id:h,N=null!==(e=(0,ew.L6)(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},w=N.r,k=N.strokeWidth,C=((0,ew.jf)(a)?a:{}).clipDot,S=void 0===C||C,P=2*(void 0===w?3:w)+(void 0===k?2:k);return i().createElement(eb.m,{className:f},b||y?i().createElement("defs",null,i().createElement("clipPath",{id:"clipPath-".concat(j)},i().createElement("rect",{x:b?o:o-m/2,y:y?l:l-u/2,width:b?m:2*m,height:y?u:2*u})),!S&&i().createElement("clipPath",{id:"clipPath-dots-".concat(j)},i().createElement("rect",{x:o-P/2,y:l-P/2,width:m+P,height:u+P}))):null,g?null:this.renderArea(v,j),(a||g)&&this.renderDots(v,S,j),(!x||p)&&ey.e.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],t&&eD(a.prototype,t),s&&eD(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);function ez(e){return(ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(eF=function(){return!!e})()}function eL(e){return(eL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function eR(e,t){return(eR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function eB(e,t,s){return(t=eI(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function eI(e){var t=function(e,t){if("object"!=ez(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=ez(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ez(t)?t:t+""}eT(eq,"displayName","Area"),eT(eq,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!ev.x.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),eT(eq,"getBaseValue",function(e,t,s,a){var r=e.layout,n=e.baseValue,i=t.props.baseValue,l=null!=i?i:n;if((0,ej.hj)(l)&&"number"==typeof l)return l;var o="horizontal"===r?a:s,c=o.scale.domain();if("number"===o.type){var d=Math.max(c[0],c[1]),m=Math.min(c[0],c[1]);return"dataMin"===l?m:"dataMax"===l?d:d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===l?c[0]:"dataMax"===l?c[1]:c[0]}),eT(eq,"getComposedData",function(e){var t,s=e.props,a=e.item,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,o=e.bandSize,c=e.dataKey,d=e.stackedData,m=e.dataStartIndex,u=e.displayedData,x=e.offset,h=s.layout,p=d&&d.length,g=eq.getBaseValue(s,a,r,n),f="horizontal"===h,b=!1,y=u.map(function(e,t){p?s=d[m+t]:Array.isArray(s=(0,eN.F$)(e,c))?b=!0:s=[g,s];var s,a=null==s[1]||p&&null==(0,eN.F$)(e,c);return f?{x:(0,eN.Hv)({axis:r,ticks:i,bandSize:o,entry:e,index:t}),y:a?null:n.scale(s[1]),value:s,payload:e}:{x:a?null:r.scale(s[1]),y:(0,eN.Hv)({axis:n,ticks:l,bandSize:o,entry:e,index:t}),value:s,payload:e}});return t=p||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?n.scale(t):null}:{x:null!=t?r.scale(t):null,y:e.y}}):f?n.scale(g):r.scale(g),eO({points:y,baseLine:t,layout:h,isRange:b},x)}),eT(eq,"renderDotItem",function(e,t){var s;if(i().isValidElement(e))s=i().cloneElement(e,t);else if(el()(e))s=e(t);else{var a=(0,er.Z)("recharts-area-dot","boolean"!=typeof e?e.className:""),r=t.key,n=eP(t,eC);s=i().createElement(ef.o,eE({},n,{key:r,className:a}))}return s});var eK=function(e){var t;function s(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),e=s,t=arguments,e=eL(e),function(e,t){if(t&&("object"===ez(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,eF()?Reflect.construct(e,t||[],eL(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&eR(e,t)}(s,e),t=[{key:"render",value:function(){return null}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,eI(a.key),a)}}(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}(n.Component);eB(eK,"displayName","ZAxis"),eB(eK,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var eV=s(22582),eH=s(99630),eU=s(50522),eG=s(19884),eW=s(82949),eX=["option","isActive"];function eJ(){return(eJ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function eY(e){var t=e.option,s=e.isActive,a=function(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,eX);return"string"==typeof t?n.createElement(eW.bn,eJ({option:n.createElement(eG.v,eJ({type:t},a)),isActive:s,shapeType:"symbols"},a)):n.createElement(eW.bn,eJ({option:t,isActive:s,shapeType:"symbols"},a))}function eQ(e){return(eQ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e0(){return(e0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function e1(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function e2(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?e1(Object(s),!0).forEach(function(t){e9(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):e1(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function e5(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,e8(a.key),a)}}function e6(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(e6=function(){return!!e})()}function e4(e){return(e4=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function e3(e,t){return(e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function e9(e,t,s){return(t=e8(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function e8(e){var t=function(e,t){if("object"!=eQ(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=eQ(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==eQ(t)?t:t+""}var e7=function(e){var t,s;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,s,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=a,s=[].concat(n),t=e4(t),e9(e=function(e,t){if(t&&("object"===eQ(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e6()?Reflect.construct(t,s||[],e4(this).constructor):t.apply(this,s)),"state",{isAnimationFinished:!1}),e9(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),e9(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),e9(e,"id",(0,ej.EL)("recharts-scatter-")),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&e3(e,t)}(a,e),t=[{key:"renderSymbolsStatically",value:function(e){var t=this,s=this.props,a=s.shape,r=s.activeShape,n=s.activeIndex,l=(0,ew.L6)(this.props,!1);return e.map(function(e,s){var o=n===s,c=e2(e2({},l),e);return i().createElement(eb.m,e0({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(s)},(0,eU.bw)(t.props,e,s),{role:"img"}),i().createElement(eY,e0({option:o?r:a,isActive:o,key:"symbol-".concat(s)},c)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,s=t.points,a=t.isAnimationActive,r=t.animationBegin,n=t.animationDuration,l=t.animationEasing,o=t.animationId,c=this.state.prevPoints;return i().createElement(en.ZP,{begin:r,duration:n,isActive:a,easing:l,from:{t:0},to:{t:1},key:"pie-".concat(o),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,r=s.map(function(e,t){var s=c&&c[t];if(s){var r=(0,ej.k4)(s.cx,e.cx),n=(0,ej.k4)(s.cy,e.cy),i=(0,ej.k4)(s.size,e.size);return e2(e2({},e),{},{cx:r(a),cy:n(a),size:i(a)})}var l=(0,ej.k4)(0,e.size);return e2(e2({},e),{},{size:l(a)})});return i().createElement(eb.m,null,e.renderSymbolsStatically(r))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,s=e.isAnimationActive,a=this.state.prevPoints;return s&&t&&t.length&&(!a||!ep()(a,t))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(t)}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,s=e.xAxis,a=e.yAxis,r=e.children,n=(0,ew.NN)(r,eV.W);return n?n.map(function(e,r){var n=e.props,l=n.direction,o=n.dataKey;return i().cloneElement(e,{key:"".concat(l,"-").concat(o,"-").concat(t[r]),data:t,xAxis:s,yAxis:a,layout:"x"===l?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===l?+e.node.x:+e.node.y,errorVal:(0,eN.F$)(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,s=this.props,a=s.points,r=s.line,n=s.lineType,l=s.lineJointType,o=(0,ew.L6)(this.props,!1),c=(0,ew.L6)(r,!1);if("joint"===n)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===n){var d=(0,ej.wr)(a),m=d.xmin,u=d.xmax,x=d.a,h=d.b,p=function(e){return x*e+h};e=[{x:m,y:p(m)},{x:u,y:p(u)}]}var g=e2(e2(e2({},o),{},{fill:"none",stroke:o&&o.fill},c),{},{points:e});return t=i().isValidElement(r)?i().cloneElement(r,g):el()(r)?r(g):i().createElement(eg.H,e0({},g,{type:l})),i().createElement(eb.m,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,s=e.points,a=e.line,r=e.className,n=e.xAxis,l=e.yAxis,o=e.left,c=e.top,d=e.width,m=e.height,u=e.id,x=e.isAnimationActive;if(t||!s||!s.length)return null;var h=this.state.isAnimationFinished,p=(0,er.Z)("recharts-scatter",r),g=n&&n.allowDataOverflow,f=l&&l.allowDataOverflow,b=em()(u)?this.id:u;return i().createElement(eb.m,{className:p,clipPath:g||f?"url(#clipPath-".concat(b,")"):null},g||f?i().createElement("defs",null,i().createElement("clipPath",{id:"clipPath-".concat(b)},i().createElement("rect",{x:g?o:o-d/2,y:f?c:c-m/2,width:g?d:2*d,height:f?m:2*m}))):null,a&&this.renderLine(),this.renderErrorBar(),i().createElement(eb.m,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!x||h)&&ey.e.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],t&&e5(a.prototype,t),s&&e5(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}(n.PureComponent);e9(e7,"displayName","Scatter"),e9(e7,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ev.x.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),e9(e7,"getComposedData",function(e){var t=e.xAxis,s=e.yAxis,a=e.zAxis,r=e.item,n=e.displayedData,i=e.xAxisTicks,l=e.yAxisTicks,o=e.offset,c=r.props.tooltipType,d=(0,ew.NN)(r.props.children,eH.b),m=em()(t.dataKey)?r.props.dataKey:t.dataKey,u=em()(s.dataKey)?r.props.dataKey:s.dataKey,x=a&&a.dataKey,h=a?a.range:eK.defaultProps.range,p=h&&h[0],g=t.scale.bandwidth?t.scale.bandwidth():0,f=s.scale.bandwidth?s.scale.bandwidth():0,b=n.map(function(e,n){var o=(0,eN.F$)(e,m),h=(0,eN.F$)(e,u),b=!em()(x)&&(0,eN.F$)(e,x)||"-",y=[{name:em()(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:o,payload:e,dataKey:m,type:c},{name:em()(s.dataKey)?r.props.name:s.name||s.dataKey,unit:s.unit||"",value:h,payload:e,dataKey:u,type:c}];"-"!==b&&y.push({name:a.name||a.dataKey,unit:a.unit||"",value:b,payload:e,dataKey:x,type:c});var v=(0,eN.Hv)({axis:t,ticks:i,bandSize:g,entry:e,index:n,dataKey:m}),j=(0,eN.Hv)({axis:s,ticks:l,bandSize:f,entry:e,index:n,dataKey:u}),N="-"!==b?a.scale(b):p,w=Math.sqrt(Math.max(N,0)/Math.PI);return e2(e2({},e),{},{cx:v,cy:j,x:v-w,y:j-w,xAxis:t,yAxis:s,zAxis:a,width:2*w,height:2*w,size:N,node:{x:o,y:h,z:b},tooltipPayload:y,tooltipPosition:{x:v,y:j},payload:e},d&&d[n]&&d[n].props)});return e2({points:b},o)});var te=s(11327),tt=(0,ea.z)({chartName:"ComposedChart",GraphicalChild:[es.x,eq,ee.$,e7],axisComponents:[{axisType:"xAxis",AxisComp:X.K},{axisType:"yAxis",AxisComp:J.B},{axisType:"zAxis",AxisComp:eK}],formatAxisMap:te.t9}),ts=s(20751),ta=s(78948);let tr=e=>[{name:"Lun",sent:42,redeemed:18,revenue:1800},{name:"Mar",sent:38,redeemed:15,revenue:1500},{name:"Mi\xe9",sent:45,redeemed:22,revenue:2200},{name:"Jue",sent:52,redeemed:28,revenue:2800},{name:"Vie",sent:68,redeemed:40,revenue:4e3},{name:"S\xe1b",sent:75,redeemed:45,revenue:4500},{name:"Dom",sent:60,redeemed:32,revenue:3200}],tn=e=>[{name:"Sem 1",sent:280,redeemed:120,revenue:12e3},{name:"Sem 2",sent:310,redeemed:145,revenue:14500},{name:"Sem 3",sent:340,redeemed:165,revenue:16500},{name:"Sem 4",sent:380,redeemed:190,revenue:19e3}],ti=e=>[{name:"Ene",sent:1200,redeemed:580,revenue:58e3},{name:"Feb",sent:1300,redeemed:620,revenue:62e3},{name:"Mar",sent:1400,redeemed:680,revenue:68e3},{name:"Abr",sent:1500,redeemed:720,revenue:72e3},{name:"May",sent:1600,redeemed:760,revenue:76e3},{name:"Jun",sent:1800,redeemed:840,revenue:84e3}],tl=e=>[{name:"Email",value:75},{name:"SMS",value:25}],to=e=>[{id:1,name:"Ana Garc\xeda",email:"ana.garcia@email.com",date:"2023-10-15",channel:"Email"},{id:2,name:"Carlos Rodr\xedguez",email:"carlos.rodriguez@email.com",date:"2023-10-16",channel:"Email"},{id:3,name:"Sof\xeda Mart\xednez",email:"sofia.martinez@email.com",date:"2023-10-17",channel:"SMS"},{id:4,name:"Miguel L\xf3pez",email:"miguel.lopez@email.com",date:"2023-10-18",channel:"Email"},{id:5,name:"Laura Hern\xe1ndez",email:"laura.hernandez@email.com",date:"2023-10-19",channel:"SMS"},{id:6,name:"Javier Gonz\xe1lez",email:"javier.gonzalez@email.com",date:"2023-10-20",channel:"Email"},{id:7,name:"Patricia D\xedaz",email:"patricia.diaz@email.com",date:"2023-10-21",channel:"Email"},{id:8,name:"Fernando P\xe9rez",email:"fernando.perez@email.com",date:"2023-10-22",channel:"SMS"}],tc=({isOpen:e,onClose:t,campaign:s})=>{let[r,i]=(0,n.useState)("daily"),[l,o]=(0,n.useState)(!1),[m,u]=(0,n.useState)(!1),[x,h]=(0,n.useState)("all"),p=tr(s),g=tn(s),b=ti(s),y=tl(s),j=to(s),N=()=>{alert("Datos exportados a CSV")},w=()=>{switch(r){case"weekly":return g;case"monthly":return b;default:return p}},k=w().reduce((e,t)=>e+t.sent,0),C=w().reduce((e,t)=>e+t.redeemed,0),S=k>0?Math.round(C/k*100):0,P=w().reduce((e,t)=>e+t.revenue,0);return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:t,"aria-hidden":"true"}),(0,a.jsxs)("div",{className:"relative w-full max-w-6xl h-[90vh] mx-auto bg-white rounded-2xl shadow-xl overflow-hidden animate-in fade-in duration-200 ease-out",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:a.jsx(d.Z,{className:"h-6 w-6 text-custom-green-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:["Dashboard: ",s.name]}),a.jsx("p",{className:"text-sm text-gray-500",children:"M\xe9tricas y an\xe1lisis de la campa\xf1a de recompensas"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>{o(!0),setTimeout(()=>{o(!1)},1e3)},className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",disabled:l,children:a.jsx(v.Z,{className:`h-5 w-5 ${l?"animate-spin":""}`})}),a.jsx("button",{onClick:N,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:a.jsx(B.Z,{className:"h-5 w-5"})}),a.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar dashboard",children:a.jsx(c.Z,{className:"h-6 w-6"})})]})]}),(0,a.jsxs)("div",{className:"h-[calc(90vh-76px)] overflow-y-auto p-5",children:[(0,a.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Filtrar por canal:"})}),(0,a.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[a.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${"all"===x?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Todos"}),a.jsx("button",{onClick:()=>h("email"),className:`px-4 py-2 text-sm font-medium ${"email"===x?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-l border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Email"}),a.jsx("button",{onClick:()=>h("sms"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${"sms"===x?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"SMS"})]})]}),(0,a.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[a.jsx("button",{onClick:()=>i("daily"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${"daily"===r?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Diario"}),a.jsx("button",{onClick:()=>i("weekly"),className:`px-4 py-2 text-sm font-medium ${"weekly"===r?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Semanal"}),a.jsx("button",{onClick:()=>i("monthly"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${"monthly"===r?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Mensual"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5 mb-6",children:[a.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-custom-green-100 p-3 rounded-full",children:a.jsx(F,{className:"h-6 w-6 text-custom-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones enviados"}),(0,a.jsxs)("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:k}),(0,a.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[a.jsx(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),a.jsx("span",{className:"sr-only",children:"Incremento"}),"12.5%"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-3 rounded-full",children:a.jsx(d.Z,{className:"h-6 w-6 text-blue-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones canjeados"}),(0,a.jsxs)("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:C}),(0,a.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[a.jsx(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),a.jsx("span",{className:"sr-only",children:"Incremento"}),"18.2%"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-amber-100 p-3 rounded-full",children:a.jsx(K,{className:"h-6 w-6 text-amber-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tasa de conversi\xf3n"}),(0,a.jsxs)("dd",{className:"flex items-baseline",children:[(0,a.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[S,"%"]}),(0,a.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[a.jsx(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),a.jsx("span",{className:"sr-only",children:"Incremento"}),"5.3%"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-purple-100 p-3 rounded-full",children:a.jsx(V,{className:"h-6 w-6 text-purple-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Nuevos clientes"}),(0,a.jsxs)("dd",{className:"flex items-baseline",children:[a.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:Math.round(.35*C)}),(0,a.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[a.jsx(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),a.jsx("span",{className:"sr-only",children:"Incremento"}),"8.4%"]})]})]})})]})})}),a.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:a.jsx("div",{className:"p-5",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 bg-green-100 p-3 rounded-full",children:a.jsx(f.Z,{className:"h-6 w-6 text-green-600"})}),a.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,a.jsxs)("dl",{children:[a.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Monto redimido"}),(0,a.jsxs)("dd",{className:"flex items-baseline",children:[(0,a.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:["$",P]}),(0,a.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[a.jsx(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),a.jsx("span",{className:"sr-only",children:"Incremento"}),"15.6%"]})]})]})})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Canjes por"," ","daily"===r?"d\xeda":"weekly"===r?"semana":"mes"]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(I.Z,{className:"h-3 w-3 mr-1"}),"15.3%"]})})]}),a.jsx("div",{className:"h-80",children:a.jsx(U.h,{width:"100%",height:"100%",children:(0,a.jsxs)(G.v,{data:w(),margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx(W.q,{strokeDasharray:"3 3",vertical:!1}),a.jsx(X.K,{dataKey:"name"}),a.jsx(J.B,{}),a.jsx(Y.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`${e} cupones`,"Canjes"]}),a.jsx(Q.D,{}),a.jsx(ee.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]})]})})})]}),(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Ingresos atribuidos por"," ","daily"===r?"d\xeda":"weekly"===r?"semana":"mes"]}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(I.Z,{className:"h-3 w-3 mr-1"}),"18.2%"]})})]}),a.jsx("div",{className:"h-80",children:a.jsx(U.h,{width:"100%",height:"100%",children:(0,a.jsxs)(et.w,{data:w(),margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx(W.q,{strokeDasharray:"3 3",vertical:!1}),a.jsx(X.K,{dataKey:"name"}),a.jsx(J.B,{}),a.jsx(Y.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`$${e}`,"Ingresos"]}),a.jsx(Q.D,{}),a.jsx(es.x,{type:"monotone",dataKey:"revenue",name:"Ingresos",stroke:"#0EA5E9",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})]}),(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100 mb-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Comparativa: Enviados vs. Canjeados"}),a.jsx("div",{className:"flex items-center",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Tasa de conversi\xf3n: ",S,"%"]})})]}),a.jsx("div",{className:"h-80",children:a.jsx(U.h,{width:"100%",height:"100%",children:(0,a.jsxs)(tt,{data:w(),margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(W.q,{strokeDasharray:"3 3",vertical:!1}),a.jsx(X.K,{dataKey:"name"}),a.jsx(J.B,{}),a.jsx(Y.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),a.jsx(Q.D,{}),a.jsx(ee.$,{dataKey:"sent",name:"Cupones enviados",fill:"#94A3B8",radius:[4,4,0,0]}),a.jsx(ee.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]}),a.jsx(es.x,{type:"monotone",dataKey:"redeemed",name:"Tendencia de canjes",stroke:"#0EA5E9",strokeWidth:2,dot:!1})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles de la campa\xf1a"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Nombre de la campa\xf1a"}),a.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.name})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Template aplicado"}),a.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.templateName||"Template predeterminado"})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Segmento utilizado"}),a.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.segment||"Todos los clientes"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha inicio"}),a.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(s.startDate).toLocaleDateString()})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha fin"}),a.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(s.endDate).toLocaleDateString()})]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Puntos requeridos"}),(0,a.jsxs)("p",{className:"mt-1 text-base font-medium text-gray-900",children:[s.pointsRequired," puntos"]})]}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Estado"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 mt-1 rounded-full text-xs font-medium ${"active"===s.status?"bg-green-100 text-green-800":"paused"===s.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"active"===s.status?"Activa":"paused"===s.status?"Pausada":"Expirada"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci\xf3n por canal"}),a.jsx("div",{className:"h-64",children:a.jsx(U.h,{width:"100%",height:"100%",children:(0,a.jsxs)(ts.u,{children:[(0,a.jsxs)(ta.b,{data:y,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} (${(100*t).toFixed(0)}%)`,children:[a.jsx(eH.b,{fill:"#0EA5E9"}),a.jsx(eH.b,{fill:"#FACC15"})]}),a.jsx(Y.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`${e}%`,"Porcentaje"]})]})})}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-[#0EA5E9] rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Email"})]}),a.jsx("span",{className:"text-sm font-medium",children:"75%"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("span",{className:"w-3 h-3 bg-[#FACC15] rounded-full mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"SMS"})]}),a.jsx("span",{className:"text-sm font-medium",children:"25%"})]})]})]}),(0,a.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vista previa"}),a.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:a.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.emailSubject}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-3",children:s.emailBody}),a.jsx("div",{className:"flex justify-center mt-3",children:a.jsx("button",{className:"bg-custom-green-600 text-white text-sm px-4 py-2 rounded-md",children:s.cta||"Ver oferta"})})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Usuarios que canjearon"}),a.jsx("button",{onClick:()=>u(!m),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-custom-green-700 bg-custom-green-100 hover:bg-custom-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:m?"Ocultar tabla":"Mostrar tabla"})]}),m&&a.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-100 overflow-hidden mb-6",children:a.jsx("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de canje"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Canal"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:("all"===x?j:j.filter(e=>e.channel.toLowerCase()===x.toLowerCase())).map(e=>(0,a.jsxs)("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-gray-500",children:e.name.charAt(0)})}),a.jsx("div",{className:"ml-4",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:e.date})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"Email"===e.channel?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:["Email"===e.channel?a.jsx(F,{className:"mr-1 h-3 w-3"}):a.jsx(H,{className:"mr-1 h-3 w-3"}),e.channel]})})]},e.id))})]})})})]}),(0,a.jsxs)("div",{className:"border-t border-gray-200 p-4 flex justify-end",children:[(0,a.jsxs)("button",{onClick:N,className:"mr-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[a.jsx(B.Z,{className:"h-5 w-5 mr-2 text-gray-400"}),"Exportar datos"]}),a.jsx("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:"Cerrar"})]})]})]}):null},td=(0,l.Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),tm=(0,l.Z)("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);var tu=s(34565);let tx=(0,l.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),th=(0,l.Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var tp=s(83855);let tg=[{id:1,name:"Caf\xe9 gratis",description:"Un caf\xe9 americano o espresso gratis",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"coffee",image:"https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Tu caf\xe9 gratis te espera!",emailBody:"Disfruta de un caf\xe9 americano o espresso completamente gratis en tu pr\xf3xima visita.",startDate:"2023-10-01",endDate:"2023-12-31",conditions:"V\xe1lido de lunes a viernes. No acumulable con otras promociones.",cta:"Canjear ahora",templateName:"Caf\xe9 Gratis - Template",sent:!0},{id:2,name:"Postre gratis",description:"Un postre a elecci\xf3n (valor m\xe1ximo $8)",pointsRequired:250,expirationDays:30,active:!0,status:"active",icon:"award",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Te has ganado un postre!",emailBody:"Celebra con un delicioso postre gratis a tu elecci\xf3n en tu pr\xf3xima visita.",startDate:"2023-10-15",endDate:"2023-12-15",conditions:"Valor m\xe1ximo $8. No acumulable con otras promociones.",cta:"Ver postres",templateName:"Postre Gratis - Template",sent:!0},{id:3,name:"Descuento de $15",description:"Descuento de $15 en tu pr\xf3xima compra (m\xednimo $30)",pointsRequired:400,expirationDays:60,active:!0,status:"paused",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1$15 de descuento en tu pr\xf3xima compra!",emailBody:"Te regalamos $15 de descuento en tu pr\xf3xima compra de $30 o m\xe1s.",startDate:"2023-11-01",endDate:"2024-01-31",conditions:"Compra m\xednima de $30. No acumulable con otras promociones.",cta:"Usar descuento",templateName:"Descuento $15 - Template",sent:!1},{id:4,name:"Papas gratis",description:"Una orden de papas fritas gratis con tu hamburguesa",pointsRequired:150,expirationDays:30,active:!1,status:"expired",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1576107232684-1279f390859f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1PAPAS GRATIS con tu hamburguesa!",emailBody:"Celebramos contigo con una orden de papas gratis al comprar cualquier hamburguesa.",startDate:"2023-08-01",endDate:"2023-09-30",conditions:"V\xe1lido solo al comprar una hamburguesa. No acumulable con otras promociones.",cta:"Ordenar ahora",templateName:"Papas Gratis - Template",sent:!0}],tf=[{id:1,segment_name:"Clientes frecuentes",filters:{tags:"frequent",number_of_visits:"more_than_5",gender:"all"},activeFiltersCount:2},{id:2,segment_name:"Clientes VIP",filters:{tags:"vip",single_purchase_total:"greater_than_500",gender:"all"},activeFiltersCount:2}],tb=[{id:1,name:"Promoci\xf3n Est\xe1ndar",blocks:[{id:"1",type:"title",content:"Promoci\xf3n exclusiva para ti"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Aprovecha esta oferta por tiempo limitado"},{id:"4",type:"button",content:"Canjear ahora"}]},{id:2,name:"Recompensa de Cumplea\xf1os",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Te regalamos algo especial en tu d\xeda"},{id:"4",type:"button",content:"Reclamar regalo"}]}],ty=({label:e,count:t,active:s,onClick:r,icon:n})=>a.jsx("button",{onClick:r,className:`p-4 rounded-lg border transition-all duration-200 ${s?"bg-custom-green-50 border-custom-green-200 text-custom-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}`,children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:e}),a.jsx("p",{className:`text-2xl font-bold ${s?"text-custom-green-600":"text-gray-900"}`,children:t})]}),a.jsx("div",{className:"ml-4",children:n})]})}),tv=({campaign:e,onPreview:t,onToggleActive:s,onDelete:r})=>{let[i,l]=(0,n.useState)(!1),o=(0,n.useRef)(null),c=(0,n.useRef)(null),d=e=>{let t=new Date(e),s=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return`${s}/${a}/${r}`};(0,n.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&c.current&&!c.current.contains(e.target)&&l(!1)},t=e=>{"Escape"===e.key&&l(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[]);let m=t=>{s(e.id,t),l(!1)},u=td;return"coffee"===e.icon?u=tm:"shopping-bag"===e.icon&&(u=tu.Z),(0,a.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg border border-gray-200 transition-all duration-200 ease-out hover:bg-[#E9F2F2] hover:border-[#D6E6E6] hover:shadow-md hover:scale-105 focus-within:outline-offset-2 focus-within:outline-[#0EA5E9] focus-within:outline-2 active:scale-[0.995]",children:[(0,a.jsxs)("div",{className:"relative h-36 overflow-hidden",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-2 right-2",children:(e=>{switch(e){case"active":return(0,a.jsxs)("span",{className:"flex items-center text-green-600 bg-green-100 px-2 py-1 rounded-full text-xs font-medium",children:[a.jsx(y,{className:"h-3 w-3 mr-1"}),"Activa"]});case"paused":return(0,a.jsxs)("span",{className:"flex items-center text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full text-xs font-medium",children:[a.jsx(p.Z,{className:"h-3 w-3 mr-1"}),"Pausa"]});case"expired":return(0,a.jsxs)("span",{className:"flex items-center text-gray-600 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium",children:[a.jsx($,{className:"h-3 w-3 mr-1"}),"Expirada"]});default:return null}})(e.status)})]}),a.jsx("div",{className:"p-4",children:(0,a.jsxs)("div",{className:"flex items-start",children:[a.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${e.active?"bg-custom-green-100":"bg-gray-100"}`,children:a.jsx(u,{className:`h-5 w-5 ${e.active?"text-custom-green-600":"text-gray-400"}`})}),(0,a.jsxs)("div",{className:"ml-3 flex-1",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),a.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.description}),e.templateName&&(0,a.jsxs)("p",{className:"mt-1 text-xs text-gray-400",children:["Template: ",e.templateName]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[(0,a.jsxs)("span",{className:"bg-custom-green-100 text-custom-green-800 px-2 py-0.5 rounded-full font-medium",children:[e.pointsRequired," puntos"]}),(0,a.jsxs)("span",{className:"ml-2",children:[e.expirationDays," d\xedas"]})]})]})]})}),(0,a.jsxs)("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[d(e.startDate)," - ",d(e.endDate)]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:e=>t(e),className:"p-1.5 bg-blue-100 rounded-full text-blue-600 hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Ver vista previa",children:a.jsx(tx,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("button",{ref:c,onClick:e=>{e.stopPropagation(),l(!i)},"aria-haspopup":"true","aria-expanded":i,"aria-controls":"status-menu",className:`p-1.5 flex items-center justify-center rounded-full hover:shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9] ${(e=>{switch(e){case"active":return"bg-[#DCFCE7] border border-[#22C55E] text-[#15803D] hover:bg-[#BBF7D0]";case"paused":default:return"bg-[#FFF7CC] border border-[#FACC15] text-[#A16207] hover:bg-[#FDE68A]";case"expired":return"bg-gray-100 border border-gray-300 text-gray-500 hover:bg-gray-200"}})(e.status)}`,"aria-label":"Cambiar estado",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[a.jsx("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),a.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"12"})]})}),i&&(0,a.jsxs)("div",{ref:o,id:"status-menu",className:"absolute right-0 bottom-full mb-2 w-36 bg-white rounded-lg shadow-lg border border-gray-200 z-10",role:"menu",children:[(0,a.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-green-700 hover:bg-green-50 flex items-center rounded-t-lg focus:outline-none focus:bg-green-50",onClick:e=>{e.stopPropagation(),m("active")},role:"menuitem",disabled:"expired"===e.status,children:[a.jsx(y,{className:"h-4 w-4 mr-2"}),"Activa"]}),(0,a.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-yellow-600 hover:bg-yellow-50 flex items-center focus:outline-none focus:bg-yellow-50",onClick:e=>{e.stopPropagation(),m("paused")},role:"menuitem",disabled:"expired"===e.status,children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Pausa"]}),(0,a.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center rounded-b-lg focus:outline-none focus:bg-gray-50",onClick:e=>{e.stopPropagation(),m("expired")},role:"menuitem",children:[a.jsx($,{className:"h-4 w-4 mr-2"}),"Expirada"]})]})]}),a.jsx("button",{onClick:t=>{t.stopPropagation(),r(e.id)},className:"p-1.5 bg-red-100 rounded-full text-red-600 hover:bg-red-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Eliminar campa\xf1a",children:a.jsx(P.Z,{className:"h-4 w-4"})})]})]})]})},tj=({campaign:e,onClose:t})=>{if(!e)return null;let s=new Date,r=s.getHours(),n=s.getMinutes().toString().padStart(2,"0"),i=`${r}:${n}`;return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-md w-full mx-auto p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(c.Z,{className:"h-6 w-6"})}),e.templateName&&a.jsx("div",{className:"mb-4 text-center",children:a.jsx("span",{className:"inline-block bg-custom-green-100 text-custom-green-800 px-3 py-1 rounded-full text-sm font-medium",children:e.templateName})}),a.jsx("div",{className:"relative mx-auto w-full max-w-[375px]",children:(0,a.jsxs)("div",{className:"bg-black rounded-[55px] p-2 shadow-xl overflow-hidden border-8 border-black",children:[(0,a.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 z-50 bg-black w-[30%] h-[30px] rounded-b-[18px] flex items-center justify-center",children:[a.jsx("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 left-[15%]"}),a.jsx("div",{className:"absolute w-[50px] h-[6px] rounded-full bg-gray-800"}),a.jsx("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 right-[15%]"})]}),(0,a.jsxs)("div",{className:"relative bg-white rounded-[48px] overflow-hidden h-[650px]",children:[(0,a.jsxs)("div",{className:"sticky top-0 z-30 bg-white px-5 pt-8 pb-1 flex justify-between items-center",children:[a.jsx("div",{className:"text-black font-semibold",children:i}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[a.jsx("div",{className:"flex items-center space-x-1",children:a.jsx("div",{className:"h-3 w-3",children:(0,a.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2Z",stroke:"black",strokeWidth:"1.5"}),a.jsx("path",{d:"M15 9C15 7.343 13.657 6 12 6C10.343 6 9 7.343 9 9C9 10.657 10.343 12 12 12C13.657 12 15 10.657 15 9Z",fill:"black"}),a.jsx("path",{d:"M5.5 19.5C7.5 17 9.5 15 12 15C14.5 15 16.5 17 18.5 19.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"})]})})}),(0,a.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("path",{d:"M3 7C3 5.89543 3.89543 5 5 5H19C20.1046 5 21 5.89543 21 7V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17V7Z",stroke:"black",strokeWidth:"2"}),a.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"black"})]}),a.jsx("div",{className:"font-semibold text-sm",children:"100%"})]})]}),(0,a.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-8 w-auto mr-2"}),a.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Holy Cow"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"p-1.5 bg-gray-100 rounded-full",children:a.jsx(F,{className:"h-4 w-4 text-gray-600"})}),a.jsx("div",{className:"p-1.5 bg-gray-100 rounded-full",children:a.jsx(th,{className:"h-4 w-4 text-gray-600"})})]})]}),(0,a.jsxs)("div",{className:"overflow-y-auto h-[calc(100%-110px)]",children:[(0,a.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center",children:[a.jsx("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-16 mx-auto mb-2"}),a.jsx("p",{className:"text-xs uppercase tracking-widest mt-2",children:"BURGER & BEER JOINT"})]}),a.jsx("div",{className:"bg-[#E53935] text-white px-6 py-3 text-center",children:a.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:"\xa1OFERTA ESPECIAL PARA TI!"})}),a.jsx("div",{className:"w-full",children:a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"})}),(0,a.jsxs)("div",{className:"px-6 py-6 bg-white",children:[a.jsx("h1",{className:"text-2xl font-bold text-[#2D2D2D] text-center mb-4",children:e.emailSubject}),a.jsx("p",{className:"text-gray-700 mb-6 text-center",children:e.emailBody}),a.jsx("div",{className:"flex justify-center mb-6",children:a.jsx("button",{className:"bg-[#E53935] hover:bg-[#D32F2F] text-white font-bold py-3 px-8 rounded-lg shadow-md transition-all",children:e.cta})}),e.pointsRequired&&a.jsx("div",{className:"text-center mb-6",children:(0,a.jsxs)("span",{className:"inline-block bg-[#FFECB3] text-[#E65100] px-4 py-2 rounded-full font-medium text-sm",children:[e.pointsRequired," puntos"]})}),a.jsx("div",{className:"border-t border-gray-200 my-6"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[a.jsx("h3",{className:"font-bold text-[#2D2D2D] text-sm mb-2",children:"DETALLES DE LA PROMOCI\xd3N:"}),(0,a.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[a.jsx(u,{className:"h-4 w-4 mr-2 text-[#E53935]"}),(0,a.jsxs)("span",{children:["V\xe1lido hasta:"," ",new Date(e.endDate).toLocaleDateString()]})]}),(0,a.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[a.jsx("span",{className:"font-medium",children:"T\xe9rminos y condiciones:"}),a.jsx("br",{}),e.conditions]})]}),(0,a.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[a.jsx("p",{className:"font-medium text-[#2D2D2D] mb-1",children:"HOLY COW BURGER & BEER JOINT"}),a.jsx("p",{children:"Av. Principal 123, Ciudad de M\xe9xico"}),a.jsx("p",{children:"Tel: 555-123-4567"})]})]}),(0,a.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center text-xs",children:[a.jsx("p",{className:"mb-2",children:"\xa9 2023 Holy Cow. Todos los derechos reservados."}),(0,a.jsxs)("p",{children:["Si no deseas recibir m\xe1s correos, haz clic"," ",a.jsx("a",{href:"#",className:"underline",children:"aqu\xed"})," ","para darte de baja."]})]})]})]}),a.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-[30%] h-[5px] bg-gray-800 rounded-full"})]})})]})]})},tN=({isOpen:e,onClose:t,currentPlan:s="B\xe1sico"})=>e?(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:a.jsx(c.Z,{className:"h-6 w-6"})}),(0,a.jsxs)("div",{className:"mb-6 text-center",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Planes de Gesti\xf3n"}),a.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Selecciona el plan que mejor se adapte a tus necesidades"})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3 mb-6",children:[{name:"B\xe1sico",price:"Gratis",features:["1 campa\xf1a activa por mes","Estad\xedsticas b\xe1sicas","Soporte por email"]},{name:"Premium",price:"$15 USD",features:["Hasta 5 campa\xf1as por mes","Estad\xedsticas avanzadas","Segmentaci\xf3n de clientes","Soporte prioritario"]},{name:"Ultra",price:"$30 USD",features:["Hasta 10 campa\xf1as por mes","Estad\xedsticas en tiempo real","Segmentaci\xf3n avanzada","Soporte 24/7","API de integraci\xf3n"]}].map(e=>a.jsx("div",{className:`bg-white rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${e.name===s?"border-2 border-custom-green-600 bg-custom-green-100/30":"border border-gray-200 hover:border-custom-green-200"}`,children:(0,a.jsxs)("div",{className:"p-5",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),a.jsx("p",{className:"text-2xl font-bold text-custom-green-600 mb-4",children:e.price}),a.jsx("ul",{className:"space-y-2 mb-6",children:e.features.map((e,t)=>(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"flex-shrink-0 h-5 w-5 text-custom-green-600",children:a.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),a.jsx("span",{className:"ml-2 text-sm text-gray-600",children:e})]},t))}),a.jsx("button",{className:`w-full py-2 px-4 rounded-md text-sm font-medium transition-colors ${e.name===s?"bg-custom-green-600 text-white cursor-default":"bg-white border border-custom-green-600 text-custom-green-600 hover:bg-custom-green-50"}`,disabled:e.name===s,children:e.name===s?"Plan Actual":"Seleccionar Plan"})]})},e.name))})]})]}):null,tw=()=>{let[e,t]=(0,n.useState)(tg),[s,r]=(0,n.useState)("all"),[i,l]=(0,n.useState)(null),[o,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[h,g]=(0,n.useState)(!1),[f,b]=(0,n.useState)(!1),[v,N]=(0,n.useState)(!1),[k,S]=(0,n.useState)(!1),[P,E]=(0,n.useState)(tf),[A,O]=(0,n.useState)(tb),[D,_]=(0,n.useState)({name:"",selectedSegment:null,selectedTemplate:null}),M=e.filter(e=>"all"===s||e.status===s),T=e.length,Z=e.filter(e=>"active"===e.status).length,q=e.filter(e=>"paused"===e.status).length,F=e.filter(e=>"expired"===e.status).length,L=(e,s)=>{t(t=>t.map(t=>t.id===e?{...t,status:s}:t))},B=e=>{window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta campa\xf1a?")&&t(t=>t.filter(t=>t.id!==e))},I=e=>{l(e)},K=e=>{x(e),m(!0)};return(0,a.jsxs)("div",{className:"w-full bg-gray-50 min-h-screen",children:[(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scala - Gesti\xf3n de Recompensas"}),a.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Gestiona tus campa\xf1as de recompensas y fidelizaci\xf3n"})]}),(0,a.jsxs)("div",{className:"flex space-x-3",children:[a.jsx("button",{onClick:()=>c(!0),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50 transition-colors",children:"Ver Planes"}),(0,a.jsxs)("button",{onClick:()=>{g(!0)},className:"bg-custom-green-600 text-white px-4 py-2 rounded-md hover:bg-custom-green-700 transition-colors flex items-center",children:[a.jsx(tp.Z,{className:"h-5 w-5 mr-2"}),"Nueva Campa\xf1a"]})]})]})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[a.jsx(ty,{label:"Todas",count:T,active:"all"===s,onClick:()=>r("all"),icon:a.jsx(w,{className:"h-6 w-6"})}),a.jsx(ty,{label:"Activas",count:Z,active:"active"===s,onClick:()=>r("active"),icon:a.jsx(y,{className:"h-6 w-6 text-green-500"})}),a.jsx(ty,{label:"Pausadas",count:q,active:"paused"===s,onClick:()=>r("paused"),icon:a.jsx(p.Z,{className:"h-6 w-6 text-yellow-500"})}),a.jsx(ty,{label:"Expiradas",count:F,active:"expired"===s,onClick:()=>r("expired"),icon:a.jsx($,{className:"h-6 w-6 text-gray-500"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(e=>a.jsx("div",{onClick:()=>K(e),className:"cursor-pointer",children:a.jsx(tv,{campaign:e,onPreview:t=>{t.stopPropagation(),I(e)},onToggleActive:(e,t)=>{L(e,t)},onDelete:e=>{B(e)}})},e.id))}),0===M.length&&(0,a.jsxs)("div",{className:"text-center py-12",children:[a.jsx(td,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay campa\xf1as"}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron campa\xf1as para el filtro seleccionado."})]})]}),i&&a.jsx(tj,{campaign:i,onClose:()=>l(null)}),a.jsx(tc,{isOpen:d,onClose:()=>m(!1),campaign:u}),a.jsx(tN,{isOpen:o,onClose:()=>c(!1),currentPlan:"B\xe1sico"}),a.jsx(C,{isOpen:h,onClose:()=>{g(!1)},onCreateSegment:()=>{g(!1),b(!0)},onDesignTemplate:()=>{g(!1),N(!0)},onNext:(e,t,s)=>{_({name:e,selectedSegment:t,selectedTemplate:s}),g(!1),S(!0)},savedSegments:P,savedTemplates:A}),a.jsx(j,{isOpen:f,onClose:()=>{b(!1),g(!0)},onApplySegment:e=>{P.find(t=>t.segment_name===e.segment_name)||E([...P,{...e,id:Date.now()}]),b(!1),g(!0)}}),a.jsx(z,{isOpen:v,onClose:()=>{N(!1),g(!0)},onSave:e=>{O([...A,e]),N(!1),g(!0)}}),a.jsx(R,{isOpen:k,onClose:()=>{S(!1)},onCreateCampaign:s=>{t([...e,{id:Date.now(),name:D.name,description:"Nueva campa\xf1a creada",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"award",image:D.selectedTemplate?.image||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:D.name,emailBody:"Descripci\xf3n de la campa\xf1a",startDate:s.startDate,endDate:s.endDate,conditions:s.rewardCode?`Usa el c\xf3digo ${s.rewardCode} para obtener ${s.discountPercentage}% de descuento`:"T\xe9rminos y condiciones aplican",cta:"Ver m\xe1s",templateName:D.selectedTemplate?D.selectedTemplate.name:"Template predeterminado",sent:!1,deliveryMethods:s.deliveryMethods,segment:D.selectedSegment?.segment_name||"Todos los clientes"}]),S(!1)},campaignName:D.name,selectedSegment:D.selectedSegment,selectedTemplate:D.selectedTemplate})]})};function tk(){return a.jsx(r.Z,{children:a.jsx(tw,{})})}},77636:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(62881).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},79094:(e,t,s)=>{"use strict";s.d(t,{Z:()=>g});var a=s(10326),r=s(17577),n=s(90434),i=s(35047),l=s(29798),o=s(6343),c=s(40765),d=s(17069),m=s(88378),u=s(71810);let x=({mobile:e})=>{let[t,s]=(0,r.useState)(!1),x=(0,i.usePathname)();return(0,a.jsxs)("div",{className:`h-0 flex-1 flex flex-col overflow-y-auto transition-all duration-300 ease-in-out ${!e&&"group"}`,onMouseEnter:()=>{e||s(!0)},onMouseLeave:()=>{e||s(!1)},children:[a.jsx("div",{className:"flex items-center justify-center h-40 flex-shrink-0 px-4 bg-custom-green-800 overflow-hidden shadow-md",children:(0,a.jsxs)("div",{className:"relative w-full h-full flex items-center justify-center",children:[a.jsx("img",{src:"/iso-1-white.png",alt:"Xquisito Logo",className:`h-20 w-auto transition-opacity duration-300 ${e||t?"opacity-100":"opacity-0 absolute"}`}),a.jsx("div",{className:`flex items-center justify-center transition-opacity duration-300 ${e||t?"opacity-0 absolute":"opacity-100"}`,children:a.jsx("div",{className:"h-12 w-12 flex items-center justify-center overflow-hidden",children:a.jsx("img",{src:"/iso-1-white.png",alt:"Xquisito Logo",className:"h-12 object-cover",style:{objectPosition:"center",width:"48px"}})})})]})}),(0,a.jsxs)("nav",{className:"mt-6 flex-1 px-3 bg-white space-y-2",children:[(0,a.jsxs)(n.default,{href:"/",className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${"/"===x?"bg-custom-green-100 text-custom-green-900 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(l.Z,{className:`flex-shrink-0 h-5 w-5 ${e||t?"mr-3 text-custom-green-600":"mx-auto text-gray-500"} transition-all duration-200`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Inicio"})]}),(0,a.jsxs)(n.default,{href:"/menu",className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${"/menu"===x?"bg-custom-green-100 text-custom-green-900 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(o.Z,{className:`flex-shrink-0 h-5 w-5 ${e||t?"mr-3 text-custom-green-600":"mx-auto text-gray-500"} transition-all duration-200`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Men\xfa"})]}),(0,a.jsxs)(n.default,{href:"/promotions",className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${"/promotions"===x?"bg-custom-green-100 text-custom-green-900 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(c.Z,{className:`flex-shrink-0 h-5 w-5 ${e||t?"mr-3 text-custom-green-600":"mx-auto text-gray-500"} transition-all duration-200`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Dine"})]}),(0,a.jsxs)(n.default,{href:"/rewards",className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${"/rewards"===x?"bg-custom-green-100 text-custom-green-900 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(d.Z,{className:`flex-shrink-0 h-5 w-5 ${e||t?"mr-3 text-custom-green-600":"mx-auto text-gray-500"} transition-all duration-200`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Scala"})]}),(0,a.jsxs)(n.default,{href:"/settings",className:`group flex items-center px-3 py-3 text-sm font-medium rounded-lg transition-all duration-200 ${"/settings"===x?"bg-custom-green-100 text-custom-green-900 shadow-sm":"text-gray-700 hover:bg-gray-100 hover:text-gray-900"}`,children:[a.jsx(m.Z,{className:`flex-shrink-0 h-5 w-5 ${e||t?"mr-3 text-custom-green-600":"mx-auto text-gray-500"} transition-all duration-200`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Configuraci\xf3n"})]}),a.jsx("div",{className:"pt-4 mt-6 border-t border-gray-200",children:(0,a.jsxs)("button",{onClick:()=>alert("Sesi\xf3n cerrada"),className:"w-full flex items-center px-3 py-3 text-sm font-medium rounded-lg text-red-600 hover:bg-red-50 hover:text-red-700 transition-all duration-200",children:[a.jsx(u.Z,{className:`flex-shrink-0 h-5 w-5 text-red-500 ${e||t?"mr-3":"mx-auto"}`}),a.jsx("span",{className:`${e||t?"block":"hidden"} transition-opacity duration-200`,children:"Cerrar sesi\xf3n"})]})})]})]})};var h=s(94019),p=s(90748);let g=({children:e})=>{let[t,s]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:"flex h-screen bg-gray-50",children:[a.jsx("div",{className:"md:hidden",children:(0,a.jsxs)("div",{className:`fixed inset-0 z-40 flex ${t?"visible":"invisible"}`,children:[a.jsx("div",{className:`fixed inset-0 bg-gray-600 bg-opacity-75 transition-opacity ease-linear duration-300 ${t?"opacity-100":"opacity-0"}`,onClick:()=>s(!1)}),(0,a.jsxs)("div",{className:`relative flex-1 flex flex-col max-w-xs w-full bg-white transition ease-in-out duration-300 transform shadow-xl ${t?"translate-x-0":"-translate-x-full"}`,children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:(0,a.jsxs)("button",{className:`ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white ${t?"":"hidden"}`,onClick:()=>s(!1),children:[a.jsx("span",{className:"sr-only",children:"Cerrar men\xfa"}),a.jsx(h.Z,{className:"h-6 w-6 text-white"})]})}),a.jsx(x,{mobile:!0})]}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})}),a.jsx("div",{className:"hidden md:flex md:flex-shrink-0",children:a.jsx("div",{className:"flex flex-col transition-all duration-300 ease-in-out w-16 hover:w-64 shadow-lg",children:a.jsx(x,{mobile:!1})})}),(0,a.jsxs)("div",{className:"flex flex-col flex-1 overflow-hidden",children:[(0,a.jsxs)("div",{className:"md:hidden pl-3 pt-3 flex items-center border-b border-gray-200 bg-white shadow-sm h-14 sticky top-0 z-10",children:[(0,a.jsxs)("button",{className:"h-10 w-10 inline-flex items-center justify-center rounded-md text-gray-500 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-custom-green-500",onClick:()=>s(!0),children:[a.jsx("span",{className:"sr-only",children:"Abrir men\xfa"}),a.jsx(p.Z,{className:"h-6 w-6"})]}),(0,a.jsxs)("div",{className:"ml-4 flex items-center",children:[a.jsx("img",{src:"/iso-1-white.png",alt:"Xquisito Logo",className:"h-8 w-auto mr-2"}),a.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Xquisito"})]})]}),a.jsx("main",{className:"flex-1 relative z-0 overflow-y-auto focus:outline-none bg-gray-50",children:a.jsx("div",{className:"py-6",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 md:px-8",children:e})})})]})]})}},11506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l,metadata:()=>i});var a=s(19510),r=s(77366),n=s.n(r);s(61141);let i={title:"Admin Portal - Xquisito",description:"Portal de Administraci\xf3n de Restaurantes Xquisito"};function l({children:e}){return a.jsx("html",{lang:"es",children:a.jsx("body",{className:n().className,children:e})})}},98728:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`C:\Users\adria\OneDrive\Documentos\Xquisito\Desarrollo\Portal-de-Administraci-n-de-Restaurantes-Xquisito---Fork\app\rewards\page.tsx#default`)},61141:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[480,233,420,45],()=>s(85563));module.exports=a})();
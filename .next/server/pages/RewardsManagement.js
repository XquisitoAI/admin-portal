"use strict";(()=>{var e={};e.id=883,e.ids=[883,660],e.modules={84281:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{config:()=>f,default:()=>x,getServerSideProps:()=>g,getStaticPaths:()=>p,getStaticProps:()=>h,reportWebVitals:()=>b,routeModule:()=>k,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>y});var r=s(87093),n=s(35244),i=s(1323),l=s(61682),o=s.n(l),c=s(48141),d=s.n(c),m=s(9058),u=e([m]);m=(u.then?(await u)():u)[0];let x=(0,i.l)(m,"default"),h=(0,i.l)(m,"getStaticProps"),p=(0,i.l)(m,"getStaticPaths"),g=(0,i.l)(m,"getServerSideProps"),f=(0,i.l)(m,"config"),b=(0,i.l)(m,"reportWebVitals"),y=(0,i.l)(m,"unstable_getStaticProps"),v=(0,i.l)(m,"unstable_getStaticPaths"),j=(0,i.l)(m,"unstable_getStaticParams"),N=(0,i.l)(m,"unstable_getServerProps"),w=(0,i.l)(m,"unstable_getServerSideProps"),k=new r.PagesRouteModule({definition:{kind:n.x.PAGES,page:"/RewardsManagement",pathname:"/RewardsManagement",bundlePath:"",filename:""},components:{App:d(),Document:o()},userland:m});a()}catch(e){a(e)}})},99737:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]])},95030:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]])},72003:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},23973:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},47340:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},54353:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]])},69972:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99954:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Grip",[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]])},43604:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},33656:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},76919:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},93012:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},7298:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("PanelsTopLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},1983:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]])},36460:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},26180:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},91579:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},17543:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]])},92763:(e,t,s)=>{s.d(t,{Z:()=>a});let a=(0,s(33592).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},18796:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{u:()=>R});var r=s(16689),n=s.n(r),i=s(16593),l=s(83522),o=s.n(l),c=s(25716),d=s.n(c),m=s(36625),u=s.n(m),x=s(86069),h=s.n(x),p=s(68843),g=s.n(p),f=s(40113),b=s.n(f),y=s(8120),v=s(35092),j=s(59805),N=s(59098),w=s(39619),k=s(4442),C=s(54406),S=s(97018),E=e([i,j,y,N,C,v]);[i,j,y,N,C,v]=E.then?(await E)():E;var P=["layout","type","stroke","connectNulls","isRange","ref"],A=["key"];function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}function D(){return(D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function _(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function q(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?_(Object(s),!0).forEach(function(t){F(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):_(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function M(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,L(a.key),a)}}function T(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(T=function(){return!!e})()}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function F(e,t,s){return(t=L(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function L(e){var t=function(e,t){if("object"!=Z(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=Z(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Z(t)?t:t+""}var R=function(e){var t,s;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,s,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=a,s=[].concat(n),t=z(t),e=function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,T()?Reflect.construct(t,s||[],z(this).constructor):t.apply(this,s)),F(e,"state",{isAnimationFinished:!0}),F(e,"id",(0,k.EL)("recharts-area-")),F(e,"handleAnimationEnd",function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),d()(t)&&t()}),F(e,"handleAnimationStart",function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),d()(t)&&t()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(a,e),t=[{key:"renderDots",value:function(e,t,s){var r=this.props.isAnimationActive,i=this.state.isAnimationFinished;if(r&&!i)return null;var l=this.props,o=l.dot,c=l.points,d=l.dataKey,m=(0,S.L6)(this.props,!1),u=(0,S.L6)(o,!0),x=c.map(function(e,t){var s=q(q(q({key:"dot-".concat(t),r:3},m),u),{},{index:t,cx:e.x,cy:e.y,dataKey:d,value:e.value,payload:e.payload,points:c});return a.renderDotItem(o,s)}),h={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(s,")"):null};return n().createElement(j.m,D({className:"recharts-area-dots"},h),x)}},{key:"renderHorizontalRect",value:function(e){var t=this.props,s=t.baseLine,a=t.points,r=t.strokeWidth,i=a[0].x,l=a[a.length-1].x,o=e*Math.abs(i-l),c=u()(a.map(function(e){return e.y||0}));return((0,k.hj)(s)&&"number"==typeof s?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(u()(s.map(function(e){return e.y||0})),c)),(0,k.hj)(c))?n().createElement("rect",{x:i<l?i:i-o,y:0,width:o,height:Math.floor(c+(r?parseInt("".concat(r),10):1))}):null}},{key:"renderVerticalRect",value:function(e){var t=this.props,s=t.baseLine,a=t.points,r=t.strokeWidth,i=a[0].y,l=a[a.length-1].y,o=e*Math.abs(i-l),c=u()(a.map(function(e){return e.x||0}));return((0,k.hj)(s)&&"number"==typeof s?c=Math.max(s,c):s&&Array.isArray(s)&&s.length&&(c=Math.max(u()(s.map(function(e){return e.x||0})),c)),(0,k.hj)(c))?n().createElement("rect",{x:0,y:i<l?i:i-o,width:c+(r?parseInt("".concat(r),10):1),height:Math.floor(o)}):null}},{key:"renderClipRect",value:function(e){var t=this.props.layout;return"vertical"===t?this.renderVerticalRect(e):this.renderHorizontalRect(e)}},{key:"renderAreaStatically",value:function(e,t,s,a){var r=this.props,i=r.layout,l=r.type,o=r.stroke,c=r.connectNulls,d=r.isRange,m=(r.ref,O(r,P));return n().createElement(j.m,{clipPath:s?"url(#clipPath-".concat(a,")"):null},n().createElement(y.H,D({},(0,S.L6)(m,!0),{points:e,connectNulls:c,type:l,baseLine:t,layout:i,stroke:"none",className:"recharts-area-area"})),"none"!==o&&n().createElement(y.H,D({},(0,S.L6)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:c,fill:"none",points:e})),"none"!==o&&d&&n().createElement(y.H,D({},(0,S.L6)(this.props,!1),{className:"recharts-area-curve",layout:i,type:l,connectNulls:c,fill:"none",points:t})))}},{key:"renderAreaWithAnimation",value:function(e,t){var s=this,a=this.props,r=a.points,i=a.baseLine,l=a.isAnimationActive,c=a.animationBegin,d=a.animationDuration,m=a.animationEasing,u=a.animationId,x=this.state,p=x.prevPoints,f=x.prevBaseLine;return n().createElement(o(),{begin:c,duration:d,isActive:l,easing:m,from:{t:0},to:{t:1},key:"area-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(a){var l=a.t;if(p){var o,c=p.length/r.length,d=r.map(function(e,t){var s=Math.floor(t*c);if(p[s]){var a=p[s],r=(0,k.k4)(a.x,e.x),n=(0,k.k4)(a.y,e.y);return q(q({},e),{},{x:r(l),y:n(l)})}return e});return o=(0,k.hj)(i)&&"number"==typeof i?(0,k.k4)(f,i)(l):h()(i)||g()(i)?(0,k.k4)(f,0)(l):i.map(function(e,t){var s=Math.floor(t*c);if(f[s]){var a=f[s],r=(0,k.k4)(a.x,e.x),n=(0,k.k4)(a.y,e.y);return q(q({},e),{},{x:r(l),y:n(l)})}return e}),s.renderAreaStatically(d,o,e,t)}return n().createElement(j.m,null,n().createElement("defs",null,n().createElement("clipPath",{id:"animationClipPath-".concat(t)},s.renderClipRect(l))),n().createElement(j.m,{clipPath:"url(#animationClipPath-".concat(t,")")},s.renderAreaStatically(r,i,e,t)))})}},{key:"renderArea",value:function(e,t){var s=this.props,a=s.points,r=s.baseLine,n=s.isAnimationActive,i=this.state,l=i.prevPoints,o=i.prevBaseLine,c=i.totalLength;return n&&a&&a.length&&(!l&&c>0||!b()(l,a)||!b()(o,r))?this.renderAreaWithAnimation(e,t):this.renderAreaStatically(a,r,e,t)}},{key:"render",value:function(){var e,t=this.props,s=t.hide,a=t.dot,r=t.points,l=t.className,o=t.top,c=t.left,d=t.xAxis,m=t.yAxis,u=t.width,x=t.height,p=t.isAnimationActive,g=t.id;if(s||!r||!r.length)return null;var f=this.state.isAnimationFinished,b=1===r.length,y=(0,i.default)("recharts-area",l),v=d&&d.allowDataOverflow,w=m&&m.allowDataOverflow,k=v||w,C=h()(g)?this.id:g,E=null!==(e=(0,S.L6)(a,!1))&&void 0!==e?e:{r:3,strokeWidth:2},P=E.r,A=E.strokeWidth,Z=((0,S.jf)(a)?a:{}).clipDot,O=void 0===Z||Z,D=2*(void 0===P?3:P)+(void 0===A?2:A);return n().createElement(j.m,{className:y},v||w?n().createElement("defs",null,n().createElement("clipPath",{id:"clipPath-".concat(C)},n().createElement("rect",{x:v?c:c-u/2,y:w?o:o-x/2,width:v?u:2*u,height:w?x:2*x})),!O&&n().createElement("clipPath",{id:"clipPath-dots-".concat(C)},n().createElement("rect",{x:c-D/2,y:o-D/2,width:u+D,height:x+D}))):null,b?null:this.renderArea(k,C),(a||b)&&this.renderDots(k,O,C),(!p||f)&&N.e.renderCallByParent(this.props,r))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,curBaseLine:e.baseLine,prevPoints:t.curPoints,prevBaseLine:t.curBaseLine}:e.points!==t.curPoints||e.baseLine!==t.curBaseLine?{curPoints:e.points,curBaseLine:e.baseLine}:null}}],t&&M(a.prototype,t),s&&M(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);F(R,"displayName","Area"),F(R,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!w.x.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),F(R,"getBaseValue",function(e,t,s,a){var r=e.layout,n=e.baseValue,i=t.props.baseValue,l=null!=i?i:n;if((0,k.hj)(l)&&"number"==typeof l)return l;var o="horizontal"===r?a:s,c=o.scale.domain();if("number"===o.type){var d=Math.max(c[0],c[1]),m=Math.min(c[0],c[1]);return"dataMin"===l?m:"dataMax"===l?d:d<0?d:Math.max(Math.min(c[0],c[1]),0)}return"dataMin"===l?c[0]:"dataMax"===l?c[1]:c[0]}),F(R,"getComposedData",function(e){var t,s=e.props,a=e.item,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,o=e.bandSize,c=e.dataKey,d=e.stackedData,m=e.dataStartIndex,u=e.displayedData,x=e.offset,h=s.layout,p=d&&d.length,g=R.getBaseValue(s,a,r,n),f="horizontal"===h,b=!1,y=u.map(function(e,t){p?s=d[m+t]:(s=(0,C.F$)(e,c),Array.isArray(s)?b=!0:s=[g,s]);var s,a=null==s[1]||p&&null==(0,C.F$)(e,c);return f?{x:(0,C.Hv)({axis:r,ticks:i,bandSize:o,entry:e,index:t}),y:a?null:n.scale(s[1]),value:s,payload:e}:{x:a?null:r.scale(s[1]),y:(0,C.Hv)({axis:n,ticks:l,bandSize:o,entry:e,index:t}),value:s,payload:e}});return t=p||b?y.map(function(e){var t=Array.isArray(e.value)?e.value[0]:null;return f?{x:e.x,y:null!=t&&null!=e.y?n.scale(t):null}:{x:null!=t?r.scale(t):null,y:e.y}}):f?n.scale(g):r.scale(g),q({points:y,baseLine:t,layout:h,isRange:b},x)}),F(R,"renderDotItem",function(e,t){var s;if(n().isValidElement(e))s=n().cloneElement(e,t);else if(d()(e))s=e(t);else{var a=(0,i.default)("recharts-area-dot","boolean"!=typeof e?e.className:""),r=t.key,l=O(t,A);s=n().createElement(v.o,D({},l,{key:r,className:a}))}return s}),a()}catch(e){a(e)}})},3590:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{b:()=>$});var r=s(16689),n=s.n(r),i=s(83522),l=s.n(i),o=s(86069),c=s.n(o),d=s(40113),m=s.n(d),u=s(25716),x=s.n(u),h=s(16593),p=s(59805),g=s(59098),f=s(97018),b=s(39619),y=s(29118),v=s(8120),j=s(17477),N=s(87680),w=s(4442),k=s(54406),C=s(47672),S=s(42674),E=e([h,p,S,j,k,v,g]);function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){return(A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function Z(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,a)}return s}function O(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(s),!0).forEach(function(t){T(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function D(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,z(a.key),a)}}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function q(e){return(q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function M(e,t){return(M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(e,t,s){return(t=z(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function z(e){var t=function(e,t){if("object"!=P(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var a=s.call(e,t||"default");if("object"!=P(a))return a;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==P(t)?t:t+""}[h,p,S,j,k,v,g]=E.then?(await E)():E;var $=function(e){var t,s;function a(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,a);for(var e,t,s,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return t=a,s=[].concat(n),t=q(t),e=function(e,t){if(t&&("object"===P(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,_()?Reflect.construct(t,s||[],q(this).constructor):t.apply(this,s)),T(e,"state",{isAnimationFinished:!1}),T(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0})}),T(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1})}),T(e,"id",(0,w.EL)("recharts-scatter-")),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(a,e),t=[{key:"renderSymbolsStatically",value:function(e){var t=this,s=this.props,a=s.shape,r=s.activeShape,i=s.activeIndex,l=(0,f.L6)(this.props,!1);return e.map(function(e,s){var o=i===s,c=O(O({},l),e);return n().createElement(p.m,A({className:"recharts-scatter-symbol",key:"symbol-".concat(null==e?void 0:e.cx,"-").concat(null==e?void 0:e.cy,"-").concat(null==e?void 0:e.size,"-").concat(s)},(0,C.bw)(t.props,e,s),{role:"img"}),n().createElement(S.f,A({option:o?r:a,isActive:o,key:"symbol-".concat(s)},c)))})}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,s=t.points,a=t.isAnimationActive,r=t.animationBegin,i=t.animationDuration,o=t.animationEasing,c=t.animationId,d=this.state.prevPoints;return n().createElement(l(),{begin:r,duration:i,isActive:a,easing:o,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(t){var a=t.t,r=s.map(function(e,t){var s=d&&d[t];if(s){var r=(0,w.k4)(s.cx,e.cx),n=(0,w.k4)(s.cy,e.cy),i=(0,w.k4)(s.size,e.size);return O(O({},e),{},{cx:r(a),cy:n(a),size:i(a)})}var l=(0,w.k4)(0,e.size);return O(O({},e),{},{size:l(a)})});return n().createElement(p.m,null,e.renderSymbolsStatically(r))})}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,s=e.isAnimationActive,a=this.state.prevPoints;return s&&t&&t.length&&(!a||!m()(a,t))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(t)}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,s=e.xAxis,a=e.yAxis,r=e.children,i=(0,f.NN)(r,j.W);return i?i.map(function(e,r){var i=e.props,l=i.direction,o=i.dataKey;return n().cloneElement(e,{key:"".concat(l,"-").concat(o,"-").concat(t[r]),data:t,xAxis:s,yAxis:a,layout:"x"===l?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===l?+e.node.x:+e.node.y,errorVal:(0,k.F$)(e,t)}}})}):null}},{key:"renderLine",value:function(){var e,t,s=this.props,a=s.points,r=s.line,i=s.lineType,l=s.lineJointType,o=(0,f.L6)(this.props,!1),c=(0,f.L6)(r,!1);if("joint"===i)e=a.map(function(e){return{x:e.cx,y:e.cy}});else if("fitting"===i){var d=(0,w.wr)(a),m=d.xmin,u=d.xmax,h=d.a,g=d.b,b=function(e){return h*e+g};e=[{x:m,y:b(m)},{x:u,y:b(u)}]}var y=O(O(O({},o),{},{fill:"none",stroke:o&&o.fill},c),{},{points:e});return t=n().isValidElement(r)?n().cloneElement(r,y):x()(r)?r(y):n().createElement(v.H,A({},y,{type:l})),n().createElement(p.m,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,s=e.points,a=e.line,r=e.className,i=e.xAxis,l=e.yAxis,o=e.left,d=e.top,m=e.width,u=e.height,x=e.id,f=e.isAnimationActive;if(t||!s||!s.length)return null;var b=this.state.isAnimationFinished,y=(0,h.default)("recharts-scatter",r),v=i&&i.allowDataOverflow,j=l&&l.allowDataOverflow,N=c()(x)?this.id:x;return n().createElement(p.m,{className:y,clipPath:v||j?"url(#clipPath-".concat(N,")"):null},v||j?n().createElement("defs",null,n().createElement("clipPath",{id:"clipPath-".concat(N)},n().createElement("rect",{x:v?o:o-m/2,y:j?d:d-u/2,width:v?m:2*m,height:j?u:2*u}))):null,a&&this.renderLine(),this.renderErrorBar(),n().createElement(p.m,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||b)&&g.e.renderCallByParent(this.props,s))}}],s=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],t&&D(a.prototype,t),s&&D(a,s),Object.defineProperty(a,"prototype",{writable:!1}),a}(r.PureComponent);T($,"displayName","Scatter"),T($,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!b.x.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),T($,"getComposedData",function(e){var t=e.xAxis,s=e.yAxis,a=e.zAxis,r=e.item,n=e.displayedData,i=e.xAxisTicks,l=e.yAxisTicks,o=e.offset,d=r.props.tooltipType,m=(0,f.NN)(r.props.children,N.b),u=c()(t.dataKey)?r.props.dataKey:t.dataKey,x=c()(s.dataKey)?r.props.dataKey:s.dataKey,h=a&&a.dataKey,p=a?a.range:y.d.defaultProps.range,g=p&&p[0],b=t.scale.bandwidth?t.scale.bandwidth():0,v=s.scale.bandwidth?s.scale.bandwidth():0,j=n.map(function(e,n){var o=(0,k.F$)(e,u),p=(0,k.F$)(e,x),f=!c()(h)&&(0,k.F$)(e,h)||"-",y=[{name:c()(t.dataKey)?r.props.name:t.name||t.dataKey,unit:t.unit||"",value:o,payload:e,dataKey:u,type:d},{name:c()(s.dataKey)?r.props.name:s.name||s.dataKey,unit:s.unit||"",value:p,payload:e,dataKey:x,type:d}];"-"!==f&&y.push({name:a.name||a.dataKey,unit:a.unit||"",value:f,payload:e,dataKey:h,type:d});var j=(0,k.Hv)({axis:t,ticks:i,bandSize:b,entry:e,index:n,dataKey:u}),N=(0,k.Hv)({axis:s,ticks:l,bandSize:v,entry:e,index:n,dataKey:x}),w="-"!==f?a.scale(f):g,C=Math.sqrt(Math.max(w,0)/Math.PI);return O(O({},e),{},{cx:j,cy:N,x:j-C,y:N-C,xAxis:t,yAxis:s,zAxis:a,width:2*C,height:2*C,size:w,node:{x:o,y:p,z:f},tooltipPayload:y,tooltipPosition:{x:j,y:N},payload:e},m&&m[n]&&m[n].props)});return O({points:j},o)}),a()}catch(e){a(e)}})},29118:(e,t,s)=>{function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(r=function(){return!!e})()}function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,s){return(t=o(t))in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e){var t=function(e,t){if("object"!=a(e)||!e)return e;var s=e[Symbol.toPrimitive];if(void 0!==s){var r=s.call(e,t||"default");if("object"!=a(r))return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==a(t)?t:t+""}s.d(t,{d:()=>c});var c=function(e){var t;function s(){var e,t;return function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,s),e=s,t=arguments,e=n(e),function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r()?Reflect.construct(e,t||[],n(this).constructor):e.apply(this,t))}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(s,e),t=[{key:"render",value:function(){return null}}],function(e,t){for(var s=0;s<t.length;s++){var a=t[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,o(a.key),a)}}(s.prototype,t),Object.defineProperty(s,"prototype",{writable:!1}),s}(s(16689).Component);l(c,"displayName","ZAxis"),l(c,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"})},1463:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{c:()=>h});var r=s(21953),n=s(18796),i=s(62085),l=s(30118),o=s(3590),c=s(38168),d=s(37705),m=s(29118),u=s(3168),x=e([r,l,n,i,o,c,d,u]);[r,l,n,i,o,c,d,u]=x.then?(await x)():x;var h=(0,r.z)({chartName:"ComposedChart",GraphicalChild:[l.x,n.u,i.$,o.b],axisComponents:[{axisType:"xAxis",AxisComp:c.K},{axisType:"yAxis",AxisComp:d.B},{axisType:"zAxis",AxisComp:m.d}],formatAxisMap:u.t9});a()}catch(e){a(e)}})},42674:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{f:()=>d});var r=s(16689),n=s(91455),i=s(88030),l=e([i,n]);[i,n]=l.then?(await l)():l;var o=["option","isActive"];function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e}).apply(this,arguments)}function d(e){var t=e.option,s=e.isActive,a=function(e,t){if(null==e)return{};var s,a,r=function(e,t){if(null==e)return{};var s={};for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;s[a]=e[a]}return s}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(r[s]=e[s])}return r}(e,o);return"string"==typeof t?r.createElement(i.bn,c({option:r.createElement(n.v,c({type:t},a)),isActive:s,shapeType:"symbols"},a)):r.createElement(i.bn,c({option:t,isActive:s,shapeType:"symbols"},a))}a()}catch(e){a(e)}})},53883:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.d(t,{Z:()=>T});var r=s(20997),n=s(16689),i=s(26180),l=s(2461),o=s(63795),c=s(22972),d=s(33656),m=s(56227),u=s(1983),x=s(92763),h=s(41036),p=s(93012),g=s(39958),f=s(42546),b=s(18329),y=s(38168),v=s(37705),j=s(49622),N=s(43087),w=s(62085),k=s(46734),C=s(30118),S=s(1463),E=s(35461),P=s(24427),A=s(87680),Z=e([g,f,b,y,v,j,N,w,k,C,S,E,P]);[g,f,b,y,v,j,N,w,k,C,S,E,P]=Z.then?(await Z)():Z;let O=e=>[{name:"Lun",sent:42,redeemed:18,revenue:1800},{name:"Mar",sent:38,redeemed:15,revenue:1500},{name:"Mi\xe9",sent:45,redeemed:22,revenue:2200},{name:"Jue",sent:52,redeemed:28,revenue:2800},{name:"Vie",sent:68,redeemed:40,revenue:4e3},{name:"S\xe1b",sent:75,redeemed:45,revenue:4500},{name:"Dom",sent:60,redeemed:32,revenue:3200}],D=e=>[{name:"Sem 1",sent:280,redeemed:120,revenue:12e3},{name:"Sem 2",sent:310,redeemed:145,revenue:14500},{name:"Sem 3",sent:340,redeemed:165,revenue:16500},{name:"Sem 4",sent:380,redeemed:190,revenue:19e3}],_=e=>[{name:"Ene",sent:1200,redeemed:580,revenue:58e3},{name:"Feb",sent:1300,redeemed:620,revenue:62e3},{name:"Mar",sent:1400,redeemed:680,revenue:68e3},{name:"Abr",sent:1500,redeemed:720,revenue:72e3},{name:"May",sent:1600,redeemed:760,revenue:76e3},{name:"Jun",sent:1800,redeemed:840,revenue:84e3}],q=e=>[{name:"Email",value:75},{name:"SMS",value:25}],M=e=>[{id:1,name:"Ana Garc\xeda",email:"ana.garcia@email.com",date:"2023-10-15",channel:"Email"},{id:2,name:"Carlos Rodr\xedguez",email:"carlos.rodriguez@email.com",date:"2023-10-16",channel:"Email"},{id:3,name:"Sof\xeda Mart\xednez",email:"sofia.martinez@email.com",date:"2023-10-17",channel:"SMS"},{id:4,name:"Miguel L\xf3pez",email:"miguel.lopez@email.com",date:"2023-10-18",channel:"Email"},{id:5,name:"Laura Hern\xe1ndez",email:"laura.hernandez@email.com",date:"2023-10-19",channel:"SMS"},{id:6,name:"Javier Gonz\xe1lez",email:"javier.gonzalez@email.com",date:"2023-10-20",channel:"Email"},{id:7,name:"Patricia D\xedaz",email:"patricia.diaz@email.com",date:"2023-10-21",channel:"Email"},{id:8,name:"Fernando P\xe9rez",email:"fernando.perez@email.com",date:"2023-10-22",channel:"SMS"}],T=({isOpen:e,onClose:t,campaign:s})=>{let[a,Z]=(0,n.useState)("daily"),[T,z]=(0,n.useState)(!1),[$,F]=(0,n.useState)(!1),[L,R]=(0,n.useState)("all"),B=O(s),I=D(s),V=_(s),K=q(s),H=M(s),U=()=>{alert("Datos exportados a CSV")},G=()=>{switch(a){case"weekly":return I;case"monthly":return V;default:return B}},W=G().reduce((e,t)=>e+t.sent,0),J=G().reduce((e,t)=>e+t.redeemed,0),Y=W>0?Math.round(J/W*100):0,X=G().reduce((e,t)=>e+t.revenue,0);return e?(0,r.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:t,"aria-hidden":"true"}),(0,r.jsxs)("div",{className:"relative w-full max-w-6xl h-[90vh] mx-auto bg-white rounded-2xl shadow-xl overflow-hidden animate-in fade-in duration-200 ease-out",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:r.jsx(i.Z,{className:"h-6 w-6 text-custom-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:["Dashboard: ",s.name]}),r.jsx("p",{className:"text-sm text-gray-500",children:"M\xe9tricas y an\xe1lisis de la campa\xf1a de recompensas"})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:()=>{z(!0),setTimeout(()=>{z(!1)},1e3)},className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",disabled:T,children:r.jsx(l.Z,{className:`h-5 w-5 ${T?"animate-spin":""}`})}),r.jsx("button",{onClick:U,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:r.jsx(o.Z,{className:"h-5 w-5"})}),r.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar dashboard",children:r.jsx(c.Z,{className:"h-6 w-6"})})]})]}),(0,r.jsxs)("div",{className:"h-[calc(90vh-76px)] overflow-y-auto p-5",children:[(0,r.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"mr-4",children:r.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Filtrar por canal:"})}),(0,r.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[r.jsx("button",{onClick:()=>R("all"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${"all"===L?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Todos"}),r.jsx("button",{onClick:()=>R("email"),className:`px-4 py-2 text-sm font-medium ${"email"===L?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-l border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Email"}),r.jsx("button",{onClick:()=>R("sms"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${"sms"===L?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"SMS"})]})]}),(0,r.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[r.jsx("button",{onClick:()=>Z("daily"),className:`px-4 py-2 text-sm font-medium rounded-l-md ${"daily"===a?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Diario"}),r.jsx("button",{onClick:()=>Z("weekly"),className:`px-4 py-2 text-sm font-medium ${"weekly"===a?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border-t border-b border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Semanal"}),r.jsx("button",{onClick:()=>Z("monthly"),className:`px-4 py-2 text-sm font-medium rounded-r-md ${"monthly"===a?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"} border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500`,children:"Mensual"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5 mb-6",children:[r.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:r.jsx("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-custom-green-100 p-3 rounded-full",children:r.jsx(d.Z,{className:"h-6 w-6 text-custom-green-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones enviados"}),(0,r.jsxs)("dd",{className:"flex items-baseline",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:W}),(0,r.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[r.jsx(m.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),r.jsx("span",{className:"sr-only",children:"Incremento"}),"12.5%"]})]})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:r.jsx("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-blue-100 p-3 rounded-full",children:r.jsx(i.Z,{className:"h-6 w-6 text-blue-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones canjeados"}),(0,r.jsxs)("dd",{className:"flex items-baseline",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:J}),(0,r.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[r.jsx(m.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),r.jsx("span",{className:"sr-only",children:"Incremento"}),"18.2%"]})]})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:r.jsx("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-amber-100 p-3 rounded-full",children:r.jsx(u.Z,{className:"h-6 w-6 text-amber-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tasa de conversi\xf3n"}),(0,r.jsxs)("dd",{className:"flex items-baseline",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[Y,"%"]}),(0,r.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[r.jsx(m.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),r.jsx("span",{className:"sr-only",children:"Incremento"}),"5.3%"]})]})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:r.jsx("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-purple-100 p-3 rounded-full",children:r.jsx(x.Z,{className:"h-6 w-6 text-purple-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Nuevos clientes"}),(0,r.jsxs)("dd",{className:"flex items-baseline",children:[r.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:Math.round(.35*J)}),(0,r.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[r.jsx(m.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),r.jsx("span",{className:"sr-only",children:"Incremento"}),"8.4%"]})]})]})})]})})}),r.jsx("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:r.jsx("div",{className:"p-5",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 bg-green-100 p-3 rounded-full",children:r.jsx(h.Z,{className:"h-6 w-6 text-green-600"})}),r.jsx("div",{className:"ml-5 w-0 flex-1",children:(0,r.jsxs)("dl",{children:[r.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Monto redimido"}),(0,r.jsxs)("dd",{className:"flex items-baseline",children:[(0,r.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:["$",X]}),(0,r.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[r.jsx(m.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),r.jsx("span",{className:"sr-only",children:"Incremento"}),"15.6%"]})]})]})})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Canjes por"," ","daily"===a?"d\xeda":"weekly"===a?"semana":"mes"]}),r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(m.Z,{className:"h-3 w-3 mr-1"}),"15.3%"]})})]}),r.jsx("div",{className:"h-80",children:r.jsx(g.h,{width:"100%",height:"100%",children:(0,r.jsxs)(f.v,{data:G(),margin:{top:10,right:30,left:0,bottom:0},children:[r.jsx(b.q,{strokeDasharray:"3 3",vertical:!1}),r.jsx(y.K,{dataKey:"name"}),r.jsx(v.B,{}),r.jsx(j.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`${e} cupones`,"Canjes"]}),r.jsx(N.D,{}),r.jsx(w.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]})]})})})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Ingresos atribuidos por"," ","daily"===a?"d\xeda":"weekly"===a?"semana":"mes"]}),r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[r.jsx(m.Z,{className:"h-3 w-3 mr-1"}),"18.2%"]})})]}),r.jsx("div",{className:"h-80",children:r.jsx(g.h,{width:"100%",height:"100%",children:(0,r.jsxs)(k.w,{data:G(),margin:{top:10,right:30,left:0,bottom:0},children:[r.jsx(b.q,{strokeDasharray:"3 3",vertical:!1}),r.jsx(y.K,{dataKey:"name"}),r.jsx(v.B,{}),r.jsx(j.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`$${e}`,"Ingresos"]}),r.jsx(N.D,{}),r.jsx(C.x,{type:"monotone",dataKey:"revenue",name:"Ingresos",stroke:"#0EA5E9",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100 mb-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Comparativa: Enviados vs. Canjeados"}),r.jsx("div",{className:"flex items-center",children:(0,r.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Tasa de conversi\xf3n: ",Y,"%"]})})]}),r.jsx("div",{className:"h-80",children:r.jsx(g.h,{width:"100%",height:"100%",children:(0,r.jsxs)(S.c,{data:G(),margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(b.q,{strokeDasharray:"3 3",vertical:!1}),r.jsx(y.K,{dataKey:"name"}),r.jsx(v.B,{}),r.jsx(j.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),r.jsx(N.D,{}),r.jsx(w.$,{dataKey:"sent",name:"Cupones enviados",fill:"#94A3B8",radius:[4,4,0,0]}),r.jsx(w.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]}),r.jsx(C.x,{type:"monotone",dataKey:"redeemed",name:"Tendencia de canjes",stroke:"#0EA5E9",strokeWidth:2,dot:!1})]})})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles de la campa\xf1a"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Nombre de la campa\xf1a"}),r.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.name})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Template aplicado"}),r.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.templateName||"Template predeterminado"})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Segmento utilizado"}),r.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:s.segment||"Todos los clientes"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha inicio"}),r.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(s.startDate).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha fin"}),r.jsx("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(s.endDate).toLocaleDateString()})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Puntos requeridos"}),(0,r.jsxs)("p",{className:"mt-1 text-base font-medium text-gray-900",children:[s.pointsRequired," puntos"]})]}),(0,r.jsxs)("div",{children:[r.jsx("h4",{className:"text-sm font-medium text-gray-500",children:"Estado"}),r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 mt-1 rounded-full text-xs font-medium ${"active"===s.status?"bg-green-100 text-green-800":"paused"===s.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"active"===s.status?"Activa":"paused"===s.status?"Pausada":"Expirada"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci\xf3n por canal"}),r.jsx("div",{className:"h-64",children:r.jsx(g.h,{width:"100%",height:"100%",children:(0,r.jsxs)(E.u,{children:[(0,r.jsxs)(P.b,{data:K,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:({name:e,percent:t})=>`${e} (${(100*t).toFixed(0)}%)`,children:[r.jsx(A.b,{fill:"#0EA5E9"}),r.jsx(A.b,{fill:"#FACC15"})]}),r.jsx(j.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>[`${e}%`,"Porcentaje"]})]})})}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-[#0EA5E9] rounded-full mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"Email"})]}),r.jsx("span",{className:"text-sm font-medium",children:"75%"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("span",{className:"w-3 h-3 bg-[#FACC15] rounded-full mr-2"}),r.jsx("span",{className:"text-sm text-gray-600",children:"SMS"})]}),r.jsx("span",{className:"text-sm font-medium",children:"25%"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vista previa"}),r.jsx("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:r.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s.emailSubject}),r.jsx("p",{className:"text-sm text-gray-500 line-clamp-3",children:s.emailBody}),r.jsx("div",{className:"flex justify-center mt-3",children:r.jsx("button",{className:"bg-custom-green-600 text-white text-sm px-4 py-2 rounded-md",children:s.cta||"Ver oferta"})})]})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Usuarios que canjearon"}),r.jsx("button",{onClick:()=>F(!$),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-custom-green-700 bg-custom-green-100 hover:bg-custom-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:$?"Ocultar tabla":"Mostrar tabla"})]}),$&&r.jsx("div",{className:"bg-white rounded-lg shadow border border-gray-100 overflow-hidden mb-6",children:r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[r.jsx("thead",{className:"bg-gray-50",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de canje"}),r.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Canal"})]})}),r.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:("all"===L?H:H.filter(e=>e.channel.toLowerCase()===L.toLowerCase())).map(e=>(0,r.jsxs)("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-sm font-medium text-gray-500",children:e.name.charAt(0)})}),r.jsx("div",{className:"ml-4",children:r.jsx("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:r.jsx("div",{className:"text-sm text-gray-500",children:e.date})}),r.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,r.jsxs)("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"Email"===e.channel?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"}`,children:["Email"===e.channel?r.jsx(d.Z,{className:"mr-1 h-3 w-3"}):r.jsx(p.Z,{className:"mr-1 h-3 w-3"}),e.channel]})})]},e.id))})]})})})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200 p-4 flex justify-end",children:[(0,r.jsxs)("button",{onClick:U,className:"mr-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[r.jsx(o.Z,{className:"h-5 w-5 mr-2 text-gray-400"}),"Exportar datos"]}),r.jsx("button",{onClick:t,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:"Cerrar"})]})]})]}):null};a()}catch(e){a(e)}})},73449:(e,t,s)=>{s.d(t,{Z:()=>u});var a=s(20997),r=s(16689),n=s(22972),i=s(80906),l=s(33656);let o=(0,s(33592).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var c=s(23973),d=s(72003),m=s(26180);let u=({isOpen:e,onClose:t,onCreateCampaign:s,campaignName:u,selectedSegment:x,selectedTemplate:h})=>{let p=new Date().toISOString().split("T")[0],g=new Date;g.setDate(g.getDate()+30);let f=g.toISOString().split("T")[0],[b,y]=(0,r.useState)({email:!0,sms:!1}),[v,j]=(0,r.useState)(p),[N,w]=(0,r.useState)(f),[k,C]=(0,r.useState)(""),[S,E]=(0,r.useState)(""),[P,A]=(0,r.useState)(""),[Z,O]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=b.email||b.sms,t=!P&&v&&N;O(e&&t)},[b,v,N,P]),(0,r.useEffect)(()=>{if(v&&N){let e=new Date(v);new Date(N)<e?A("La fecha de fin debe ser posterior a la fecha de inicio"):A("")}},[v,N]);let D=e=>{y(t=>({...t,[e]:!t[e]}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Configurar detalles de la campa\xf1a"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:a.jsx(n.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx(i.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Campa\xf1a:"," ",a.jsx("span",{className:"text-custom-green-600",children:u})]})]}),x&&(0,a.jsxs)("div",{className:"flex items-center mb-2",children:[a.jsx(i.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Segmento:"," ",a.jsx("span",{className:"text-custom-green-600",children:x.segment_name})]})]}),h&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(i.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Template:"," ",a.jsx("span",{className:"text-custom-green-600",children:h.name})]})]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["M\xe9todo de env\xedo ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${b.email?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>D("email"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 ${b.email?"bg-custom-green-100":"bg-gray-100"}`,children:a.jsx(l.Z,{className:`h-5 w-5 ${b.email?"text-custom-green-600":"text-gray-500"}`})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"Email"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por correo electr\xf3nico"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx("div",{className:`w-5 h-5 rounded-full border ${b.email?"border-custom-green-600 bg-custom-green-600":"border-gray-300"} flex items-center justify-center`,children:b.email&&a.jsx(i.Z,{className:"h-3 w-3 text-white"})})})]})}),a.jsx("div",{className:`border rounded-lg p-4 cursor-pointer transition-all ${b.sms?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"}`,onClick:()=>D("sms"),children:(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:`p-2 rounded-full mr-3 ${b.sms?"bg-custom-green-100":"bg-gray-100"}`,children:a.jsx(o,{className:`h-5 w-5 ${b.sms?"text-custom-green-600":"text-gray-500"}`})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:"SMS"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por mensaje de texto"})]}),a.jsx("div",{className:"ml-auto",children:a.jsx("div",{className:`w-5 h-5 rounded-full border ${b.sms?"border-custom-green-600 bg-custom-green-600":"border-gray-300"} flex items-center justify-center`,children:b.sms&&a.jsx(i.Z,{className:"h-3 w-3 text-white"})})})]})})]}),!b.email&&!b.sms&&(0,a.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-1"}),"Selecciona al menos un m\xe9todo de env\xedo"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Fechas de la campa\xf1a ",a.jsx("span",{className:"text-red-500",children:"*"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"start-date",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de inicio"]}),a.jsx("input",{type:"date",id:"start-date",min:p,value:v,onChange:e=>j(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"end-date",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de fin"]}),a.jsx("input",{type:"date",id:"end-date",min:v,value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]})]}),P&&(0,a.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx(c.Z,{className:"h-4 w-4 mr-1"}),P]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["C\xf3digo de recompensa"," ",a.jsx("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"reward-code",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(m.Z,{className:"h-4 w-4 inline mr-1"}),"C\xf3digo promocional"]}),a.jsx("input",{type:"text",id:"reward-code",placeholder:"Ej. CUMPLE20",value:k,onChange:e=>C(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"El c\xf3digo que los clientes usar\xe1n para canjear la promoci\xf3n"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"discount-percentage",className:"block text-sm text-gray-600 mb-1",children:[a.jsx(m.Z,{className:"h-4 w-4 inline mr-1"}),"Porcentaje de descuento"]}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx("input",{type:"text",id:"discount-percentage",placeholder:"Ej. 20",value:S,onChange:e=>{let t=e.target.value;(""===t||/^\d+$/.test(t)&&100>=parseInt(t))&&E(t)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 pr-8"}),a.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Porcentaje de descuento asociado al c\xf3digo (0-100)"})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{Z&&s({deliveryMethods:b,startDate:v,endDate:N,rewardCode:k,discountPercentage:S?parseInt(S):0})},disabled:!Z,className:`px-4 py-2 rounded-lg text-white ${Z?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Crear campa\xf1a"})]})]})]}):null}},67316:(e,t,s)=>{s.d(t,{Z:()=>c});var a=s(20997),r=s(16689),n=s(22972),i=s(80906),l=s(91579),o=s(7298);let c=({isOpen:e,onClose:t,onCreateSegment:s,onDesignTemplate:c,onNext:d,savedSegments:m,savedTemplates:u})=>{let[x,h]=(0,r.useState)(""),[p,g]=(0,r.useState)(null),[f,b]=(0,r.useState)(null);if(!e)return null;let y=e=>{p&&p.id===e.id?g(null):g(e)},v=e=>{f&&f.id===e.id?b(null):b(e)};return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Crear nueva campa\xf1a"}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:a.jsx(n.Z,{className:"h-6 w-6"})})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Selecciona segmento y template, y nombra tu campa\xf1a."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:`border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ${p?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"}`,onClick:s,children:[p&&a.jsx("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:a.jsx(i.Z,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:a.jsx(l.Z,{className:"h-8 w-8 text-custom-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Crear segmento"}),p?(0,a.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[a.jsx(l.Z,{className:"h-3 w-3 mr-1"}),"Segmento aplicado: ",p.segment_name]}):a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Define a qui\xe9n ir\xe1 dirigida (frecuencia, ticket, preferencias)."})]}),(0,a.jsxs)("div",{className:`border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ${f?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"}`,onClick:c,children:[f&&a.jsx("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:a.jsx(i.Z,{className:"h-4 w-4 text-white"})}),a.jsx("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:a.jsx(o.Z,{className:"h-8 w-8 text-custom-green-600"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dise\xf1ar template"}),f?(0,a.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[a.jsx(o.Z,{className:"h-3 w-3 mr-1"}),"Template aplicado: ",f.name,f.isPreset&&a.jsx("span",{className:"ml-1 text-xs bg-custom-green-100 text-custom-green-800 px-1.5 py-0.5 rounded-full",children:"Predise\xf1ado"})]}):a.jsx("p",{className:"text-sm text-gray-500 text-center",children:"Elige o crea el dise\xf1o del Email o SMS."})]})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Tambi\xe9n puedes elegir uno de tus segmentos o dise\xf1os guardados"}),a.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Segmentos guardados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:m.map(e=>(0,a.jsxs)("div",{onClick:()=>y(e),className:`border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ${p?.id===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:a.jsx(l.Z,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.segment_name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.activeFiltersCount," filtros"]})]})]}),p?.id===e.id&&a.jsx("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))}),a.jsx("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Templates guardados"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:u.map(e=>(0,a.jsxs)("div",{onClick:()=>v(e),className:`border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ${f?.id===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"}`,children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:a.jsx(o.Z,{className:"h-5 w-5 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-xs text-gray-500",children:[e.blocks.length," bloques"]})]})]}),f?.id===e.id&&a.jsx("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))})]}),(0,a.jsxs)("div",{className:"mb-8",children:[a.jsx("label",{htmlFor:"campaign-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la campa\xf1a"}),a.jsx("input",{type:"text",id:"campaign-name",placeholder:"Ej. Promo regreso a clases – septiembre",value:x,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{x.trim()&&d(x,p,f)},disabled:!x.trim(),className:`px-4 py-2 rounded-lg text-white ${x.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"}`,children:"Siguiente"})]})]})]})}},42562:(e,t,s)=>{s.d(t,{Z:()=>b});var a=s(20997),r=s(16689);let n=(0,s(33592).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);var i=s(22972),l=s(26180),o=s(56286),c=s(72003),d=s(76919),m=s(89726),u=s(18742),x=s(74247),h=s(41036),p=s(43604),g=s(47340),f=s(2461);let b=({isOpen:e,onClose:t,onApplySegment:s})=>{let[b,y]=(0,r.useState)(""),[v,j]=(0,r.useState)({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"}),[N,w]=(0,r.useState)(""),k=(0,r.useRef)(null),C=(0,r.useRef)(null),S=Object.values(v).filter(e=>"all"!==e).length;(0,r.useEffect)(()=>{let s=s=>{e&&"Escape"===s.key&&t()};return document.addEventListener("keydown",s),()=>document.removeEventListener("keydown",s)},[e,t]),(0,r.useEffect)(()=>{e&&C.current&&setTimeout(()=>{C.current.focus(),C.current.select()},100)},[e]);let E=e=>e.trim()?(w(""),!0):(w("Ingresa un nombre para el segmento"),!1),P=(e,t)=>{j(s=>({...s,[e]:t}))};return e?(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:t,"aria-hidden":"true"}),(0,a.jsxs)("div",{ref:k,className:"relative w-full max-w-4xl mx-auto p-6 bg-white rounded-2xl shadow-xl overflow-y-auto max-h-[90vh] animate-in slide-in-from-bottom-4 duration-200 ease-out",role:"dialog","aria-modal":"true","aria-labelledby":"segment-modal-title",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:a.jsx(n,{className:"h-6 w-6 text-custom-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("h2",{id:"segment-modal-title",className:"text-2xl font-semibold text-gray-900",children:"Crear segmento"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Define los criterios para segmentar a tus clientes"})]})]}),a.jsx("button",{onClick:t,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar modal",children:a.jsx(i.Z,{className:"h-6 w-6"})})]}),(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"segment-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del segmento"}),a.jsx("input",{ref:C,type:"text",id:"segment-name",value:b,onChange:e=>{let t=e.target.value;y(t),E(t)},placeholder:"Ej. Clientes frecuentes",className:`w-full px-3 py-2 border ${N?"border-red-500":"border-gray-300"} rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]`}),N&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:N})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(l.Z,{className:"h-4 w-4 inline mr-1"}),"Etiquetas"]}),(0,a.jsxs)("select",{value:v.tags,onChange:e=>P("tags",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las etiquetas"}),a.jsx("option",{value:"vip",children:"VIP"}),a.jsx("option",{value:"frequent",children:"Frecuente"}),a.jsx("option",{value:"new",children:"Nuevo cliente"}),a.jsx("option",{value:"inactive",children:"Inactivo"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(o.Z,{className:"h-4 w-4 inline mr-1"}),"G\xe9nero"]}),(0,a.jsxs)("select",{value:v.gender,onChange:e=>P("gender",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todos los g\xe9neros"}),a.jsx("option",{value:"male",children:"Masculino"}),a.jsx("option",{value:"female",children:"Femenino"}),a.jsx("option",{value:"other",children:"Otro"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(c.Z,{className:"h-4 w-4 inline mr-1"}),"Rango de edad"]}),(0,a.jsxs)("select",{value:v.age_range,onChange:e=>P("age_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las edades"}),a.jsx("option",{value:"18-25",children:"18-25 a\xf1os"}),a.jsx("option",{value:"26-35",children:"26-35 a\xf1os"}),a.jsx("option",{value:"36-45",children:"36-45 a\xf1os"}),a.jsx("option",{value:"46-55",children:"46-55 a\xf1os"}),a.jsx("option",{value:"56+",children:"56+ a\xf1os"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(d.Z,{className:"h-4 w-4 inline mr-1"}),"Ubicaci\xf3n"]}),(0,a.jsxs)("select",{value:v.location,onChange:e=>P("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las ubicaciones"}),a.jsx("option",{value:"cdmx",children:"Ciudad de M\xe9xico"}),a.jsx("option",{value:"guadalajara",children:"Guadalajara"}),a.jsx("option",{value:"monterrey",children:"Monterrey"}),a.jsx("option",{value:"puebla",children:"Puebla"}),a.jsx("option",{value:"other",children:"Otras ciudades"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(m.Z,{className:"h-4 w-4 inline mr-1"}),"N\xfamero de visitas"]}),(0,a.jsxs)("select",{value:v.number_of_visits,onChange:e=>P("number_of_visits",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier cantidad"}),a.jsx("option",{value:"1",children:"1 visita"}),a.jsx("option",{value:"2-5",children:"2-5 visitas"}),a.jsx("option",{value:"more_than_5",children:"M\xe1s de 5 visitas"}),a.jsx("option",{value:"more_than_10",children:"M\xe1s de 10 visitas"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(u.Z,{className:"h-4 w-4 inline mr-1"}),"\xdaltima visita"]}),(0,a.jsxs)("select",{value:v.last_visit,onChange:e=>P("last_visit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier fecha"}),a.jsx("option",{value:"last_7_days",children:"\xdaltimos 7 d\xedas"}),a.jsx("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),a.jsx("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),a.jsx("option",{value:"more_than_90_days",children:"M\xe1s de 90 d\xedas"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(x.Z,{className:"h-4 w-4 inline mr-1"}),"Ticket promedio"]}),(0,a.jsxs)("select",{value:v.single_purchase_total,onChange:e=>P("single_purchase_total",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier monto"}),a.jsx("option",{value:"less_than_200",children:"Menos de $200"}),a.jsx("option",{value:"200-500",children:"$200 - $500"}),a.jsx("option",{value:"greater_than_500",children:"M\xe1s de $500"}),a.jsx("option",{value:"greater_than_1000",children:"M\xe1s de $1,000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(h.Z,{className:"h-4 w-4 inline mr-1"}),"Total gastado"]}),(0,a.jsxs)("select",{value:v.total_spent,onChange:e=>P("total_spent",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier monto"}),a.jsx("option",{value:"less_than_1000",children:"Menos de $1,000"}),a.jsx("option",{value:"1000-5000",children:"$1,000 - $5,000"}),a.jsx("option",{value:"greater_than_5000",children:"M\xe1s de $5,000"}),a.jsx("option",{value:"greater_than_10000",children:"M\xe1s de $10,000"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(p.Z,{className:"h-4 w-4 inline mr-1"}),"Categor\xeda favorita"]}),(0,a.jsxs)("select",{value:v.favorite_category,onChange:e=>P("favorite_category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Todas las categor\xedas"}),a.jsx("option",{value:"beverages",children:"Bebidas"}),a.jsx("option",{value:"food",children:"Comida"}),a.jsx("option",{value:"desserts",children:"Postres"}),a.jsx("option",{value:"snacks",children:"Snacks"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(c.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de registro"]}),(0,a.jsxs)("select",{value:v.registration_date,onChange:e=>P("registration_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[a.jsx("option",{value:"all",children:"Cualquier fecha"}),a.jsx("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),a.jsx("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),a.jsx("option",{value:"last_year",children:"\xdaltimo a\xf1o"}),a.jsx("option",{value:"more_than_year",children:"M\xe1s de un a\xf1o"})]})]})]}),S>0&&a.jsx("div",{className:"mb-6 p-4 bg-custom-green-50 rounded-lg border border-custom-green-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(g.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,a.jsxs)("span",{className:"text-sm font-medium text-custom-green-800",children:[S," filtro",1!==S?"s":""," activo",1!==S?"s":""]})]}),(0,a.jsxs)("button",{onClick:()=>{j({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"})},className:"text-sm text-custom-green-600 hover:text-custom-green-700 font-medium flex items-center",children:[a.jsx(f.Z,{className:"h-4 w-4 mr-1"}),"Limpiar filtros"]})]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[a.jsx("button",{type:"button",onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:"Cancelar"}),a.jsx("button",{type:"button",onClick:()=>{if(!E(b)){C.current?.focus();return}s({segment_name:b,filters:v,activeFiltersCount:S})},disabled:!b.trim(),className:`px-4 py-2 rounded-lg text-white ${b.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500`,children:"Aplicar segmento"})]})]})]}):null}},33634:(e,t,s)=>{s.d(t,{Z:()=>N});var a=s(20997),r=s(16689),n=s(7298),i=s(22972),l=s(99954),o=s(17543),c=s(33592);let d=(0,c.Z)("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),m=(0,c.Z)("AlignLeft",[["line",{x1:"21",x2:"3",y1:"6",y2:"6",key:"1fp77t"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}],["line",{x1:"17",x2:"3",y1:"18",y2:"18",key:"1awlsn"}]]),u=(0,c.Z)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]),x=(0,c.Z)("SeparatorHorizontal",[["line",{x1:"3",x2:"21",y1:"12",y2:"12",key:"10d38w"}],["polyline",{points:"8 8 12 4 16 8",key:"zo8t4w"}],["polyline",{points:"16 16 12 20 8 16",key:"1oyrid"}]]),h=(0,c.Z)("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);var p=s(23973),g=s(99191),f=s(26180),b=s(11773),y=s(80906);let v=[{id:"preset-1",name:"Bienvenida - Cliente Nuevo",description:"Template ideal para dar la bienvenida a nuevos clientes.",category:"Bienvenida",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Bienvenido a Holy Cow!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Estamos felices de tenerte como parte de nuestra comunidad. Como agradecimiento, te regalamos un postre en tu primera visita."},{id:"4",type:"button",content:"Reclamar regalo"}]},{id:"preset-2",name:"Cumplea\xf1os - Regalo Especial",description:"Celebra el cumplea\xf1os de tus clientes con una oferta especial.",category:"Cumplea\xf1os",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"En tu d\xeda especial queremos celebrar contigo. Te regalamos un postre de cumplea\xf1os completamente gratis."},{id:"4",type:"button",content:"Reclamar regalo de cumplea\xf1os"}]},{id:"preset-3",name:"Descuento Especial - 20%",description:"Promociona un descuento especial por tiempo limitado.",category:"Promociones",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa120% DE DESCUENTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Disfruta de un 20% de descuento en tu pr\xf3xima compra. Oferta v\xe1lida por tiempo limitado."},{id:"4",type:"button",content:"Usar descuento ahora"}]},{id:"preset-4",name:"Producto Nuevo - Lanzamiento",description:"Anuncia el lanzamiento de un nuevo producto.",category:"Lanzamientos",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1NUEVO PRODUCTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Presentamos nuestro nuevo producto. S\xe9 uno de los primeros en probarlo con un 15% de descuento."},{id:"4",type:"button",content:"Probar ahora"}]},{id:"preset-5",name:"Cliente Inactivo - Regresa",description:"Recupera clientes inactivos con una oferta especial.",category:"Reactivaci\xf3n",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Te extra\xf1amos!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Hace tiempo que no te vemos. Regresa y disfruta de un 25% de descuento en tu pr\xf3xima visita."},{id:"4",type:"button",content:"Volver a visitar"}]},{id:"preset-6",name:"Evento Especial - Invitaci\xf3n",description:"Invita a tus clientes a un evento exclusivo.",category:"Eventos",popularity:"Baja",isPreset:!0,image:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"Invitaci\xf3n Exclusiva"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Est\xe1s invitado a nuestro evento exclusivo. Disfruta de degustaciones, m\xfasica en vivo y sorpresas."},{id:"4",type:"button",content:"Confirmar asistencia"}]}],j=({isOpen:e,onClose:t,onSelectTemplate:s})=>{let[n,l]=(0,r.useState)(null);if(!e)return null;let o=n?v.filter(e=>e.category===n):v,c=Array.from(new Set(v.map(e=>e.category)));return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(f.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Templates predise\xf1ados"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:a.jsx(i.Z,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>l(null),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${null===n?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Todos"}),c.map(e=>a.jsx("button",{onClick:()=>l(e),className:`px-3 py-1.5 rounded-full text-sm font-medium transition-colors ${n===e?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:e},e))]})}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(e=>(0,a.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,a.jsxs)("div",{className:"relative h-40 overflow-hidden bg-gray-100",children:[a.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),a.jsx("div",{className:"absolute top-2 right-2",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-custom-green-100 text-custom-green-800",children:[a.jsx(f.Z,{className:"h-3 w-3 mr-1"}),"Predise\xf1ado"]})}),"Alta"===e.popularity&&a.jsx("div",{className:"absolute top-2 left-2",children:(0,a.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[a.jsx(b.Z,{className:"h-3 w-3 mr-1"}),"Popular"]})})]}),(0,a.jsxs)("div",{className:"p-4",children:[a.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-gray-500",children:e.category}),(0,a.jsxs)("button",{onClick:()=>s(e),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[a.jsx(y.Z,{className:"h-4 w-4 mr-1"}),"Usar este"]})]})]})]},e.id))})}),a.jsx("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"})})]})]})},N=({isOpen:e,onClose:t,onSave:s,initialTemplate:c=null})=>{let[f,b]=(0,r.useState)(c?.name||"Nuevo Template"),[y,v]=(0,r.useState)(c?.blocks||[{id:"1",type:"title",content:"T\xedtulo de la campa\xf1a"},{id:"2",type:"text",content:"Descripci\xf3n de la campa\xf1a que explica los beneficios para tus clientes."}]),[N,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{c&&(b(c.name),v(c.blocks))},[c]),!e)return null;let S=e=>{v([...y,{id:Date.now().toString(),type:e,content:E(e)}])},E=e=>{switch(e){case"title":return"Nuevo t\xedtulo";case"text":return"Nuevo texto";case"image":return"https://via.placeholder.com/600x300";case"button":return"Bot\xf3n de acci\xf3n";default:return""}},P=e=>{v(y.filter(t=>t.id!==e))},A=e=>{switch(e.type){case"title":return a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.content});case"text":return a.jsx("p",{className:"text-base text-gray-700",children:e.content});case"image":return a.jsx("img",{src:e.content,alt:"Content",className:"w-full h-auto rounded-lg"});case"button":return a.jsx("button",{className:"bg-custom-green-600 text-white px-6 py-2 rounded-lg font-medium",children:e.content});case"separator":return a.jsx("hr",{className:"border-t border-gray-200 my-4"});default:return null}};return(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,a.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(n.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Dise\xf1ar template"})]}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:a.jsx(i.Z,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[a.jsx("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del template"}),a.jsx("input",{type:"text",id:"template-name",value:f,onChange:e=>b(e.target.value),className:"w-full px-3 py-2 border border-custom-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,a.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[a.jsx("div",{className:"flex-1 overflow-y-auto p-4 border-r border-gray-200",children:a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-6 max-w-md mx-auto",children:a.jsx(g.DragDropContext,{onDragEnd:e=>{if(!e.destination)return;let t=Array.from(y),[s]=t.splice(e.source.index,1);t.splice(e.destination.index,0,s),v(t)},children:a.jsx(g.Droppable,{droppableId:"blocks",children:e=>(0,a.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[y.map((e,t)=>a.jsx(g.Draggable,{draggableId:e.id,index:t,children:(t,s)=>(0,a.jsxs)("div",{ref:t.innerRef,...t.draggableProps,className:`p-3 rounded-lg relative group ${s.isDragging?"bg-gray-50 shadow-md":""}`,children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[a.jsx("div",{...t.dragHandleProps,className:"cursor-grab text-gray-400 hover:text-gray-600",children:a.jsx(l.Z,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>P(e.id),className:"text-red-500 hover:text-red-700",children:a.jsx(o.Z,{className:"h-4 w-4"})})]}),A(e)]})},e.id)),e.placeholder]})})})})}),(0,a.jsxs)("div",{className:"w-64 bg-gray-50 p-4 overflow-y-auto",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Bloques de contenido"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{onClick:()=>S("title"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(d,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"T\xedtulo"})]}),(0,a.jsxs)("div",{onClick:()=>S("text"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(m,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Texto"})]}),(0,a.jsxs)("div",{onClick:()=>S("image"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(u,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Imagen"})]}),(0,a.jsxs)("div",{onClick:()=>S("separator"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(x,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Separador"})]}),(0,a.jsxs)("div",{onClick:()=>S("button"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[a.jsx(h,{className:"h-4 w-4 text-gray-600 mr-2"}),a.jsx("span",{className:"text-sm",children:"Bot\xf3n"})]})]}),(0,a.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6 space-y-4",children:[a.jsx("button",{onClick:()=>{C(!0)},className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:a.jsx("span",{className:"text-sm font-medium",children:"Crear desde cero"})}),a.jsx("button",{onClick:()=>w(!0),className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:a.jsx("span",{className:"text-sm font-medium",children:"Ver templates predise\xf1ados"})}),a.jsx("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Explora templates listos para usar como base para tu campa\xf1a"})]}),(0,a.jsxs)("div",{className:"mt-8",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Instrucciones"}),(0,a.jsxs)("ul",{className:"text-xs text-gray-600 space-y-2",children:[(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Haz clic en un bloque para editarlo"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Arrastra y suelta para reordenar"})]}),(0,a.jsxs)("li",{className:"flex items-start",children:[a.jsx("span",{className:"text-gray-400 mr-2",children:"•"}),a.jsx("span",{children:"Usa el \xedcono de papelera para eliminar"})]})]})]})]})]}),(0,a.jsxs)("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-3",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{s({id:Date.now(),name:f,blocks:y})},className:"px-4 py-2 bg-custom-green-600 text-white rounded-lg hover:bg-custom-green-700",children:"Guardar template"})]})]}),a.jsx(j,{isOpen:N,onClose:()=>w(!1),onSelectTemplate:e=>{b(e.name),v(e.blocks),w(!1)}}),k&&(0,a.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-[1px]",onClick:()=>C(!1)}),(0,a.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-auto p-6 shadow-xl",children:[(0,a.jsxs)("div",{className:"flex items-center mb-4 text-amber-600",children:[a.jsx(p.Z,{className:"h-6 w-6 mr-2"}),a.jsx("h3",{className:"text-lg font-medium",children:"Confirmar reinicio"})]}),a.jsx("p",{className:"mb-6 text-gray-600",children:"\xbfEst\xe1s seguro de que quieres comenzar desde cero? Se eliminar\xe1n todos los bloques actuales de este template."}),(0,a.jsxs)("div",{className:"flex justify-end space-x-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),a.jsx("button",{onClick:()=>{v([{id:Date.now().toString(),type:"text",content:"Empieza a construir tu campa\xf1a usando los bloques de contenido a la derecha"}]),C(!1)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"S\xed, comenzar desde cero"})]})]})]})]})}},9058:(e,t,s)=>{s.a(e,async(e,a)=>{try{s.r(t),s.d(t,{default:()=>_});var r=s(20997),n=s(16689),i=s(42562),l=s(67316),o=s(33634),c=s(73449),d=s(53883),m=s(99737),u=s(54353),x=s(39526),h=s(47340),p=s(18742),g=s(23973),f=s(69972),b=s(17543),y=s(22972),v=s(33656),j=s(95030),N=s(72003),w=s(36460),k=s(91579),C=e([d]);d=(C.then?(await C)():C)[0];let S=[{id:1,name:"Caf\xe9 gratis",description:"Un caf\xe9 americano o espresso gratis",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"coffee",image:"https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Tu caf\xe9 gratis te espera!",emailBody:"Disfruta de un caf\xe9 americano o espresso completamente gratis en tu pr\xf3xima visita.",startDate:"2023-10-01",endDate:"2023-12-31",conditions:"V\xe1lido de lunes a viernes. No acumulable con otras promociones.",cta:"Canjear ahora",templateName:"Caf\xe9 Gratis - Template",sent:!0},{id:2,name:"Postre gratis",description:"Un postre a elecci\xf3n (valor m\xe1ximo $8)",pointsRequired:250,expirationDays:30,active:!0,status:"active",icon:"award",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Te has ganado un postre!",emailBody:"Celebra con un delicioso postre gratis a tu elecci\xf3n en tu pr\xf3xima visita.",startDate:"2023-10-15",endDate:"2023-12-15",conditions:"Valor m\xe1ximo $8. No acumulable con otras promociones.",cta:"Ver postres",templateName:"Postre Gratis - Template",sent:!0},{id:3,name:"Descuento de $15",description:"Descuento de $15 en tu pr\xf3xima compra (m\xednimo $30)",pointsRequired:400,expirationDays:60,active:!0,status:"paused",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1$15 de descuento en tu pr\xf3xima compra!",emailBody:"Te regalamos $15 de descuento en tu pr\xf3xima compra de $30 o m\xe1s.",startDate:"2023-11-01",endDate:"2024-01-31",conditions:"Compra m\xednima de $30. No acumulable con otras promociones.",cta:"Usar descuento",templateName:"Descuento $15 - Template",sent:!1},{id:4,name:"Papas gratis",description:"Una orden de papas fritas gratis con tu hamburguesa",pointsRequired:150,expirationDays:30,active:!1,status:"expired",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1576107232684-1279f390859f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1PAPAS GRATIS con tu hamburguesa!",emailBody:"Celebramos contigo con una orden de papas gratis al comprar cualquier hamburguesa.",startDate:"2023-08-01",endDate:"2023-09-30",conditions:"V\xe1lido solo al comprar una hamburguesa. No acumulable con otras promociones.",cta:"Ordenar ahora",templateName:"Papas Gratis - Template",sent:!0}],E=[{id:1,segment_name:"Clientes frecuentes",filters:{tags:"frequent",number_of_visits:"more_than_5",gender:"all"},activeFiltersCount:2},{id:2,segment_name:"Clientes VIP",filters:{tags:"vip",single_purchase_total:"greater_than_500",gender:"all"},activeFiltersCount:2}],P=[{id:1,name:"Promoci\xf3n Est\xe1ndar",blocks:[{id:"1",type:"title",content:"Promoci\xf3n exclusiva para ti"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Aprovecha esta oferta por tiempo limitado"},{id:"4",type:"button",content:"Canjear ahora"}]},{id:2,name:"Recompensa de Cumplea\xf1os",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Te regalamos algo especial en tu d\xeda"},{id:"4",type:"button",content:"Reclamar regalo"}]}],A=({label:e,count:t,active:s,onClick:a,icon:n})=>r.jsx("button",{onClick:a,className:`p-4 rounded-lg border transition-all duration-200 ${s?"bg-custom-green-50 border-custom-green-200 text-custom-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"}`,children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:e}),r.jsx("p",{className:`text-2xl font-bold ${s?"text-custom-green-600":"text-gray-900"}`,children:t})]}),r.jsx("div",{className:"ml-4",children:n})]})}),Z=({campaign:e,onPreview:t,onToggleActive:s,onDelete:a})=>{let[i,l]=(0,n.useState)(!1),o=(0,n.useRef)(null),c=(0,n.useRef)(null),d=e=>{let t=new Date(e),s=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getFullYear()).slice(-2);return`${s}/${a}/${r}`};(0,n.useEffect)(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&c.current&&!c.current.contains(e.target)&&l(!1)},t=e=>{"Escape"===e.key&&l(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",t),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",t)}},[]);let y=t=>{s(e.id,t),l(!1)},v=m.Z;return"coffee"===e.icon?v=u.Z:"shopping-bag"===e.icon&&(v=x.Z),(0,r.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg border border-gray-200 transition-all duration-200 ease-out hover:bg-[#E9F2F2] hover:border-[#D6E6E6] hover:shadow-md hover:scale-105 focus-within:outline-offset-2 focus-within:outline-[#0EA5E9] focus-within:outline-2 active:scale-[0.995]",children:[(0,r.jsxs)("div",{className:"relative h-36 overflow-hidden",children:[r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),r.jsx("div",{className:"absolute top-2 right-2",children:(e=>{switch(e){case"active":return(0,r.jsxs)("span",{className:"flex items-center text-green-600 bg-green-100 px-2 py-1 rounded-full text-xs font-medium",children:[r.jsx(h.Z,{className:"h-3 w-3 mr-1"}),"Activa"]});case"paused":return(0,r.jsxs)("span",{className:"flex items-center text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full text-xs font-medium",children:[r.jsx(p.Z,{className:"h-3 w-3 mr-1"}),"Pausa"]});case"expired":return(0,r.jsxs)("span",{className:"flex items-center text-gray-600 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium",children:[r.jsx(g.Z,{className:"h-3 w-3 mr-1"}),"Expirada"]});default:return null}})(e.status)})]}),r.jsx("div",{className:"p-4",children:(0,r.jsxs)("div",{className:"flex items-start",children:[r.jsx("div",{className:`flex-shrink-0 p-2 rounded-full ${e.active?"bg-custom-green-100":"bg-gray-100"}`,children:r.jsx(v,{className:`h-5 w-5 ${e.active?"text-custom-green-600":"text-gray-400"}`})}),(0,r.jsxs)("div",{className:"ml-3 flex-1",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e.name}),r.jsx("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:e.description}),e.templateName&&(0,r.jsxs)("p",{className:"mt-1 text-xs text-gray-400",children:["Template: ",e.templateName]}),(0,r.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[(0,r.jsxs)("span",{className:"bg-custom-green-100 text-custom-green-800 px-2 py-0.5 rounded-full font-medium",children:[e.pointsRequired," puntos"]}),(0,r.jsxs)("span",{className:"ml-2",children:[e.expirationDays," d\xedas"]})]})]})]})}),(0,r.jsxs)("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"text-xs text-gray-500",children:[d(e.startDate)," - ",d(e.endDate)]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("button",{onClick:e=>t(e),className:"p-1.5 bg-blue-100 rounded-full text-blue-600 hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Ver vista previa",children:r.jsx(f.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx("button",{ref:c,onClick:e=>{e.stopPropagation(),l(!i)},"aria-haspopup":"true","aria-expanded":i,"aria-controls":"status-menu",className:`p-1.5 flex items-center justify-center rounded-full hover:shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9] ${(e=>{switch(e){case"active":return"bg-[#DCFCE7] border border-[#22C55E] text-[#15803D] hover:bg-[#BBF7D0]";case"paused":default:return"bg-[#FFF7CC] border border-[#FACC15] text-[#A16207] hover:bg-[#FDE68A]";case"expired":return"bg-gray-100 border border-gray-300 text-gray-500 hover:bg-gray-200"}})(e.status)}`,"aria-label":"Cambiar estado",children:(0,r.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[r.jsx("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),r.jsx("line",{x1:"12",y1:"2",x2:"12",y2:"12"})]})}),i&&(0,r.jsxs)("div",{ref:o,id:"status-menu",className:"absolute right-0 bottom-full mb-2 w-36 bg-white rounded-lg shadow-lg border border-gray-200 z-10",role:"menu",children:[(0,r.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-green-700 hover:bg-green-50 flex items-center rounded-t-lg focus:outline-none focus:bg-green-50",onClick:e=>{e.stopPropagation(),y("active")},role:"menuitem",disabled:"expired"===e.status,children:[r.jsx(h.Z,{className:"h-4 w-4 mr-2"}),"Activa"]}),(0,r.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-yellow-600 hover:bg-yellow-50 flex items-center focus:outline-none focus:bg-yellow-50",onClick:e=>{e.stopPropagation(),y("paused")},role:"menuitem",disabled:"expired"===e.status,children:[r.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Pausa"]}),(0,r.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center rounded-b-lg focus:outline-none focus:bg-gray-50",onClick:e=>{e.stopPropagation(),y("expired")},role:"menuitem",children:[r.jsx(g.Z,{className:"h-4 w-4 mr-2"}),"Expirada"]})]})]}),r.jsx("button",{onClick:t=>{t.stopPropagation(),a(e.id)},className:"p-1.5 bg-red-100 rounded-full text-red-600 hover:bg-red-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Eliminar campa\xf1a",children:r.jsx(b.Z,{className:"h-4 w-4"})})]})]})]})},O=({campaign:e,onClose:t})=>{if(!e)return null;let s=new Date,a=s.getHours(),n=s.getMinutes().toString().padStart(2,"0"),i=`${a}:${n}`;return(0,r.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-md w-full mx-auto p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:r.jsx(y.Z,{className:"h-6 w-6"})}),e.templateName&&r.jsx("div",{className:"mb-4 text-center",children:r.jsx("span",{className:"inline-block bg-custom-green-100 text-custom-green-800 px-3 py-1 rounded-full text-sm font-medium",children:e.templateName})}),r.jsx("div",{className:"relative mx-auto w-full max-w-[375px]",children:(0,r.jsxs)("div",{className:"bg-black rounded-[55px] p-2 shadow-xl overflow-hidden border-8 border-black",children:[(0,r.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 z-50 bg-black w-[30%] h-[30px] rounded-b-[18px] flex items-center justify-center",children:[r.jsx("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 left-[15%]"}),r.jsx("div",{className:"absolute w-[50px] h-[6px] rounded-full bg-gray-800"}),r.jsx("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 right-[15%]"})]}),(0,r.jsxs)("div",{className:"relative bg-white rounded-[48px] overflow-hidden h-[650px]",children:[(0,r.jsxs)("div",{className:"sticky top-0 z-30 bg-white px-5 pt-8 pb-1 flex justify-between items-center",children:[r.jsx("div",{className:"text-black font-semibold",children:i}),(0,r.jsxs)("div",{className:"flex items-center space-x-1",children:[r.jsx("div",{className:"flex items-center space-x-1",children:r.jsx("div",{className:"h-3 w-3",children:(0,r.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[r.jsx("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2Z",stroke:"black",strokeWidth:"1.5"}),r.jsx("path",{d:"M15 9C15 7.343 13.657 6 12 6C10.343 6 9 7.343 9 9C9 10.657 10.343 12 12 12C13.657 12 15 10.657 15 9Z",fill:"black"}),r.jsx("path",{d:"M5.5 19.5C7.5 17 9.5 15 12 15C14.5 15 16.5 17 18.5 19.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"})]})})}),(0,r.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[r.jsx("path",{d:"M3 7C3 5.89543 3.89543 5 5 5H19C20.1046 5 21 5.89543 21 7V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17V7Z",stroke:"black",strokeWidth:"2"}),r.jsx("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"black"})]}),r.jsx("div",{className:"font-semibold text-sm",children:"100%"})]})]}),(0,r.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-8 w-auto mr-2"}),r.jsx("span",{className:"text-lg font-medium text-gray-800",children:"Holy Cow"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx("div",{className:"p-1.5 bg-gray-100 rounded-full",children:r.jsx(v.Z,{className:"h-4 w-4 text-gray-600"})}),r.jsx("div",{className:"p-1.5 bg-gray-100 rounded-full",children:r.jsx(j.Z,{className:"h-4 w-4 text-gray-600"})})]})]}),(0,r.jsxs)("div",{className:"overflow-y-auto h-[calc(100%-110px)]",children:[(0,r.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center",children:[r.jsx("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-16 mx-auto mb-2"}),r.jsx("p",{className:"text-xs uppercase tracking-widest mt-2",children:"BURGER & BEER JOINT"})]}),r.jsx("div",{className:"bg-[#E53935] text-white px-6 py-3 text-center",children:r.jsx("p",{className:"text-sm font-bold uppercase tracking-wide",children:"\xa1OFERTA ESPECIAL PARA TI!"})}),r.jsx("div",{className:"w-full",children:r.jsx("img",{src:e.image,alt:e.name,className:"w-full h-48 object-cover"})}),(0,r.jsxs)("div",{className:"px-6 py-6 bg-white",children:[r.jsx("h1",{className:"text-2xl font-bold text-[#2D2D2D] text-center mb-4",children:e.emailSubject}),r.jsx("p",{className:"text-gray-700 mb-6 text-center",children:e.emailBody}),r.jsx("div",{className:"flex justify-center mb-6",children:r.jsx("button",{className:"bg-[#E53935] hover:bg-[#D32F2F] text-white font-bold py-3 px-8 rounded-lg shadow-md transition-all",children:e.cta})}),e.pointsRequired&&r.jsx("div",{className:"text-center mb-6",children:(0,r.jsxs)("span",{className:"inline-block bg-[#FFECB3] text-[#E65100] px-4 py-2 rounded-full font-medium text-sm",children:[e.pointsRequired," puntos"]})}),r.jsx("div",{className:"border-t border-gray-200 my-6"}),(0,r.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[r.jsx("h3",{className:"font-bold text-[#2D2D2D] text-sm mb-2",children:"DETALLES DE LA PROMOCI\xd3N:"}),(0,r.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[r.jsx(N.Z,{className:"h-4 w-4 mr-2 text-[#E53935]"}),(0,r.jsxs)("span",{children:["V\xe1lido hasta:"," ",new Date(e.endDate).toLocaleDateString()]})]}),(0,r.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[r.jsx("span",{className:"font-medium",children:"T\xe9rminos y condiciones:"}),r.jsx("br",{}),e.conditions]})]}),(0,r.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[r.jsx("p",{className:"font-medium text-[#2D2D2D] mb-1",children:"HOLY COW BURGER & BEER JOINT"}),r.jsx("p",{children:"Av. Principal 123, Ciudad de M\xe9xico"}),r.jsx("p",{children:"Tel: 555-123-4567"})]})]}),(0,r.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center text-xs",children:[r.jsx("p",{className:"mb-2",children:"\xa9 2023 Holy Cow. Todos los derechos reservados."}),(0,r.jsxs)("p",{children:["Si no deseas recibir m\xe1s correos, haz clic"," ",r.jsx("a",{href:"#",className:"underline",children:"aqu\xed"})," ","para darte de baja."]})]})]})]}),r.jsx("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-[30%] h-[5px] bg-gray-800 rounded-full"})]})})]})]})},D=({isOpen:e,onClose:t,currentPlan:s="B\xe1sico"})=>e?(0,r.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:t}),(0,r.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl",children:[r.jsx("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:r.jsx(y.Z,{className:"h-6 w-6"})}),(0,r.jsxs)("div",{className:"mb-6 text-center",children:[r.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Planes de Gesti\xf3n"}),r.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"Selecciona el plan que mejor se adapte a tus necesidades"})]}),r.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3 mb-6",children:[{name:"B\xe1sico",price:"Gratis",features:["1 campa\xf1a activa por mes","Estad\xedsticas b\xe1sicas","Soporte por email"]},{name:"Premium",price:"$15 USD",features:["Hasta 5 campa\xf1as por mes","Estad\xedsticas avanzadas","Segmentaci\xf3n de clientes","Soporte prioritario"]},{name:"Ultra",price:"$30 USD",features:["Hasta 10 campa\xf1as por mes","Estad\xedsticas en tiempo real","Segmentaci\xf3n avanzada","Soporte 24/7","API de integraci\xf3n"]}].map(e=>r.jsx("div",{className:`bg-white rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:shadow-lg ${e.name===s?"border-2 border-custom-green-600 bg-custom-green-100/30":"border border-gray-200 hover:border-custom-green-200"}`,children:(0,r.jsxs)("div",{className:"p-5",children:[r.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),r.jsx("p",{className:"text-2xl font-bold text-custom-green-600 mb-4",children:e.price}),r.jsx("ul",{className:"space-y-2 mb-6",children:e.features.map((e,t)=>(0,r.jsxs)("li",{className:"flex items-start",children:[r.jsx("span",{className:"flex-shrink-0 h-5 w-5 text-custom-green-600",children:r.jsx("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:r.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),r.jsx("span",{className:"ml-2 text-sm text-gray-600",children:e})]},t))}),r.jsx("button",{className:`w-full py-2 px-4 rounded-md text-sm font-medium transition-colors ${e.name===s?"bg-custom-green-600 text-white cursor-default":"bg-white border border-custom-green-600 text-custom-green-600 hover:bg-custom-green-50"}`,disabled:e.name===s,children:e.name===s?"Plan Actual":"Seleccionar Plan"})]})},e.name))})]})]}):null,_=()=>{let[e,t]=(0,n.useState)(S),[s,a]=(0,n.useState)("all"),[u,x]=(0,n.useState)(null),[f,b]=(0,n.useState)(!1),[y,v]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[C,_]=(0,n.useState)(!1),[q,M]=(0,n.useState)(!1),[T,z]=(0,n.useState)(!1),[$,F]=(0,n.useState)(!1),[L,R]=(0,n.useState)(E),[B,I]=(0,n.useState)(P),[V,K]=(0,n.useState)({name:"",selectedSegment:null,selectedTemplate:null}),H=e.filter(e=>"all"===s||e.status===s),U=e.length,G=e.filter(e=>"active"===e.status).length,W=e.filter(e=>"paused"===e.status).length,J=e.filter(e=>"expired"===e.status).length,Y=(e,s)=>{t(t=>t.map(t=>t.id===e?{...t,status:s}:t))},X=e=>{window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta campa\xf1a?")&&t(t=>t.filter(t=>t.id!==e))},Q=e=>{x(e)},ee=e=>{N(e),v(!0)};return(0,r.jsxs)("div",{className:"w-full bg-gray-50 min-h-screen",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Scala - Gesti\xf3n de Recompensas"}),r.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"Gestiona tus campa\xf1as de recompensas y fidelizaci\xf3n"})]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[r.jsx("button",{onClick:()=>b(!0),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50 transition-colors",children:"Ver Planes"}),(0,r.jsxs)("button",{onClick:()=>{_(!0)},className:"bg-custom-green-600 text-white px-4 py-2 rounded-md hover:bg-custom-green-700 transition-colors flex items-center",children:[r.jsx(w.Z,{className:"h-5 w-5 mr-2"}),"Nueva Campa\xf1a"]})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[r.jsx(A,{label:"Todas",count:U,active:"all"===s,onClick:()=>a("all"),icon:r.jsx(k.Z,{className:"h-6 w-6"})}),r.jsx(A,{label:"Activas",count:G,active:"active"===s,onClick:()=>a("active"),icon:r.jsx(h.Z,{className:"h-6 w-6 text-green-500"})}),r.jsx(A,{label:"Pausadas",count:W,active:"paused"===s,onClick:()=>a("paused"),icon:r.jsx(p.Z,{className:"h-6 w-6 text-yellow-500"})}),r.jsx(A,{label:"Expiradas",count:J,active:"expired"===s,onClick:()=>a("expired"),icon:r.jsx(g.Z,{className:"h-6 w-6 text-gray-500"})})]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(e=>r.jsx("div",{onClick:()=>ee(e),className:"cursor-pointer",children:r.jsx(Z,{campaign:e,onPreview:t=>{t.stopPropagation(),Q(e)},onToggleActive:(e,t)=>{Y(e,t)},onDelete:e=>{X(e)}})},e.id))}),0===H.length&&(0,r.jsxs)("div",{className:"text-center py-12",children:[r.jsx(m.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),r.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay campa\xf1as"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron campa\xf1as para el filtro seleccionado."})]})]}),u&&r.jsx(O,{campaign:u,onClose:()=>x(null)}),r.jsx(d.Z,{isOpen:y,onClose:()=>v(!1),campaign:j}),r.jsx(D,{isOpen:f,onClose:()=>b(!1),currentPlan:"B\xe1sico"}),r.jsx(l.Z,{isOpen:C,onClose:()=>{_(!1)},onCreateSegment:()=>{_(!1),M(!0)},onDesignTemplate:()=>{_(!1),z(!0)},onNext:(e,t,s)=>{K({name:e,selectedSegment:t,selectedTemplate:s}),_(!1),F(!0)},savedSegments:L,savedTemplates:B}),r.jsx(i.Z,{isOpen:q,onClose:()=>{M(!1),_(!0)},onApplySegment:e=>{L.find(t=>t.segment_name===e.segment_name)||R([...L,{...e,id:Date.now()}]),M(!1),_(!0)}}),r.jsx(o.Z,{isOpen:T,onClose:()=>{z(!1),_(!0)},onSave:e=>{I([...B,e]),z(!1),_(!0)}}),r.jsx(c.Z,{isOpen:$,onClose:()=>{F(!1)},onCreateCampaign:s=>{let a={id:Date.now(),name:V.name,description:"Nueva campa\xf1a creada",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"award",image:V.selectedTemplate?.image||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:V.name,emailBody:"Descripci\xf3n de la campa\xf1a",startDate:s.startDate,endDate:s.endDate,conditions:s.rewardCode?`Usa el c\xf3digo ${s.rewardCode} para obtener ${s.discountPercentage}% de descuento`:"T\xe9rminos y condiciones aplican",cta:"Ver m\xe1s",templateName:V.selectedTemplate?V.selectedTemplate.name:"Template predeterminado",sent:!1,deliveryMethods:s.deliveryMethods,segment:V.selectedSegment?.segment_name||"Todos los clientes"};t([...e,a]),F(!1)},campaignName:V.name,selectedSegment:V.selectedSegment,selectedTemplate:V.selectedTemplate})]})};a()}catch(e){a(e)}})},25502:e=>{e.exports=require("eventemitter3")},38759:e=>{e.exports=require("lodash/every")},76918:e=>{e.exports=require("lodash/find")},38190:e=>{e.exports=require("lodash/flatMap")},1712:e=>{e.exports=require("lodash/get")},72327:e=>{e.exports=require("lodash/isBoolean")},40113:e=>{e.exports=require("lodash/isEqual")},25716:e=>{e.exports=require("lodash/isFunction")},68843:e=>{e.exports=require("lodash/isNaN")},86069:e=>{e.exports=require("lodash/isNil")},27078:e=>{e.exports=require("lodash/isNumber")},75795:e=>{e.exports=require("lodash/isObject")},15452:e=>{e.exports=require("lodash/isPlainObject")},97026:e=>{e.exports=require("lodash/isString")},83824:e=>{e.exports=require("lodash/last")},9941:e=>{e.exports=require("lodash/mapValues")},36625:e=>{e.exports=require("lodash/max")},11341:e=>{e.exports=require("lodash/maxBy")},50541:e=>{e.exports=require("lodash/memoize")},604:e=>{e.exports=require("lodash/min")},9318:e=>{e.exports=require("lodash/minBy")},64042:e=>{e.exports=require("lodash/range")},4129:e=>{e.exports=require("lodash/some")},23672:e=>{e.exports=require("lodash/sortBy")},1381:e=>{e.exports=require("lodash/throttle")},69309:e=>{e.exports=require("lodash/uniqBy")},85428:e=>{e.exports=require("lodash/upperFirst")},62785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},16689:e=>{e.exports=require("react")},99191:e=>{e.exports=require("react-beautiful-dnd")},83522:e=>{e.exports=require("react-smooth")},20997:e=>{e.exports=require("react/jsx-runtime")},19540:e=>{e.exports=require("recharts-scale")},78970:e=>{e.exports=require("victory-vendor/d3-scale")},12725:e=>{e.exports=require("victory-vendor/d3-shape")},55315:e=>{e.exports=require("path")},16593:e=>{e.exports=import("clsx")},24281:e=>{e.exports=import("tiny-invariant")}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[682,659],()=>s(84281));module.exports=a})();
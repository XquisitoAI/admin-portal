(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[883],{6605:function(e,s,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/RewardsManagement",function(){return a(39140)}])},39140:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return ew}});var t=a(85893),r=a(67294),l=a(19078),n=a(22972),i=a(26180),o=a(56286),c=a(72003),d=a(76919),m=a(89726),x=a(18742),u=a(74247),g=a(41036),h=a(43604),p=a(47340),b=a(2461),f=e=>{let{isOpen:s,onClose:a,onApplySegment:f}=e,[j,v]=(0,r.useState)(""),[y,N]=(0,r.useState)({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"}),[w,C]=(0,r.useState)(""),k=(0,r.useRef)(null),S=(0,r.useRef)(null),E=Object.values(y).filter(e=>"all"!==e).length;(0,r.useEffect)(()=>{let e=e=>{s&&"Escape"===e.key&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[s,a]),(0,r.useEffect)(()=>{s&&S.current&&setTimeout(()=>{S.current.focus(),S.current.select()},100)},[s]);let D=e=>e.trim()?(C(""),!0):(C("Ingresa un nombre para el segmento"),!1),_=(e,s)=>{N(a=>({...a,[e]:s}))};return s?(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:a,"aria-hidden":"true"}),(0,t.jsxs)("div",{ref:k,className:"relative w-full max-w-4xl mx-auto p-6 bg-white rounded-2xl shadow-xl overflow-y-auto max-h-[90vh] animate-in slide-in-from-bottom-4 duration-200 ease-out",role:"dialog","aria-modal":"true","aria-labelledby":"segment-modal-title",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:(0,t.jsx)(l.Z,{className:"h-6 w-6 text-custom-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{id:"segment-modal-title",className:"text-2xl font-semibold text-gray-900",children:"Crear segmento"}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Define los criterios para segmentar a tus clientes"})]})]}),(0,t.jsx)("button",{onClick:a,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar modal",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)("label",{htmlFor:"segment-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del segmento"}),(0,t.jsx)("input",{ref:S,type:"text",id:"segment-name",value:j,onChange:e=>{let s=e.target.value;v(s),D(s)},placeholder:"Ej. Clientes frecuentes",className:"w-full px-3 py-2 border ".concat(w?"border-red-500":"border-gray-300"," rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]")}),w&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:w})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 inline mr-1"}),"Etiquetas"]}),(0,t.jsxs)("select",{value:y.tags,onChange:e=>_("tags",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Todas las etiquetas"}),(0,t.jsx)("option",{value:"vip",children:"VIP"}),(0,t.jsx)("option",{value:"frequent",children:"Frecuente"}),(0,t.jsx)("option",{value:"new",children:"Nuevo cliente"}),(0,t.jsx)("option",{value:"inactive",children:"Inactivo"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(o.Z,{className:"h-4 w-4 inline mr-1"}),"G\xe9nero"]}),(0,t.jsxs)("select",{value:y.gender,onChange:e=>_("gender",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Todos los g\xe9neros"}),(0,t.jsx)("option",{value:"male",children:"Masculino"}),(0,t.jsx)("option",{value:"female",children:"Femenino"}),(0,t.jsx)("option",{value:"other",children:"Otro"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 inline mr-1"}),"Rango de edad"]}),(0,t.jsxs)("select",{value:y.age_range,onChange:e=>_("age_range",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Todas las edades"}),(0,t.jsx)("option",{value:"18-25",children:"18-25 a\xf1os"}),(0,t.jsx)("option",{value:"26-35",children:"26-35 a\xf1os"}),(0,t.jsx)("option",{value:"36-45",children:"36-45 a\xf1os"}),(0,t.jsx)("option",{value:"46-55",children:"46-55 a\xf1os"}),(0,t.jsx)("option",{value:"56+",children:"56+ a\xf1os"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(d.Z,{className:"h-4 w-4 inline mr-1"}),"Ubicaci\xf3n"]}),(0,t.jsxs)("select",{value:y.location,onChange:e=>_("location",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Todas las ubicaciones"}),(0,t.jsx)("option",{value:"cdmx",children:"Ciudad de M\xe9xico"}),(0,t.jsx)("option",{value:"guadalajara",children:"Guadalajara"}),(0,t.jsx)("option",{value:"monterrey",children:"Monterrey"}),(0,t.jsx)("option",{value:"puebla",children:"Puebla"}),(0,t.jsx)("option",{value:"other",children:"Otras ciudades"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 inline mr-1"}),"N\xfamero de visitas"]}),(0,t.jsxs)("select",{value:y.number_of_visits,onChange:e=>_("number_of_visits",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Cualquier cantidad"}),(0,t.jsx)("option",{value:"1",children:"1 visita"}),(0,t.jsx)("option",{value:"2-5",children:"2-5 visitas"}),(0,t.jsx)("option",{value:"more_than_5",children:"M\xe1s de 5 visitas"}),(0,t.jsx)("option",{value:"more_than_10",children:"M\xe1s de 10 visitas"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 inline mr-1"}),"\xdaltima visita"]}),(0,t.jsxs)("select",{value:y.last_visit,onChange:e=>_("last_visit",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Cualquier fecha"}),(0,t.jsx)("option",{value:"last_7_days",children:"\xdaltimos 7 d\xedas"}),(0,t.jsx)("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),(0,t.jsx)("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),(0,t.jsx)("option",{value:"more_than_90_days",children:"M\xe1s de 90 d\xedas"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(u.Z,{className:"h-4 w-4 inline mr-1"}),"Ticket promedio"]}),(0,t.jsxs)("select",{value:y.single_purchase_total,onChange:e=>_("single_purchase_total",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Cualquier monto"}),(0,t.jsx)("option",{value:"less_than_200",children:"Menos de $200"}),(0,t.jsx)("option",{value:"200-500",children:"$200 - $500"}),(0,t.jsx)("option",{value:"greater_than_500",children:"M\xe1s de $500"}),(0,t.jsx)("option",{value:"greater_than_1000",children:"M\xe1s de $1,000"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 inline mr-1"}),"Total gastado"]}),(0,t.jsxs)("select",{value:y.total_spent,onChange:e=>_("total_spent",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Cualquier monto"}),(0,t.jsx)("option",{value:"less_than_1000",children:"Menos de $1,000"}),(0,t.jsx)("option",{value:"1000-5000",children:"$1,000 - $5,000"}),(0,t.jsx)("option",{value:"greater_than_5000",children:"M\xe1s de $5,000"}),(0,t.jsx)("option",{value:"greater_than_10000",children:"M\xe1s de $10,000"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 inline mr-1"}),"Categor\xeda favorita"]}),(0,t.jsxs)("select",{value:y.favorite_category,onChange:e=>_("favorite_category",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Todas las categor\xedas"}),(0,t.jsx)("option",{value:"beverages",children:"Bebidas"}),(0,t.jsx)("option",{value:"food",children:"Comida"}),(0,t.jsx)("option",{value:"desserts",children:"Postres"}),(0,t.jsx)("option",{value:"snacks",children:"Snacks"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de registro"]}),(0,t.jsxs)("select",{value:y.registration_date,onChange:e=>_("registration_date",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#00C896]",children:[(0,t.jsx)("option",{value:"all",children:"Cualquier fecha"}),(0,t.jsx)("option",{value:"last_30_days",children:"\xdaltimos 30 d\xedas"}),(0,t.jsx)("option",{value:"last_90_days",children:"\xdaltimos 90 d\xedas"}),(0,t.jsx)("option",{value:"last_year",children:"\xdaltimo a\xf1o"}),(0,t.jsx)("option",{value:"more_than_year",children:"M\xe1s de un a\xf1o"})]})]})]}),E>0&&(0,t.jsx)("div",{className:"mb-6 p-4 bg-custom-green-50 rounded-lg border border-custom-green-200",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(p.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-custom-green-800",children:[E," filtro",1!==E?"s":""," activo",1!==E?"s":""]})]}),(0,t.jsxs)("button",{onClick:()=>{N({tags:"all",gender:"all",age_range:"all",location:"all",number_of_visits:"all",last_visit:"all",single_purchase_total:"all",total_spent:"all",favorite_category:"all",registration_date:"all"})},className:"text-sm text-custom-green-600 hover:text-custom-green-700 font-medium flex items-center",children:[(0,t.jsx)(b.Z,{className:"h-4 w-4 mr-1"}),"Limpiar filtros"]})]})}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,t.jsx)("button",{type:"button",onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:"Cancelar"}),(0,t.jsx)("button",{type:"button",onClick:()=>{if(!D(j)){var e;null===(e=S.current)||void 0===e||e.focus();return}f({segment_name:j,filters:y,activeFiltersCount:E})},disabled:!j.trim(),className:"px-4 py-2 rounded-lg text-white ".concat(j.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"," focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500"),children:"Aplicar segmento"})]})]})]}):null},j=a(80906),v=a(91579),y=a(7298),N=e=>{let{isOpen:s,onClose:a,onCreateSegment:l,onDesignTemplate:i,onNext:o,savedSegments:c,savedTemplates:d}=e,[m,x]=(0,r.useState)(""),[u,g]=(0,r.useState)(null),[h,p]=(0,r.useState)(null);if(!s)return null;let b=e=>{u&&u.id===e.id?g(null):g(e)},f=e=>{h&&h.id===e.id?p(null):p(e)};return(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Crear nueva campa\xf1a"}),(0,t.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})})]}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"Selecciona segmento y template, y nombra tu campa\xf1a."}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ".concat(u?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"),onClick:l,children:[u&&(0,t.jsx)("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:(0,t.jsx)(j.Z,{className:"h-4 w-4 text-white"})}),(0,t.jsx)("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(v.Z,{className:"h-8 w-8 text-custom-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Crear segmento"}),u?(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[(0,t.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),"Segmento aplicado: ",u.segment_name]}):(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Define a qui\xe9n ir\xe1 dirigida (frecuencia, ticket, preferencias)."})]}),(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg p-6 flex flex-col items-center cursor-pointer transition-colors relative ".concat(h?"bg-[#F0F9F9] border-custom-green-200":"hover:bg-gray-50"),onClick:i,children:[h&&(0,t.jsx)("div",{className:"absolute top-3 right-3 bg-custom-green-600 rounded-full p-1",children:(0,t.jsx)(j.Z,{className:"h-4 w-4 text-white"})}),(0,t.jsx)("div",{className:"w-16 h-16 bg-custom-green-50 rounded-full flex items-center justify-center mb-4",children:(0,t.jsx)(y.Z,{className:"h-8 w-8 text-custom-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Dise\xf1ar template"}),h?(0,t.jsxs)("p",{className:"text-sm text-gray-500 text-center flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),"Template aplicado: ",h.name,h.isPreset&&(0,t.jsx)("span",{className:"ml-1 text-xs bg-custom-green-100 text-custom-green-800 px-1.5 py-0.5 rounded-full",children:"Predise\xf1ado"})]}):(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Elige o crea el dise\xf1o del Email o SMS."})]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-4 text-center",children:"Tambi\xe9n puedes elegir uno de tus segmentos o dise\xf1os guardados"}),(0,t.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Segmentos guardados"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:c.map(e=>(0,t.jsxs)("div",{onClick:()=>b(e),className:"border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ".concat((null==u?void 0:u.id)===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"),children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:(0,t.jsx)(v.Z,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.segment_name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.activeFiltersCount," filtros"]})]})]}),(null==u?void 0:u.id)===e.id&&(0,t.jsx)("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))}),(0,t.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Templates guardados"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:d.map(e=>(0,t.jsxs)("div",{onClick:()=>f(e),className:"border rounded-lg p-4 cursor-pointer transition-colors flex justify-between items-center ".concat((null==h?void 0:h.id)===e.id?"border-custom-green-600 bg-custom-green-50":"border-gray-200 hover:bg-gray-50"),children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-gray-100 rounded-full mr-3",children:(0,t.jsx)(y.Z,{className:"h-5 w-5 text-gray-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-gray-500",children:[e.blocks.length," bloques"]})]})]}),(null==h?void 0:h.id)===e.id&&(0,t.jsx)("span",{className:"text-xs bg-custom-green-100 text-custom-green-800 px-2 py-1 rounded-full",children:"Seleccionado"})]},e.id))})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("label",{htmlFor:"campaign-name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Nombre de la campa\xf1a"}),(0,t.jsx)("input",{type:"text",id:"campaign-name",placeholder:"Ej. Promo regreso a clases – septiembre",value:m,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{m.trim()&&o(m,u,h)},disabled:!m.trim(),className:"px-4 py-2 rounded-lg text-white ".concat(m.trim()?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"),children:"Siguiente"})]})]})]})},w=a(99954),C=a(17543),k=a(68912),S=a(21840),E=a(57211),D=a(62040),_=a(95722),Z=a(23973),T=a(15948),P=a(11773);let q=[{id:"preset-1",name:"Bienvenida - Cliente Nuevo",description:"Template ideal para dar la bienvenida a nuevos clientes.",category:"Bienvenida",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Bienvenido a Holy Cow!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Estamos felices de tenerte como parte de nuestra comunidad. Como agradecimiento, te regalamos un postre en tu primera visita."},{id:"4",type:"button",content:"Reclamar regalo"}]},{id:"preset-2",name:"Cumplea\xf1os - Regalo Especial",description:"Celebra el cumplea\xf1os de tus clientes con una oferta especial.",category:"Cumplea\xf1os",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1464349095431-e9a21285b5f3?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"En tu d\xeda especial queremos celebrar contigo. Te regalamos un postre de cumplea\xf1os completamente gratis."},{id:"4",type:"button",content:"Reclamar regalo de cumplea\xf1os"}]},{id:"preset-3",name:"Descuento Especial - 20%",description:"Promociona un descuento especial por tiempo limitado.",category:"Promociones",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa120% DE DESCUENTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Disfruta de un 20% de descuento en tu pr\xf3xima compra. Oferta v\xe1lida por tiempo limitado."},{id:"4",type:"button",content:"Usar descuento ahora"}]},{id:"preset-4",name:"Producto Nuevo - Lanzamiento",description:"Anuncia el lanzamiento de un nuevo producto.",category:"Lanzamientos",popularity:"Media",isPreset:!0,image:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1NUEVO PRODUCTO!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1561758033-d89a9ad46330?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Presentamos nuestro nuevo producto. S\xe9 uno de los primeros en probarlo con un 15% de descuento."},{id:"4",type:"button",content:"Probar ahora"}]},{id:"preset-5",name:"Cliente Inactivo - Regresa",description:"Recupera clientes inactivos con una oferta especial.",category:"Reactivaci\xf3n",popularity:"Alta",isPreset:!0,image:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"\xa1Te extra\xf1amos!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Hace tiempo que no te vemos. Regresa y disfruta de un 25% de descuento en tu pr\xf3xima visita."},{id:"4",type:"button",content:"Volver a visitar"}]},{id:"preset-6",name:"Evento Especial - Invitaci\xf3n",description:"Invita a tus clientes a un evento exclusivo.",category:"Eventos",popularity:"Baja",isPreset:!0,image:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",blocks:[{id:"1",type:"title",content:"Invitaci\xf3n Exclusiva"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1511795409834-ef04bbd61622?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Est\xe1s invitado a nuestro evento exclusivo. Disfruta de degustaciones, m\xfasica en vivo y sorpresas."},{id:"4",type:"button",content:"Confirmar asistencia"}]}];var z=e=>{let{isOpen:s,onClose:a,onSelectTemplate:l}=e,[o,c]=(0,r.useState)(null);if(!s)return null;let d=o?q.filter(e=>e.category===o):q,m=Array.from(new Set(q.map(e=>e.category)));return(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Templates predise\xf1ados"})]}),(0,t.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:(0,t.jsx)(n.Z,{className:"h-5 w-5"})})]}),(0,t.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,t.jsx)("button",{onClick:()=>c(null),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors ".concat(null===o?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Todos"}),m.map(e=>(0,t.jsx)("button",{onClick:()=>c(e),className:"px-3 py-1.5 rounded-full text-sm font-medium transition-colors ".concat(o===e?"bg-custom-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:e},e))]})}),(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4",children:(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(e=>(0,t.jsxs)("div",{className:"border border-gray-200 rounded-lg overflow-hidden hover:shadow-md transition-shadow",children:[(0,t.jsxs)("div",{className:"relative h-40 overflow-hidden bg-gray-100",children:[(0,t.jsx)("img",{src:e.image,alt:e.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-custom-green-100 text-custom-green-800",children:[(0,t.jsx)(i.Z,{className:"h-3 w-3 mr-1"}),"Predise\xf1ado"]})}),"Alta"===e.popularity&&(0,t.jsx)("div",{className:"absolute top-2 left-2",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-amber-100 text-amber-800",children:[(0,t.jsx)(P.Z,{className:"h-3 w-3 mr-1"}),"Popular"]})})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h3",{className:"font-medium text-gray-900 mb-1",children:e.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mb-3 line-clamp-2",children:e.description}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("span",{className:"text-xs text-gray-500",children:e.category}),(0,t.jsxs)("button",{onClick:()=>l(e),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 mr-1"}),"Usar este"]})]})]})]},e.id))})}),(0,t.jsx)("div",{className:"p-4 border-t border-gray-200 flex justify-end",children:(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"})})]})]})},A=e=>{let{isOpen:s,onClose:a,onSave:l,initialTemplate:i=null}=e,[o,c]=(0,r.useState)((null==i?void 0:i.name)||"Nuevo Template"),[d,m]=(0,r.useState)((null==i?void 0:i.blocks)||[{id:"1",type:"title",content:"T\xedtulo de la campa\xf1a"},{id:"2",type:"text",content:"Descripci\xf3n de la campa\xf1a que explica los beneficios para tus clientes."}]),[x,u]=(0,r.useState)(!1),[g,h]=(0,r.useState)(!1);if((0,r.useEffect)(()=>{i&&(c(i.name),m(i.blocks))},[i]),!s)return null;let p=e=>{m([...d,{id:Date.now().toString(),type:e,content:b(e)}])},b=e=>{switch(e){case"title":return"Nuevo t\xedtulo";case"text":return"Nuevo texto";case"image":return"https://via.placeholder.com/600x300";case"button":return"Bot\xf3n de acci\xf3n";default:return""}},f=e=>{m(d.filter(s=>s.id!==e))},j=e=>{switch(e.type){case"title":return(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:e.content});case"text":return(0,t.jsx)("p",{className:"text-base text-gray-700",children:e.content});case"image":return(0,t.jsx)("img",{src:e.content,alt:"Content",className:"w-full h-auto rounded-lg"});case"button":return(0,t.jsx)("button",{className:"bg-custom-green-600 text-white px-6 py-2 rounded-lg font-medium",children:e.content});case"separator":return(0,t.jsx)("hr",{className:"border-t border-gray-200 my-4"});default:return null}};return(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-5xl w-full mx-auto shadow-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Dise\xf1ar template"})]}),(0,t.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 p-1 rounded-full hover:bg-gray-100",children:(0,t.jsx)(n.Z,{className:"h-5 w-5"})})]}),(0,t.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,t.jsx)("label",{htmlFor:"template-name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre del template"}),(0,t.jsx)("input",{type:"text",id:"template-name",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-custom-green-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,t.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,t.jsx)("div",{className:"flex-1 overflow-y-auto p-4 border-r border-gray-200",children:(0,t.jsx)("div",{className:"bg-white rounded-lg border border-gray-200 p-6 max-w-md mx-auto",children:(0,t.jsx)(T.Z5,{onDragEnd:e=>{if(!e.destination)return;let s=Array.from(d),[a]=s.splice(e.source.index,1);s.splice(e.destination.index,0,a),m(s)},children:(0,t.jsx)(T.bK,{droppableId:"blocks",children:e=>(0,t.jsxs)("div",{...e.droppableProps,ref:e.innerRef,className:"space-y-4",children:[d.map((e,s)=>(0,t.jsx)(T._l,{draggableId:e.id,index:s,children:(s,a)=>(0,t.jsxs)("div",{ref:s.innerRef,...s.draggableProps,className:"p-3 rounded-lg relative group ".concat(a.isDragging?"bg-gray-50 shadow-md":""),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[(0,t.jsx)("div",{...s.dragHandleProps,className:"cursor-grab text-gray-400 hover:text-gray-600",children:(0,t.jsx)(w.Z,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})]}),j(e)]})},e.id)),e.placeholder]})})})})}),(0,t.jsxs)("div",{className:"w-64 bg-gray-50 p-4 overflow-y-auto",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Bloques de contenido"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{onClick:()=>p("title"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)(k.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"T\xedtulo"})]}),(0,t.jsxs)("div",{onClick:()=>p("text"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)(S.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Texto"})]}),(0,t.jsxs)("div",{onClick:()=>p("image"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)(E.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Imagen"})]}),(0,t.jsxs)("div",{onClick:()=>p("separator"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)(D.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Separador"})]}),(0,t.jsxs)("div",{onClick:()=>p("button"),className:"p-3 bg-white rounded-lg border border-gray-200 flex items-center cursor-pointer hover:bg-gray-50",children:[(0,t.jsx)(_.Z,{className:"h-4 w-4 text-gray-600 mr-2"}),(0,t.jsx)("span",{className:"text-sm",children:"Bot\xf3n"})]})]}),(0,t.jsxs)("div",{className:"mt-8 border-t border-gray-200 pt-6 space-y-4",children:[(0,t.jsx)("button",{onClick:()=>{h(!0)},className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:"Crear desde cero"})}),(0,t.jsx)("button",{onClick:()=>u(!0),className:"w-full p-3 bg-white text-gray-800 rounded-lg border border-gray-200 flex items-center justify-center hover:bg-custom-green-50 hover:border-custom-green-200 transition-colors",children:(0,t.jsx)("span",{className:"text-sm font-medium",children:"Ver templates predise\xf1ados"})}),(0,t.jsx)("p",{className:"mt-2 text-xs text-gray-500 text-center",children:"Explora templates listos para usar como base para tu campa\xf1a"})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Instrucciones"}),(0,t.jsxs)("ul",{className:"text-xs text-gray-600 space-y-2",children:[(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-gray-400 mr-2",children:"•"}),(0,t.jsx)("span",{children:"Haz clic en un bloque para editarlo"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-gray-400 mr-2",children:"•"}),(0,t.jsx)("span",{children:"Arrastra y suelta para reordenar"})]}),(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"text-gray-400 mr-2",children:"•"}),(0,t.jsx)("span",{children:"Usa el \xedcono de papelera para eliminar"})]})]})]})]})]}),(0,t.jsxs)("div",{className:"p-4 border-t border-gray-200 flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{l({id:Date.now(),name:o,blocks:d})},className:"px-4 py-2 bg-custom-green-600 text-white rounded-lg hover:bg-custom-green-700",children:"Guardar template"})]})]}),(0,t.jsx)(z,{isOpen:x,onClose:()=>u(!1),onSelectTemplate:e=>{c(e.name),m(e.blocks),u(!1)}}),g&&(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 backdrop-blur-[1px]",onClick:()=>h(!1)}),(0,t.jsxs)("div",{className:"relative bg-white rounded-lg max-w-md w-full mx-auto p-6 shadow-xl",children:[(0,t.jsxs)("div",{className:"flex items-center mb-4 text-amber-600",children:[(0,t.jsx)(Z.Z,{className:"h-6 w-6 mr-2"}),(0,t.jsx)("h3",{className:"text-lg font-medium",children:"Confirmar reinicio"})]}),(0,t.jsx)("p",{className:"mb-6 text-gray-600",children:"\xbfEst\xe1s seguro de que quieres comenzar desde cero? Se eliminar\xe1n todos los bloques actuales de este template."}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:()=>h(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{m([{id:Date.now().toString(),type:"text",content:"Empieza a construir tu campa\xf1a usando los bloques de contenido a la derecha"}]),h(!1)},className:"px-4 py-2 bg-amber-600 text-white rounded-lg hover:bg-amber-700",children:"S\xed, comenzar desde cero"})]})]})]})]})},M=a(33656),F=a(4021),R=e=>{let{isOpen:s,onClose:a,onCreateCampaign:l,campaignName:o,selectedSegment:d,selectedTemplate:m}=e,x=new Date().toISOString().split("T")[0],u=new Date;u.setDate(u.getDate()+30);let g=u.toISOString().split("T")[0],[h,p]=(0,r.useState)({email:!0,sms:!1}),[b,f]=(0,r.useState)(x),[v,y]=(0,r.useState)(g),[N,w]=(0,r.useState)(""),[C,k]=(0,r.useState)(""),[S,E]=(0,r.useState)(""),[D,_]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=h.email||h.sms,s=!S&&b&&v;_(e&&s)},[h,b,v,S]),(0,r.useEffect)(()=>{if(b&&v){let e=new Date(b);new Date(v)<e?E("La fecha de fin debe ser posterior a la fecha de inicio"):E("")}},[b,v]);let T=e=>{p(s=>({...s,[e]:!s[e]}))};return s?(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Configurar detalles de la campa\xf1a"}),(0,t.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-gray-500 p-2 rounded-full hover:bg-gray-100",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})})]}),(0,t.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Campa\xf1a:"," ",(0,t.jsx)("span",{className:"text-custom-green-600",children:o})]})]}),d&&(0,t.jsxs)("div",{className:"flex items-center mb-2",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Segmento:"," ",(0,t.jsx)("span",{className:"text-custom-green-600",children:d.segment_name})]})]}),m&&(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(j.Z,{className:"h-5 w-5 text-custom-green-600 mr-2"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-gray-700",children:["Template:"," ",(0,t.jsx)("span",{className:"text-custom-green-600",children:m.name})]})]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["M\xe9todo de env\xedo ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(h.email?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"),onClick:()=>T("email"),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 rounded-full mr-3 ".concat(h.email?"bg-custom-green-100":"bg-gray-100"),children:(0,t.jsx)(M.Z,{className:"h-5 w-5 ".concat(h.email?"text-custom-green-600":"text-gray-500")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"Email"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por correo electr\xf3nico"})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat(h.email?"border-custom-green-600 bg-custom-green-600":"border-gray-300"," flex items-center justify-center"),children:h.email&&(0,t.jsx)(j.Z,{className:"h-3 w-3 text-white"})})})]})}),(0,t.jsx)("div",{className:"border rounded-lg p-4 cursor-pointer transition-all ".concat(h.sms?"border-custom-green-600 bg-custom-green-50 shadow-sm":"border-gray-200 hover:bg-gray-50"),onClick:()=>T("sms"),children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 rounded-full mr-3 ".concat(h.sms?"bg-custom-green-100":"bg-gray-100"),children:(0,t.jsx)(F.Z,{className:"h-5 w-5 ".concat(h.sms?"text-custom-green-600":"text-gray-500")})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-900",children:"SMS"}),(0,t.jsx)("p",{className:"text-xs text-gray-500",children:"Enviar campa\xf1a por mensaje de texto"})]}),(0,t.jsx)("div",{className:"ml-auto",children:(0,t.jsx)("div",{className:"w-5 h-5 rounded-full border ".concat(h.sms?"border-custom-green-600 bg-custom-green-600":"border-gray-300"," flex items-center justify-center"),children:h.sms&&(0,t.jsx)(j.Z,{className:"h-3 w-3 text-white"})})})]})})]}),!h.email&&!h.sms&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),"Selecciona al menos un m\xe9todo de env\xedo"]})]}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Fechas de la campa\xf1a ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"start-date",className:"block text-sm text-gray-600 mb-1",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de inicio"]}),(0,t.jsx)("input",{type:"date",id:"start-date",min:x,value:b,onChange:e=>f(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"end-date",className:"block text-sm text-gray-600 mb-1",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 inline mr-1"}),"Fecha de fin"]}),(0,t.jsx)("input",{type:"date",id:"end-date",min:b,value:v,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"})]})]}),S&&(0,t.jsxs)("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-1"}),S]})]}),(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["C\xf3digo de recompensa"," ",(0,t.jsx)("span",{className:"text-gray-400 text-xs",children:"(opcional)"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"reward-code",className:"block text-sm text-gray-600 mb-1",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 inline mr-1"}),"C\xf3digo promocional"]}),(0,t.jsx)("input",{type:"text",id:"reward-code",placeholder:"Ej. CUMPLE20",value:N,onChange:e=>w(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500"}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"El c\xf3digo que los clientes usar\xe1n para canjear la promoci\xf3n"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"discount-percentage",className:"block text-sm text-gray-600 mb-1",children:[(0,t.jsx)(i.Z,{className:"h-4 w-4 inline mr-1"}),"Porcentaje de descuento"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("input",{type:"text",id:"discount-percentage",placeholder:"Ej. 20",value:C,onChange:e=>{let s=e.target.value;(""===s||/^\d+$/.test(s)&&100>=parseInt(s))&&k(s)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-custom-green-500 pr-8"}),(0,t.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:"%"})]}),(0,t.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Porcentaje de descuento asociado al c\xf3digo (0-100)"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,t.jsx)("button",{onClick:a,className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancelar"}),(0,t.jsx)("button",{onClick:()=>{D&&l({deliveryMethods:h,startDate:b,endDate:v,rewardCode:N,discountPercentage:C?parseInt(C):0})},disabled:!D,className:"px-4 py-2 rounded-lg text-white ".concat(D?"bg-custom-green-600 hover:bg-custom-green-700":"bg-gray-300 cursor-not-allowed"),children:"Crear campa\xf1a"})]})]})]}):null},B=a(63795),I=a(56227),L=a(1983),O=a(92763),$=a(59499),U=a(39958),V=a(42546),G=a(18329),H=a(38168),K=a(37705),W=a(48235),J=a(81868),X=a(89535),Y=a(46734),Q=a(30118),ee=a(2282),es=a(71929),ea=a(24427),et=a(87680);let er=e=>[{name:"Lun",sent:42,redeemed:18,revenue:1800},{name:"Mar",sent:38,redeemed:15,revenue:1500},{name:"Mi\xe9",sent:45,redeemed:22,revenue:2200},{name:"Jue",sent:52,redeemed:28,revenue:2800},{name:"Vie",sent:68,redeemed:40,revenue:4e3},{name:"S\xe1b",sent:75,redeemed:45,revenue:4500},{name:"Dom",sent:60,redeemed:32,revenue:3200}],el=e=>[{name:"Sem 1",sent:280,redeemed:120,revenue:12e3},{name:"Sem 2",sent:310,redeemed:145,revenue:14500},{name:"Sem 3",sent:340,redeemed:165,revenue:16500},{name:"Sem 4",sent:380,redeemed:190,revenue:19e3}],en=e=>[{name:"Ene",sent:1200,redeemed:580,revenue:58e3},{name:"Feb",sent:1300,redeemed:620,revenue:62e3},{name:"Mar",sent:1400,redeemed:680,revenue:68e3},{name:"Abr",sent:1500,redeemed:720,revenue:72e3},{name:"May",sent:1600,redeemed:760,revenue:76e3},{name:"Jun",sent:1800,redeemed:840,revenue:84e3}],ei=e=>[{name:"Email",value:75},{name:"SMS",value:25}],eo=e=>[{id:1,name:"Ana Garc\xeda",email:"ana.garcia@email.com",date:"2023-10-15",channel:"Email"},{id:2,name:"Carlos Rodr\xedguez",email:"carlos.rodriguez@email.com",date:"2023-10-16",channel:"Email"},{id:3,name:"Sof\xeda Mart\xednez",email:"sofia.martinez@email.com",date:"2023-10-17",channel:"SMS"},{id:4,name:"Miguel L\xf3pez",email:"miguel.lopez@email.com",date:"2023-10-18",channel:"Email"},{id:5,name:"Laura Hern\xe1ndez",email:"laura.hernandez@email.com",date:"2023-10-19",channel:"SMS"},{id:6,name:"Javier Gonz\xe1lez",email:"javier.gonzalez@email.com",date:"2023-10-20",channel:"Email"},{id:7,name:"Patricia D\xedaz",email:"patricia.diaz@email.com",date:"2023-10-21",channel:"Email"},{id:8,name:"Fernando P\xe9rez",email:"fernando.perez@email.com",date:"2023-10-22",channel:"SMS"}];var ec=e=>{let{isOpen:s,onClose:a,campaign:l}=e,[o,c]=(0,r.useState)("daily"),[d,m]=(0,r.useState)(!1),[x,u]=(0,r.useState)(!1),[h,p]=(0,r.useState)("all"),f=er(l),j=el(l),v=en(l),y=ei(l),N=eo(l),w=()=>{alert("Datos exportados a CSV")},C=()=>{switch(o){case"weekly":return j;case"monthly":return v;default:return f}},k=C().reduce((e,s)=>e+s.sent,0),S=C().reduce((e,s)=>e+s.redeemed,0),E=k>0?Math.round(S/k*100):0,D=C().reduce((e,s)=>e+s.revenue,0);return s?(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-35 backdrop-blur-[6px]",onClick:a,"aria-hidden":"true"}),(0,t.jsxs)("div",{className:"relative w-full max-w-6xl h-[90vh] mx-auto bg-white rounded-2xl shadow-xl overflow-hidden animate-in fade-in duration-200 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-5 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"p-2 bg-custom-green-100 rounded-full mr-3",children:(0,t.jsx)(i.Z,{className:"h-6 w-6 text-custom-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("h2",{className:"text-2xl font-semibold text-gray-900",children:["Dashboard: ",l.name]}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"M\xe9tricas y an\xe1lisis de la campa\xf1a de recompensas"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>{m(!0),setTimeout(()=>{m(!1)},1e3)},className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",disabled:d,children:(0,t.jsx)(b.Z,{className:"h-5 w-5 ".concat(d?"animate-spin":"")})}),(0,t.jsx)("button",{onClick:w,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]",children:(0,t.jsx)(B.Z,{className:"h-5 w-5"})}),(0,t.jsx)("button",{onClick:a,className:"p-2 rounded-full text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Cerrar dashboard",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})})]})]}),(0,t.jsxs)("div",{className:"h-[calc(90vh-76px)] overflow-y-auto p-5",children:[(0,t.jsxs)("div",{className:"flex justify-between mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"mr-4",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Filtrar por canal:"})}),(0,t.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>p("all"),className:"px-4 py-2 text-sm font-medium rounded-l-md ".concat("all"===h?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"Todos"}),(0,t.jsx)("button",{onClick:()=>p("email"),className:"px-4 py-2 text-sm font-medium ".concat("email"===h?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border-t border-b border-l border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"Email"}),(0,t.jsx)("button",{onClick:()=>p("sms"),className:"px-4 py-2 text-sm font-medium rounded-r-md ".concat("sms"===h?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"SMS"})]})]}),(0,t.jsxs)("div",{className:"inline-flex rounded-md shadow-sm",children:[(0,t.jsx)("button",{onClick:()=>c("daily"),className:"px-4 py-2 text-sm font-medium rounded-l-md ".concat("daily"===o?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"Diario"}),(0,t.jsx)("button",{onClick:()=>c("weekly"),className:"px-4 py-2 text-sm font-medium ".concat("weekly"===o?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border-t border-b border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"Semanal"}),(0,t.jsx)("button",{onClick:()=>c("monthly"),className:"px-4 py-2 text-sm font-medium rounded-r-md ".concat("monthly"===o?"bg-custom-green-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"," border border-gray-300 focus:z-10 focus:outline-none focus:ring-1 focus:ring-custom-green-500"),children:"Mensual"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-5 mb-6",children:[(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-custom-green-100 p-3 rounded-full",children:(0,t.jsx)(M.Z,{className:"h-6 w-6 text-custom-green-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones enviados"}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:k}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Incremento"}),"12.5%"]})]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-blue-100 p-3 rounded-full",children:(0,t.jsx)(i.Z,{className:"h-6 w-6 text-blue-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Cupones canjeados"}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:S}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Incremento"}),"18.2%"]})]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-amber-100 p-3 rounded-full",children:(0,t.jsx)(L.Z,{className:"h-6 w-6 text-amber-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Tasa de conversi\xf3n"}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[E,"%"]}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Incremento"}),"5.3%"]})]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-purple-100 p-3 rounded-full",children:(0,t.jsx)(O.Z,{className:"h-6 w-6 text-purple-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Nuevos clientes"}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:Math.round(.35*S)}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Incremento"}),"8.4%"]})]})]})})]})})}),(0,t.jsx)("div",{className:"bg-white overflow-hidden shadow-md rounded-lg border border-gray-100 transition-all duration-200 hover:shadow-lg",children:(0,t.jsx)("div",{className:"p-5",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 bg-green-100 p-3 rounded-full",children:(0,t.jsx)(g.Z,{className:"h-6 w-6 text-green-600"})}),(0,t.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Monto redimido"}),(0,t.jsxs)("dd",{className:"flex items-baseline",children:[(0,t.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:["$",D]}),(0,t.jsxs)("div",{className:"ml-2 flex items-baseline text-sm font-semibold text-green-600",children:[(0,t.jsx)(I.Z,{className:"self-center flex-shrink-0 h-4 w-4 text-green-500"}),(0,t.jsx)("span",{className:"sr-only",children:"Incremento"}),"15.6%"]})]})]})})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Canjes por"," ","daily"===o?"d\xeda":"weekly"===o?"semana":"mes"]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,t.jsx)(I.Z,{className:"h-3 w-3 mr-1"}),"15.3%"]})})]}),(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(U.h,{width:"100%",height:"100%",children:(0,t.jsxs)(V.v,{data:C(),margin:{top:10,right:30,left:0,bottom:0},children:[(0,t.jsx)(G.q,{strokeDasharray:"3 3",vertical:!1}),(0,t.jsx)(H.K,{dataKey:"name"}),(0,t.jsx)(K.B,{}),(0,t.jsx)(W.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>["".concat(e," cupones"),"Canjes"]}),(0,t.jsx)(J.D,{}),(0,t.jsx)(X.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]})]})})})]}),(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Ingresos atribuidos por"," ","daily"===o?"d\xeda":"weekly"===o?"semana":"mes"]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[(0,t.jsx)(I.Z,{className:"h-3 w-3 mr-1"}),"18.2%"]})})]}),(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(U.h,{width:"100%",height:"100%",children:(0,t.jsxs)(Y.w,{data:C(),margin:{top:10,right:30,left:0,bottom:0},children:[(0,t.jsx)(G.q,{strokeDasharray:"3 3",vertical:!1}),(0,t.jsx)(H.K,{dataKey:"name"}),(0,t.jsx)(K.B,{}),(0,t.jsx)(W.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>["$".concat(e),"Ingresos"]}),(0,t.jsx)(J.D,{}),(0,t.jsx)(Q.x,{type:"monotone",dataKey:"revenue",name:"Ingresos",stroke:"#0EA5E9",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]})]}),(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100 mb-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Comparativa: Enviados vs. Canjeados"}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Tasa de conversi\xf3n: ",E,"%"]})})]}),(0,t.jsx)("div",{className:"h-80",children:(0,t.jsx)(U.h,{width:"100%",height:"100%",children:(0,t.jsxs)(ee.c,{data:C(),margin:{top:20,right:30,left:20,bottom:5},children:[(0,t.jsx)(G.q,{strokeDasharray:"3 3",vertical:!1}),(0,t.jsx)(H.K,{dataKey:"name"}),(0,t.jsx)(K.B,{}),(0,t.jsx)(W.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),(0,t.jsx)(J.D,{}),(0,t.jsx)(X.$,{dataKey:"sent",name:"Cupones enviados",fill:"#94A3B8",radius:[4,4,0,0]}),(0,t.jsx)(X.$,{dataKey:"redeemed",name:"Cupones canjeados",fill:"#00C896",radius:[4,4,0,0]}),(0,t.jsx)(Q.x,{type:"monotone",dataKey:"redeemed",name:"Tendencia de canjes",stroke:"#0EA5E9",strokeWidth:2,dot:!1})]})})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-6",children:[(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Detalles de la campa\xf1a"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Nombre de la campa\xf1a"}),(0,t.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:l.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Template aplicado"}),(0,t.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:l.templateName||"Template predeterminado"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Segmento utilizado"}),(0,t.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:l.segment||"Todos los clientes"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha inicio"}),(0,t.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(l.startDate).toLocaleDateString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Fecha fin"}),(0,t.jsx)("p",{className:"mt-1 text-base font-medium text-gray-900",children:new Date(l.endDate).toLocaleDateString()})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Puntos requeridos"}),(0,t.jsxs)("p",{className:"mt-1 text-base font-medium text-gray-900",children:[l.pointsRequired," puntos"]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-500",children:"Estado"}),(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 mt-1 rounded-full text-xs font-medium ".concat("active"===l.status?"bg-green-100 text-green-800":"paused"===l.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"active"===l.status?"Activa":"paused"===l.status?"Pausada":"Expirada"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Distribuci\xf3n por canal"}),(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(U.h,{width:"100%",height:"100%",children:(0,t.jsxs)(es.u,{children:[(0,t.jsxs)(ea.b,{data:y,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",label:e=>{let{name:s,percent:a}=e;return"".concat(s," (").concat((100*a).toFixed(0),"%)")},children:[(0,t.jsx)(et.b,{fill:"#0EA5E9"}),(0,t.jsx)(et.b,{fill:"#FACC15"})]}),(0,t.jsx)(W.u,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e2e8f0",borderRadius:"0.5rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},formatter:e=>["".concat(e,"%"),"Porcentaje"]})]})})}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-[#0EA5E9] rounded-full mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"Email"})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"75%"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("span",{className:"w-3 h-3 bg-[#FACC15] rounded-full mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-600",children:"SMS"})]}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"25%"})]})]})]}),(0,t.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow border border-gray-100",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Vista previa"}),(0,t.jsx)("div",{className:"aspect-video rounded-lg overflow-hidden mb-4",children:(0,t.jsx)("img",{src:l.image,alt:l.name,className:"w-full h-full object-cover"})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:l.emailSubject}),(0,t.jsx)("p",{className:"text-sm text-gray-500 line-clamp-3",children:l.emailBody}),(0,t.jsx)("div",{className:"flex justify-center mt-3",children:(0,t.jsx)("button",{className:"bg-custom-green-600 text-white text-sm px-4 py-2 rounded-md",children:l.cta||"Ver oferta"})})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Usuarios que canjearon"}),(0,t.jsx)("button",{onClick:()=>u(!x),className:"inline-flex items-center px-3 py-1.5 border border-transparent text-sm font-medium rounded-md text-custom-green-700 bg-custom-green-100 hover:bg-custom-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:x?"Ocultar tabla":"Mostrar tabla"})]}),x&&(0,t.jsx)("div",{className:"bg-white rounded-lg shadow border border-gray-100 overflow-hidden mb-6",children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Usuario"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Fecha de canje"}),(0,t.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Canal"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:("all"===h?N:N.filter(e=>e.channel.toLowerCase()===h.toLowerCase())).map(e=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0 h-8 w-8 bg-gray-200 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:e.name.charAt(0)})}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name})})]})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm text-gray-500",children:e.date})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Email"===e.channel?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:["Email"===e.channel?(0,t.jsx)(M.Z,{className:"mr-1 h-3 w-3"}):(0,t.jsx)($.Z,{className:"mr-1 h-3 w-3"}),e.channel]})})]},e.id))})]})})})]}),(0,t.jsxs)("div",{className:"border-t border-gray-200 p-4 flex justify-end",children:[(0,t.jsxs)("button",{onClick:w,className:"mr-3 inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:[(0,t.jsx)(B.Z,{className:"h-5 w-5 mr-2 text-gray-400"}),"Exportar datos"]}),(0,t.jsx)("button",{onClick:a,className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-custom-green-600 hover:bg-custom-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-custom-green-500",children:"Cerrar"})]})]})]}):null},ed=a(99737),em=a(54353),ex=a(39526),eu=a(69972),eg=a(95030),eh=a(36460);let ep=[{id:1,name:"Caf\xe9 gratis",description:"Un caf\xe9 americano o espresso gratis",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"coffee",image:"https://images.unsplash.com/photo-1541167760496-1628856ab772?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Tu caf\xe9 gratis te espera!",emailBody:"Disfruta de un caf\xe9 americano o espresso completamente gratis en tu pr\xf3xima visita.",startDate:"2023-10-01",endDate:"2023-12-31",conditions:"V\xe1lido de lunes a viernes. No acumulable con otras promociones.",cta:"Canjear ahora",templateName:"Caf\xe9 Gratis - Template",sent:!0},{id:2,name:"Postre gratis",description:"Un postre a elecci\xf3n (valor m\xe1ximo $8)",pointsRequired:250,expirationDays:30,active:!0,status:"active",icon:"award",image:"https://images.unsplash.com/photo-1551024601-bec78aea704b?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1Te has ganado un postre!",emailBody:"Celebra con un delicioso postre gratis a tu elecci\xf3n en tu pr\xf3xima visita.",startDate:"2023-10-15",endDate:"2023-12-15",conditions:"Valor m\xe1ximo $8. No acumulable con otras promociones.",cta:"Ver postres",templateName:"Postre Gratis - Template",sent:!0},{id:3,name:"Descuento de $15",description:"Descuento de $15 en tu pr\xf3xima compra (m\xednimo $30)",pointsRequired:400,expirationDays:60,active:!0,status:"paused",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1607082348824-0a96f2a4b9da?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1$15 de descuento en tu pr\xf3xima compra!",emailBody:"Te regalamos $15 de descuento en tu pr\xf3xima compra de $30 o m\xe1s.",startDate:"2023-11-01",endDate:"2024-01-31",conditions:"Compra m\xednima de $30. No acumulable con otras promociones.",cta:"Usar descuento",templateName:"Descuento $15 - Template",sent:!1},{id:4,name:"Papas gratis",description:"Una orden de papas fritas gratis con tu hamburguesa",pointsRequired:150,expirationDays:30,active:!1,status:"expired",icon:"shopping-bag",image:"https://images.unsplash.com/photo-1576107232684-1279f390859f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:"\xa1PAPAS GRATIS con tu hamburguesa!",emailBody:"Celebramos contigo con una orden de papas gratis al comprar cualquier hamburguesa.",startDate:"2023-08-01",endDate:"2023-09-30",conditions:"V\xe1lido solo al comprar una hamburguesa. No acumulable con otras promociones.",cta:"Ordenar ahora",templateName:"Papas Gratis - Template",sent:!0}],eb=[{id:1,segment_name:"Clientes frecuentes",filters:{tags:"frequent",number_of_visits:"more_than_5",gender:"all"},activeFiltersCount:2},{id:2,segment_name:"Clientes VIP",filters:{tags:"vip",single_purchase_total:"greater_than_500",gender:"all"},activeFiltersCount:2}],ef=[{id:1,name:"Promoci\xf3n Est\xe1ndar",blocks:[{id:"1",type:"title",content:"Promoci\xf3n exclusiva para ti"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Aprovecha esta oferta por tiempo limitado"},{id:"4",type:"button",content:"Canjear ahora"}]},{id:2,name:"Recompensa de Cumplea\xf1os",blocks:[{id:"1",type:"title",content:"\xa1Feliz Cumplea\xf1os!"},{id:"2",type:"image",content:"https://images.unsplash.com/photo-1578922864601-79dca7a9ea35?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60"},{id:"3",type:"text",content:"Te regalamos algo especial en tu d\xeda"},{id:"4",type:"button",content:"Reclamar regalo"}]}],ej=e=>{let{label:s,count:a,active:r,onClick:l,icon:n}=e;return(0,t.jsx)("button",{onClick:l,className:"p-4 rounded-lg border transition-all duration-200 ".concat(r?"bg-custom-green-50 border-custom-green-200 text-custom-green-700":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300"),children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:s}),(0,t.jsx)("p",{className:"text-2xl font-bold ".concat(r?"text-custom-green-600":"text-gray-900"),children:a})]}),(0,t.jsx)("div",{className:"ml-4",children:n})]})})},ev=e=>{let{campaign:s,onPreview:a,onToggleActive:l,onDelete:n}=e,[i,o]=(0,r.useState)(!1),c=(0,r.useRef)(null),d=(0,r.useRef)(null),m=e=>{let s=new Date(e),a=String(s.getDate()).padStart(2,"0"),t=String(s.getMonth()+1).padStart(2,"0"),r=String(s.getFullYear()).slice(-2);return"".concat(a,"/").concat(t,"/").concat(r)};(0,r.useEffect)(()=>{let e=e=>{c.current&&!c.current.contains(e.target)&&d.current&&!d.current.contains(e.target)&&o(!1)},s=e=>{"Escape"===e.key&&o(!1)};return document.addEventListener("mousedown",e),document.addEventListener("keydown",s),()=>{document.removeEventListener("mousedown",e),document.removeEventListener("keydown",s)}},[]);let u=e=>{l(s.id,e),o(!1)},g=ed.Z;return"coffee"===s.icon?g=em.Z:"shopping-bag"===s.icon&&(g=ex.Z),(0,t.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg border border-gray-200 transition-all duration-200 ease-out hover:bg-[#E9F2F2] hover:border-[#D6E6E6] hover:shadow-md hover:scale-105 focus-within:outline-offset-2 focus-within:outline-[#0EA5E9] focus-within:outline-2 active:scale-[0.995]",children:[(0,t.jsxs)("div",{className:"relative h-36 overflow-hidden",children:[(0,t.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(e=>{switch(e){case"active":return(0,t.jsxs)("span",{className:"flex items-center text-green-600 bg-green-100 px-2 py-1 rounded-full text-xs font-medium",children:[(0,t.jsx)(p.Z,{className:"h-3 w-3 mr-1"}),"Activa"]});case"paused":return(0,t.jsxs)("span",{className:"flex items-center text-yellow-600 bg-yellow-100 px-2 py-1 rounded-full text-xs font-medium",children:[(0,t.jsx)(x.Z,{className:"h-3 w-3 mr-1"}),"Pausa"]});case"expired":return(0,t.jsxs)("span",{className:"flex items-center text-gray-600 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium",children:[(0,t.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),"Expirada"]});default:return null}})(s.status)})]}),(0,t.jsx)("div",{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("div",{className:"flex-shrink-0 p-2 rounded-full ".concat(s.active?"bg-custom-green-100":"bg-gray-100"),children:(0,t.jsx)(g,{className:"h-5 w-5 ".concat(s.active?"text-custom-green-600":"text-gray-400")})}),(0,t.jsxs)("div",{className:"ml-3 flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:s.name}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500 line-clamp-2",children:s.description}),s.templateName&&(0,t.jsxs)("p",{className:"mt-1 text-xs text-gray-400",children:["Template: ",s.templateName]}),(0,t.jsxs)("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[(0,t.jsxs)("span",{className:"bg-custom-green-100 text-custom-green-800 px-2 py-0.5 rounded-full font-medium",children:[s.pointsRequired," puntos"]}),(0,t.jsxs)("span",{className:"ml-2",children:[s.expirationDays," d\xedas"]})]})]})]})}),(0,t.jsxs)("div",{className:"bg-gray-50 px-4 py-3 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"text-xs text-gray-500",children:[m(s.startDate)," - ",m(s.endDate)]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:e=>a(e),className:"p-1.5 bg-blue-100 rounded-full text-blue-600 hover:bg-blue-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Ver vista previa",children:(0,t.jsx)(eu.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("button",{ref:d,onClick:e=>{e.stopPropagation(),o(!i)},"aria-haspopup":"true","aria-expanded":i,"aria-controls":"status-menu",className:"p-1.5 flex items-center justify-center rounded-full hover:shadow transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9] ".concat((e=>{switch(e){case"active":return"bg-[#DCFCE7] border border-[#22C55E] text-[#15803D] hover:bg-[#BBF7D0]";case"paused":default:return"bg-[#FFF7CC] border border-[#FACC15] text-[#A16207] hover:bg-[#FDE68A]";case"expired":return"bg-gray-100 border border-gray-300 text-gray-500 hover:bg-gray-200"}})(s.status)),"aria-label":"Cambiar estado",children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,t.jsx)("path",{d:"M18.36 6.64a9 9 0 1 1-12.73 0"}),(0,t.jsx)("line",{x1:"12",y1:"2",x2:"12",y2:"12"})]})}),i&&(0,t.jsxs)("div",{ref:c,id:"status-menu",className:"absolute right-0 bottom-full mb-2 w-36 bg-white rounded-lg shadow-lg border border-gray-200 z-10",role:"menu",children:[(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-green-700 hover:bg-green-50 flex items-center rounded-t-lg focus:outline-none focus:bg-green-50",onClick:e=>{e.stopPropagation(),u("active")},role:"menuitem",disabled:"expired"===s.status,children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Activa"]}),(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-yellow-600 hover:bg-yellow-50 flex items-center focus:outline-none focus:bg-yellow-50",onClick:e=>{e.stopPropagation(),u("paused")},role:"menuitem",disabled:"expired"===s.status,children:[(0,t.jsx)(x.Z,{className:"h-4 w-4 mr-2"}),"Pausa"]}),(0,t.jsxs)("button",{className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 flex items-center rounded-b-lg focus:outline-none focus:bg-gray-50",onClick:e=>{e.stopPropagation(),u("expired")},role:"menuitem",children:[(0,t.jsx)(Z.Z,{className:"h-4 w-4 mr-2"}),"Expirada"]})]})]}),(0,t.jsx)("button",{onClick:e=>{e.stopPropagation(),n(s.id)},className:"p-1.5 bg-red-100 rounded-full text-red-600 hover:bg-red-200 transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#0EA5E9]","aria-label":"Eliminar campa\xf1a",children:(0,t.jsx)(C.Z,{className:"h-4 w-4"})})]})]})]})},ey=e=>{let{campaign:s,onClose:a}=e;if(!s)return null;let r=new Date,l=r.getHours(),i=r.getMinutes().toString().padStart(2,"0"),o="".concat(l,":").concat(i);return(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-md w-full mx-auto p-6 shadow-2xl",children:[(0,t.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})}),s.templateName&&(0,t.jsx)("div",{className:"mb-4 text-center",children:(0,t.jsx)("span",{className:"inline-block bg-custom-green-100 text-custom-green-800 px-3 py-1 rounded-full text-sm font-medium",children:s.templateName})}),(0,t.jsx)("div",{className:"relative mx-auto w-full max-w-[375px]",children:(0,t.jsxs)("div",{className:"bg-black rounded-[55px] p-2 shadow-xl overflow-hidden border-8 border-black",children:[(0,t.jsxs)("div",{className:"absolute top-0 left-1/2 transform -translate-x-1/2 z-50 bg-black w-[30%] h-[30px] rounded-b-[18px] flex items-center justify-center",children:[(0,t.jsx)("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 left-[15%]"}),(0,t.jsx)("div",{className:"absolute w-[50px] h-[6px] rounded-full bg-gray-800"}),(0,t.jsx)("div",{className:"absolute w-[10px] h-[10px] rounded-full bg-gray-700 right-[15%]"})]}),(0,t.jsxs)("div",{className:"relative bg-white rounded-[48px] overflow-hidden h-[650px]",children:[(0,t.jsxs)("div",{className:"sticky top-0 z-30 bg-white px-5 pt-8 pb-1 flex justify-between items-center",children:[(0,t.jsx)("div",{className:"text-black font-semibold",children:o}),(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"flex items-center space-x-1",children:(0,t.jsx)("div",{className:"h-3 w-3",children:(0,t.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{d:"M12 2C6.477 2 2 6.477 2 12C2 17.523 6.477 22 12 22C17.523 22 22 17.523 22 12C22 6.477 17.523 2 12 2Z",stroke:"black",strokeWidth:"1.5"}),(0,t.jsx)("path",{d:"M15 9C15 7.343 13.657 6 12 6C10.343 6 9 7.343 9 9C9 10.657 10.343 12 12 12C13.657 12 15 10.657 15 9Z",fill:"black"}),(0,t.jsx)("path",{d:"M5.5 19.5C7.5 17 9.5 15 12 15C14.5 15 16.5 17 18.5 19.5",stroke:"black",strokeWidth:"1.5",strokeLinecap:"round"})]})})}),(0,t.jsxs)("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[(0,t.jsx)("path",{d:"M3 7C3 5.89543 3.89543 5 5 5H19C20.1046 5 21 5.89543 21 7V17C21 18.1046 20.1046 19 19 19H5C3.89543 19 3 18.1046 3 17V7Z",stroke:"black",strokeWidth:"2"}),(0,t.jsx)("rect",{x:"6",y:"8",width:"12",height:"8",rx:"1",fill:"black"})]}),(0,t.jsx)("div",{className:"font-semibold text-sm",children:"100%"})]})]}),(0,t.jsxs)("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-8 w-auto mr-2"}),(0,t.jsx)("span",{className:"text-lg font-medium text-gray-800",children:"Holy Cow"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-full",children:(0,t.jsx)(M.Z,{className:"h-4 w-4 text-gray-600"})}),(0,t.jsx)("div",{className:"p-1.5 bg-gray-100 rounded-full",children:(0,t.jsx)(eg.Z,{className:"h-4 w-4 text-gray-600"})})]})]}),(0,t.jsxs)("div",{className:"overflow-y-auto h-[calc(100%-110px)]",children:[(0,t.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center",children:[(0,t.jsx)("img",{src:"/holycow-logo.png",alt:"Holy Cow Logo",className:"h-16 mx-auto mb-2"}),(0,t.jsx)("p",{className:"text-xs uppercase tracking-widest mt-2",children:"BURGER & BEER JOINT"})]}),(0,t.jsx)("div",{className:"bg-[#E53935] text-white px-6 py-3 text-center",children:(0,t.jsx)("p",{className:"text-sm font-bold uppercase tracking-wide",children:"\xa1OFERTA ESPECIAL PARA TI!"})}),(0,t.jsx)("div",{className:"w-full",children:(0,t.jsx)("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"})}),(0,t.jsxs)("div",{className:"px-6 py-6 bg-white",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-[#2D2D2D] text-center mb-4",children:s.emailSubject}),(0,t.jsx)("p",{className:"text-gray-700 mb-6 text-center",children:s.emailBody}),(0,t.jsx)("div",{className:"flex justify-center mb-6",children:(0,t.jsx)("button",{className:"bg-[#E53935] hover:bg-[#D32F2F] text-white font-bold py-3 px-8 rounded-lg shadow-md transition-all",children:s.cta})}),s.pointsRequired&&(0,t.jsx)("div",{className:"text-center mb-6",children:(0,t.jsxs)("span",{className:"inline-block bg-[#FFECB3] text-[#E65100] px-4 py-2 rounded-full font-medium text-sm",children:[s.pointsRequired," puntos"]})}),(0,t.jsx)("div",{className:"border-t border-gray-200 my-6"}),(0,t.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,t.jsx)("h3",{className:"font-bold text-[#2D2D2D] text-sm mb-2",children:"DETALLES DE LA PROMOCI\xd3N:"}),(0,t.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,t.jsx)(c.Z,{className:"h-4 w-4 mr-2 text-[#E53935]"}),(0,t.jsxs)("span",{children:["V\xe1lido hasta:"," ",new Date(s.endDate).toLocaleDateString()]})]}),(0,t.jsxs)("p",{className:"text-xs text-gray-600 mt-2",children:[(0,t.jsx)("span",{className:"font-medium",children:"T\xe9rminos y condiciones:"}),(0,t.jsx)("br",{}),s.conditions]})]}),(0,t.jsxs)("div",{className:"text-center text-xs text-gray-500",children:[(0,t.jsx)("p",{className:"font-medium text-[#2D2D2D] mb-1",children:"HOLY COW BURGER & BEER JOINT"}),(0,t.jsx)("p",{children:"Av. Principal 123, Ciudad de M\xe9xico"}),(0,t.jsx)("p",{children:"Tel: 555-123-4567"})]})]}),(0,t.jsxs)("div",{className:"bg-[#2D2D2D] text-white px-6 py-4 text-center text-xs",children:[(0,t.jsx)("p",{className:"mb-2",children:"\xa9 2023 Holy Cow. Todos los derechos reservados."}),(0,t.jsxs)("p",{children:["Si no deseas recibir m\xe1s correos, haz clic"," ",(0,t.jsx)("a",{href:"#",className:"underline",children:"aqu\xed"})," ","para darte de baja."]})]})]})]}),(0,t.jsx)("div",{className:"absolute bottom-1 left-1/2 transform -translate-x-1/2 w-[30%] h-[5px] bg-gray-800 rounded-full"})]})})]})]})},eN=e=>{let{isOpen:s,onClose:a,currentPlan:r="B\xe1sico"}=e;return s?(0,t.jsxs)("div",{className:"fixed inset-0 overflow-y-auto z-50 flex items-center justify-center",children:[(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 backdrop-blur-[2px]",onClick:a}),(0,t.jsxs)("div",{className:"relative bg-white rounded-2xl max-w-3xl w-full mx-auto p-6 shadow-2xl",children:[(0,t.jsx)("button",{onClick:a,className:"absolute top-3 right-3 text-gray-400 hover:text-gray-500 z-10 p-2 rounded-full hover:bg-gray-100 transition-colors",children:(0,t.jsx)(n.Z,{className:"h-6 w-6"})}),(0,t.jsxs)("div",{className:"mb-6 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Planes de Gesti\xf3n"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"Selecciona el plan que mejor se adapte a tus necesidades"})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-3 mb-6",children:[{name:"B\xe1sico",price:"Gratis",features:["1 campa\xf1a activa por mes","Estad\xedsticas b\xe1sicas","Soporte por email"]},{name:"Premium",price:"$15 USD",features:["Hasta 5 campa\xf1as por mes","Estad\xedsticas avanzadas","Segmentaci\xf3n de clientes","Soporte prioritario"]},{name:"Ultra",price:"$30 USD",features:["Hasta 10 campa\xf1as por mes","Estad\xedsticas en tiempo real","Segmentaci\xf3n avanzada","Soporte 24/7","API de integraci\xf3n"]}].map(e=>(0,t.jsx)("div",{className:"bg-white rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 hover:shadow-lg ".concat(e.name===r?"border-2 border-custom-green-600 bg-custom-green-100/30":"border border-gray-200 hover:border-custom-green-200"),children:(0,t.jsxs)("div",{className:"p-5",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:e.name}),(0,t.jsx)("p",{className:"text-2xl font-bold text-custom-green-600 mb-4",children:e.price}),(0,t.jsx)("ul",{className:"space-y-2 mb-6",children:e.features.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-start",children:[(0,t.jsx)("span",{className:"flex-shrink-0 h-5 w-5 text-custom-green-600",children:(0,t.jsx)("svg",{viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),(0,t.jsx)("span",{className:"ml-2 text-sm text-gray-600",children:e})]},s))}),(0,t.jsx)("button",{className:"w-full py-2 px-4 rounded-md text-sm font-medium transition-colors ".concat(e.name===r?"bg-custom-green-600 text-white cursor-default":"bg-white border border-custom-green-600 text-custom-green-600 hover:bg-custom-green-50"),disabled:e.name===r,children:e.name===r?"Plan Actual":"Seleccionar Plan"})]})},e.name))})]})]}):null};var ew=()=>{let[e,s]=(0,r.useState)(ep),[a,l]=(0,r.useState)("all"),[n,i]=(0,r.useState)(null),[o,c]=(0,r.useState)(!1),[d,m]=(0,r.useState)(!1),[u,g]=(0,r.useState)(null),[h,b]=(0,r.useState)(!1),[j,y]=(0,r.useState)(!1),[w,C]=(0,r.useState)(!1),[k,S]=(0,r.useState)(!1),[E,D]=(0,r.useState)(eb),[_,T]=(0,r.useState)(ef),[P,q]=(0,r.useState)({name:"",selectedSegment:null,selectedTemplate:null}),z=e.filter(e=>"all"===a||e.status===a),M=e.length,F=e.filter(e=>"active"===e.status).length,B=e.filter(e=>"paused"===e.status).length,I=e.filter(e=>"expired"===e.status).length,L=(e,a)=>{s(s=>s.map(s=>s.id===e?{...s,status:a}:s))},O=e=>{window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta campa\xf1a?")&&s(s=>s.filter(s=>s.id!==e))},$=e=>{i(e)},U=e=>{g(e),m(!0)};return(0,t.jsxs)("div",{className:"w-full bg-gray-50 min-h-screen",children:[(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Scala - Gesti\xf3n de Recompensas"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Gestiona tus campa\xf1as de recompensas y fidelizaci\xf3n"})]}),(0,t.jsxs)("div",{className:"flex space-x-3",children:[(0,t.jsx)("button",{onClick:()=>c(!0),className:"bg-white border border-gray-300 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-50 transition-colors",children:"Ver Planes"}),(0,t.jsxs)("button",{onClick:()=>{b(!0)},className:"bg-custom-green-600 text-white px-4 py-2 rounded-md hover:bg-custom-green-700 transition-colors flex items-center",children:[(0,t.jsx)(eh.Z,{className:"h-5 w-5 mr-2"}),"Nueva Campa\xf1a"]})]})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-8",children:[(0,t.jsx)(ej,{label:"Todas",count:M,active:"all"===a,onClick:()=>l("all"),icon:(0,t.jsx)(v.Z,{className:"h-6 w-6"})}),(0,t.jsx)(ej,{label:"Activas",count:F,active:"active"===a,onClick:()=>l("active"),icon:(0,t.jsx)(p.Z,{className:"h-6 w-6 text-green-500"})}),(0,t.jsx)(ej,{label:"Pausadas",count:B,active:"paused"===a,onClick:()=>l("paused"),icon:(0,t.jsx)(x.Z,{className:"h-6 w-6 text-yellow-500"})}),(0,t.jsx)(ej,{label:"Expiradas",count:I,active:"expired"===a,onClick:()=>l("expired"),icon:(0,t.jsx)(Z.Z,{className:"h-6 w-6 text-gray-500"})})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:z.map(e=>(0,t.jsx)("div",{onClick:()=>U(e),className:"cursor-pointer",children:(0,t.jsx)(ev,{campaign:e,onPreview:s=>{s.stopPropagation(),$(e)},onToggleActive:(e,s)=>{L(e,s)},onDelete:e=>{O(e)}})},e.id))}),0===z.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(ed.Z,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,t.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No hay campa\xf1as"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"No se encontraron campa\xf1as para el filtro seleccionado."})]})]}),n&&(0,t.jsx)(ey,{campaign:n,onClose:()=>i(null)}),(0,t.jsx)(ec,{isOpen:d,onClose:()=>m(!1),campaign:u}),(0,t.jsx)(eN,{isOpen:o,onClose:()=>c(!1),currentPlan:"B\xe1sico"}),(0,t.jsx)(N,{isOpen:h,onClose:()=>{b(!1)},onCreateSegment:()=>{b(!1),y(!0)},onDesignTemplate:()=>{b(!1),C(!0)},onNext:(e,s,a)=>{q({name:e,selectedSegment:s,selectedTemplate:a}),b(!1),S(!0)},savedSegments:E,savedTemplates:_}),(0,t.jsx)(f,{isOpen:j,onClose:()=>{y(!1),b(!0)},onApplySegment:e=>{E.find(s=>s.segment_name===e.segment_name)||D([...E,{...e,id:Date.now()}]),y(!1),b(!0)}}),(0,t.jsx)(A,{isOpen:w,onClose:()=>{C(!1),b(!0)},onSave:e=>{T([..._,e]),C(!1),b(!0)}}),(0,t.jsx)(R,{isOpen:k,onClose:()=>{S(!1)},onCreateCampaign:a=>{var t,r;s([...e,{id:Date.now(),name:P.name,description:"Nueva campa\xf1a creada",pointsRequired:100,expirationDays:30,active:!0,status:"active",icon:"award",image:(null===(t=P.selectedTemplate)||void 0===t?void 0:t.image)||"https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=60",emailSubject:P.name,emailBody:"Descripci\xf3n de la campa\xf1a",startDate:a.startDate,endDate:a.endDate,conditions:a.rewardCode?"Usa el c\xf3digo ".concat(a.rewardCode," para obtener ").concat(a.discountPercentage,"% de descuento"):"T\xe9rminos y condiciones aplican",cta:"Ver m\xe1s",templateName:P.selectedTemplate?P.selectedTemplate.name:"Template predeterminado",sent:!1,deliveryMethods:a.deliveryMethods,segment:(null===(r=P.selectedSegment)||void 0===r?void 0:r.segment_name)||"Todos los clientes"}]),S(!1)},campaignName:P.name,selectedSegment:P.selectedSegment,selectedTemplate:P.selectedTemplate})]})}}},function(e){e.O(0,[630,712,242,462,888,774,179],function(){return e(e.s=6605)}),_N_E=e.O()}]);